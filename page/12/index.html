<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://github.com/Cccceb/Cccceb.github.io').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Ceb">
<meta property="og:url" content="https://github.com/Cccceb/Cccceb.github.io/page/12/index.html">
<meta property="og:site_name" content="Ceb">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Cuienbo">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://github.com/Cccceb/Cccceb.github.io/page/12/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Ceb</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a href="https://github.com/you"><img style="position:absolute;" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_left_gray_6d6d6d.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>  
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ceb</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC15%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC15%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第15讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:21:52" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="运动恢复结构-SFM"><a href="#运动恢复结构-SFM" class="headerlink" title="运动恢复结构 SFM"></a>运动恢复结构 SFM</h1><ol>
<li>目的：输入一对匹配点的图像坐标，输出这个点的三维坐标及相机内外参数(可能的话)。同时使得目标函数具有最小化重投影误差。</li>
<li>过程：<ol>
<li>特征检测与匹配</li>
<li>匹配每对图像之间的特征</li>
<li>用 RANSAC 优化匹配以估计各对之间的基本矩阵</li>
</ol>
</li>
</ol>
<h2 id="目标函数"><a href="#目标函数" class="headerlink" title="目标函数"></a>目标函数</h2><img src="/CV_img/15-1.png" style="zoom:80%">

<ol>
<li>目标是使重投影误差平方和最小</li>
<li>P(xi,Rj,tj)表示把Xi这个点投影到第j个相机。</li>
<li>Wij：=1代表三维点在图像中出现了；=0代表没出现。</li>
<li>解不唯一。</li>
</ol>
<h2 id="重复结构问题的解决"><a href="#重复结构问题的解决" class="headerlink" title="重复结构问题的解决"></a>重复结构问题的解决</h2><ol>
<li>预处理：删除不一致的场景图边缘</li>
<li>后处理：识别和更正重复的结构</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC16%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC16%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第16讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:25:47" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="立体视觉"><a href="#立体视觉" class="headerlink" title="立体视觉"></a>立体视觉</h1><p>通过多个角度拍摄的标定过 的图像，进行3D对象建模。###</p>
<h1 id="多视图立体视觉"><a href="#多视图立体视觉" class="headerlink" title="多视图立体视觉"></a>多视图立体视觉</h1><ol>
<li>需要多视图原因<ol>
<li>可能有某些区域的特写</li>
<li>某些表面在某些视图中缩小了</li>
<li>某些点可能在某些视图中完全消失。</li>
<li>多次测量同一个点可以减小误差。</li>
</ol>
</li>
</ol>
<h1 id="多基线立体视觉"><a href="#多基线立体视觉" class="headerlink" title="多基线立体视觉"></a>多基线立体视觉</h1><p>将几台相机矫正到同一共同平面上。可能有宽基线和扭曲问题。</p>
<h2 id="选择立体视图基线"><a href="#选择立体视图基线" class="headerlink" title="选择立体视图基线"></a>选择立体视图基线</h2><img src="/CV_img/16-1.png" height="5%" width="%5">

<img src="/CV_img/16-2.png" height="5%" width="%5">

<ol>
<li>基线太小导致深度误差大</li>
<li>基线太大大致搜索范围大，计算复杂度提高。</li>
</ol>
<h2 id="基本方法"><a href="#基本方法" class="headerlink" title="基本方法"></a>基本方法</h2><ol>
<li>选择参考视图</li>
<li>使用立体视图算法，但将其中双视图SSD换成SSSD(SUM SSD)</li>
</ol>
<h3 id="限制"><a href="#限制" class="headerlink" title="限制"></a>限制</h3><ol>
<li>只能给出深度图，不能给出对象模型</li>
<li>不适用于广泛分布的视图</li>
</ol>
<h1 id="照片一致性评分"><a href="#照片一致性评分" class="headerlink" title="照片一致性评分"></a>照片一致性评分</h1><h2 id="衡量函数"><a href="#衡量函数" class="headerlink" title="衡量函数"></a>衡量函数</h2><ol>
<li><p>SSD</p>
 <img src="/CV_img/16-3.png" height="5%" width="%5">
</li>
<li><p>SAD</p>
 <img src="/CV_img/16-4.png" height="5%" width="%5">
</li>
<li><p>ZNCC</p>
 <img src="/CV_img/16-5.png" height="5%" width="%5">

</li>
</ol>
<h1 id="平面扫描立体视觉"><a href="#平面扫描立体视觉" class="headerlink" title="平面扫描立体视觉"></a>平面扫描立体视觉</h1><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><img src="/CV_img/16-6.png" height="5%" width="%5">

<ol>
<li><p>相机1系即世界坐标系，相机1为参考相机</p>
</li>
<li><p>深度平面</p>
 <img src="/CV_img/16-7.png" height="5%" width="%5">

<ol>
<li>其中n<sub>m</sub>为深度平面的法向量</li>
<li>平面表示为ax+by+cz+d=0</li>
<li>点到平面距离dm=&radic;a<sup>2</sup>+b<sup>2</sup>+c<sup>2</sup>?</li>
</ol>
</li>
<li><p>从参考相机Pref映射到深度平<br>面Πm，再映射到相机Pk的单应<br>映射为</p>
 <img src="/CV_img/16-8.png" height="5%" width="%5">

</li>
</ol>
<h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><img src="/CV_img/16-9.png" height="5%" width="%5">

<h3 id="参考平面"><a href="#参考平面" class="headerlink" title="参考平面"></a>参考平面</h3><ol>
<li><p>与成像平面平行</p>
 <img src="/CV_img/16-10.png" height="5%" width="%5">
</li>
<li><p>其他方向</p>
 <img src="/CV_img/16-11.png" height="5%" width="%5">

</li>
</ol>
<h1 id="深度图融合"><a href="#深度图融合" class="headerlink" title="深度图融合"></a>深度图融合</h1><p>方法</p>
<ol>
<li>使用多基线方法计算一个深度图</li>
<li>体积融合</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC10%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC10%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第10讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:21:58" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="相机成像原理"><a href="#相机成像原理" class="headerlink" title="相机成像原理"></a>相机成像原理</h1><ol>
<li><p>为什么不使光圈尽可能小?<br> （1）使光线减少 （2）衍射影响</p>
</li>
<li><p>人的眼睛：瞳孔相当于光圈；视网膜上的感光细胞相当于胶片。</p>
<h2 id="相机模型"><a href="#相机模型" class="headerlink" title="相机模型"></a>相机模型</h2></li>
<li><p>投影建模</p>
 <img src="/CV_img/10_1.png" style="zoom:80%">
 1. 将相机近似为针孔模型
 2. 把小孔的位置设在原点
 3. 将图像平面放在投影中心COP的前面(为了得到正立的相)
 4. 相机向负z轴看去(右手坐标系下)</li>
<li><p>投影方程</p>
 <img src="/CV_img/10_2.png" style="zoom:80%">

<ol>
<li><p>不是线性变换—-&gt;采用3D齐次坐标。</p>
 <img src="/CV_img/10_3.png" style="zoom:80%"></li>
</ol>
</li>
<li><p>透视投影</p>
<ol>
<li><p>投影是使用齐次坐标的矩阵乘法：</p>
 <img src="/CV_img/10_4.png" style="zoom:80%">
</li>
<li><p>改变投影变换的吃尺度对变换没有影响</p>
 <img src="/CV_img/10_5.png" style="zoom:80%"></li>
</ol>
</li>
<li><p>正交投影（平行投影）</p>
<ol>
<li><p>是透视投影的特殊情况：当光学中心COP到投影平面PP的距离是无限的时候。（1/d = 0）</p>
 <img src="/CV_img/10_6.png" style="zoom:80%">
##  正交投影的变体</li>
</ol>
</li>
<li><p>缩放正交（弱透视）</p>
<p> 相当于在物体聚焦到角点前就将图像截获。</p>
 <img src="/CV_img/10_7.png" style="zoom:80%">

<p> 分两步: </p>
<ol>
<li>第一步：整个物体按平行于光轴的方向正交投影到经过物体质心并与图像平面平行的平面上。</li>
<li>第二步：再按透视模型投影到图像平面上，这一步实际是全局的缩放。</li>
</ol>
</li>
<li><p>仿射投影</p>
 <img src="/CV_img/10_8.png" style="zoom:80%">

<p> 分两步：</p>
<ol>
<li>仍把物体平行投影到过质心且与图象平面平行的平面上，不过这次的投影线不是平行于光轴，而是平行于光心C和物体质心G的连线CG；</li>
<li>再按透视模型投影到图象平面上。</li>
</ol>
</li>
<li><p>总结</p>
</li>
</ol>
<img src="/CV_img/10_9.png" style="zoom:80%">

<h2 id="降维"><a href="#降维" class="headerlink" title="降维"></a>降维</h2><ol>
<li><p>投影属性</p>
<ol>
<li><p>多对一：同一光线上的所有点映射到图像中的同一点。</p>
</li>
<li><p>点-&gt;点，线-&gt;线（通过角点的线变成一个点）</p>
</li>
<li><p>平面-&gt;平面（通过角点的平面变成一条线）</p>
</li>
<li><p>平行线在消失点汇合</p>
<ol>
<li>每个方向在空间中都有他自己的消失点，但平行于图像平面的平行线保持平行。</li>
</ol>
<img src="/CV_img/10_10.png" style="zoom:80%">
##  相机参数
现在我们要将世界坐标系中的一个点投影到相机坐标系中。我们需要知道相机在世界坐标系中的位置和方向。然后透视投影到图像平面上以获得像素坐标。
</li>
</ol>
</li>
<li><p>相机内参数</p>
<ol>
<li>从世界坐标系原点到光心COP的平移变换T</li>
<li>描述相机方向的旋转变换R</li>
<li>焦距f、主点(x,y)、像素大小（sx,sy）</li>
</ol>
</li>
<li> <img src="/CV_img/10_11.png" style="zoom:80%">

<p> ·</p>
<p> ·</p>
 <img src="/CV_img/10_12.png" style="zoom:80%">

<p> 这个公式要从右向左看</p>
<ol>
<li>平移矩阵即是将相机原点与世界原点重合。</li>
<li>第二步旋转，是将相机坐标系的三个轴旋转到与世界坐标系坐标轴平行。</li>
<li>第三步是将世界坐标系中的三维点透过光心进行投影。</li>
<li>第四步是使用相机内参数将图像变成离散的坐标。</li>
<li><strong>注意</strong> 该公式中对投影变换进行了拆分，，一部分与内参数乘在了一起。</li>
</ol>
</li>
</ol>
<h2 id="外参数—让相机规范化"><a href="#外参数—让相机规范化" class="headerlink" title="外参数—让相机规范化"></a>外参数—让相机规范化</h2><ol>
<li><p>第一步 平移-c，将相机坐标系原点与世界坐标系原点重合。</p>
 <img src="/CV_img/10_15.png" style="zoom:80%">

<p> 其中c为相机坐标原点在世界坐标系中的坐标[[tx,ty,tz]].T</p>
</li>
<li><p>第二步 旋转R， 将相机坐标系的轴旋转到与世界坐标系轴平行。</p>
 <img src="/CV_img/10_16.png" style="zoom:80%">

</li>
</ol>
<h2 id="透视投影"><a href="#透视投影" class="headerlink" title="透视投影"></a>透视投影</h2><img src="/CV_img/10_17.png" style="zoom:80%">

<h2 id="投影矩阵"><a href="#投影矩阵" class="headerlink" title="投影矩阵"></a>投影矩阵</h2><img src="/CV_img/10_18.png" style="zoom:80%">

<p><strong>注：</strong></p>
<ol>
<li><p>平移的三个参数是相机原点在世界坐标系中的坐标。</p>
</li>
<li><p>旋转的三个参数是相机坐标系的坐标轴在用世界坐标系的方向向量来表达的向量坐标的转置。</p>
</li>
<li><p><strong>将投影矩阵乘开</strong></p>
</li>
</ol>
<img src="/CV_img/10_19.png" style="zoom:80%">

<img src="/CV_img/10_13.png" style="zoom:80%">

<h2 id="透视失真"><a href="#透视失真" class="headerlink" title="透视失真"></a>透视失真</h2><ol>
<li>梯形失真</li>
<li>仰拍导致。解决：移轴镜头</li>
<li>外侧列更大</li>
<li>镜头失真：枕型，桶型–&gt;由不完美镜头引起</li>
<li><strong>修正径向畸变</strong><img src="/CV_img/10_14.png" style="zoom:80%"></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC11%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC11%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第11讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:21:58" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="创建全景图"><a href="#创建全景图" class="headerlink" title="创建全景图"></a>创建全景图</h1><h2 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h2><ol>
<li>从同一位置拍摄一系列图像。<strong>光心不动</strong></li>
<li>计算第二个图像与第一个映像之间的变换。</li>
<li>变换第二个图像与第一个图像部分重合</li>
<li>将二者融合在一起创建拼图。</li>
<li>多个图像重复上述过程</li>
</ol>
<img src="/CV_img/11_1.png" style="zoom:80%">
##  变换矩阵

<img src="/CV_img/11_2.png" style="zoom:80%">

<img src="/CV_img/11_3.png" style="zoom:80%">

<p>注：</p>
<ol>
<li>图像平面一般以主点为圆心。</li>
<li>相机1的坐标系为世界坐标系。<h2 id="360°全景图"><a href="#360°全景图" class="headerlink" title="360°全景图"></a>360°全景图</h2>使用拼图投影球</li>
</ol>
<img src="/CV_img/11_4.png" style="zoom:80%">

<p>注：</p>
<ol>
<li>球面坐标：弧长</li>
<li>s为投影球半径<h2 id="装配全景图"><a href="#装配全景图" class="headerlink" title="装配全景图"></a>装配全景图</h2></li>
<li>过程：拼接，融合，裁剪</li>
<li>问题：出现漂移</li>
<li>解决</li>
</ol>
<img src="/CV_img/11_5.png" style="zoom:80%">

<h2 id="图像融合"><a href="#图像融合" class="headerlink" title="图像融合"></a>图像融合</h2><ol>
<li><p>使用羽化</p>
<ol>
<li>窗口大小影响羽化效果。<ol>
<li>窗口大小为0和直接拼接一样</li>
<li>良好的窗口应该是平滑且没有虚影的。</li>
</ol>
</li>
</ol>
</li>
<li><p>金字塔混合<br> 使用拉普拉斯金子塔在各层次上融合，最终叠加。</p>
<p> 拉普拉斯金字塔</p>
 <img src="/CV_img/11_6.png" style="zoom:80%">
</li>
<li><p>Alpha混合</p>
<img src="/CV_img/11_7.png" style="zoom:80%">
</li>
<li><p>泊松图像编辑</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC12%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC12%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第12讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:21:57" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="点和线"><a href="#点和线" class="headerlink" title="点和线"></a>点和线</h1><h2 id="点和线的对偶性"><a href="#点和线的对偶性" class="headerlink" title="点和线的对偶性"></a>点和线的对偶性</h2><img src="/CV_img/12_1.png" style="zoom:70%">

<ol>
<li>对于线上的每一点P,有I·P=0    （面上一点同理）</li>
<li>由射线P1和P2决定的线I,有I=P1×P2</li>
<li>两条线I1和I2的交点P，有P=I1×I2</li>
</ol>
<h2 id="理想的点和线"><a href="#理想的点和线" class="headerlink" title="理想的点和线"></a>理想的点和线</h2><img src="/CV_img/12_2.png" style="zoom:70%">

<ol>
<li><p>理想点（无穷远点）</p>
<ol>
<li>P(x,y,0)平行于图像平面</li>
<li>有无限的图像坐标</li>
</ol>
</li>
<li><p>理想线</p>
<ol>
<li>I(a,b,0)平行于图像平面</li>
<li>对应于图像平面过主点的一条线</li>
<li>由ax+by=0组成的线</li>
</ol>
</li>
</ol>
<h2 id="面和点的对偶性"><a href="#面和点的对偶性" class="headerlink" title="面和点的对偶性"></a>面和点的对偶性</h2><ol>
<li>一个平面可以用四维向量表示</li>
<li>点和平面是对偶的：N·P=0</li>
<li>三点定义一个平面，三个平面定义一个点</li>
</ol>
<h1 id="透视投影"><a href="#透视投影" class="headerlink" title="透视投影"></a>透视投影</h1><img src="/CV_img/12_3.png" style="zoom:40%">

<h2 id="消失点-1D"><a href="#消失点-1D" class="headerlink" title="消失点 1D"></a>消失点 1D</h2><img src="/CV_img/12_4.png" style="zoom:40%">

<ol>
<li>消失点：<ol>
<li>是无穷处一个点的投影</li>
<li>通常投影到图像中的一个有限点</li>
</ol>
</li>
</ol>
<h2 id="消失点-2D"><a href="#消失点-2D" class="headerlink" title="消失点 2D"></a>消失点 2D</h2><img src="/CV_img/12_5.png" style="zoom:40%">
##  消失点 3D
<img src="/CV_img/12_6.png" style="zoom:40%">

<ol>
<li>特性<ol>
<li>任意两条平行线都有相同的消失点V</li>
<li>从光心C通过消失点V的射线与那些平行线平行</li>
<li>图像可能有多个消失点</li>
</ol>
</li>
</ol>
<h2 id="消失线"><a href="#消失线" class="headerlink" title="消失线"></a>消失线</h2><img src="/CV_img/12_7.png" style="zoom:40%">

<ol>
<li>平面上任意一组平行线都定义一个消失点</li>
<li>消失点的联合就是消失线(地平线)</li>
<li>不同平面可以定义不同的消失线</li>
</ol>
<h2 id="计算消失点"><a href="#计算消失点" class="headerlink" title="计算消失点"></a>计算消失点</h2><img src="/CV_img/12_8.png" style="zoom:40%">

<p>v = ΠP<sub>∞</sub></p>
<ol>
<li><p>解释：</p>
<ol>
<li>先得到一条射线Px，其中t是一个自由变化的系数，D是方向向量</li>
<li>将t-&gt;∞代入，得到P<sub>∞</sub></li>
<li>将P<sub>∞</sub>投影到成像平面</li>
</ol>
</li>
<li><p>特性：</p>
<ol>
<li>P<sub>∞</sub> 是无穷远处的一个点，v是其投影</li>
<li>仅取决于线的方向</li>
<li>平行线P<sub>0</sub>+tD和P<sub>1</sub>+tD相交于P<sub>∞</sub></li>
</ol>
</li>
</ol>
<ol start="2">
<li><img src="/CV_img/12_10.png" style="zoom:40%">
##  计算消失线


</li>
</ol>
<img src="/CV_img/12_9.png" style="zoom:40%">

<p>作平行于地面平面且过C的平面与投影平面的交线。</p>
<ol>
<li>特性<ol>
<li>I是通过C的水平平面与图像平面的交集</li>
<li>可以通过地面平面上的两组平行线计算I</li>
<li>所有与光心C同样高度的点投影到I上</li>
<li>提供了比较场景中对象高度的方法</li>
</ol>
</li>
</ol>
<h1 id="通过参照物测量高度"><a href="#通过参照物测量高度" class="headerlink" title="通过参照物测量高度"></a>通过参照物测量高度</h1><ol>
<li><p>交叉比—射影不变量</p>
 <img src="/CV_img/12_11.png" style="zoom:40%">
</li>
<li><p>测量高度</p>
 <img src="/CV_img/12_12.png" style="zoom:40%">
</li>
<li><p>实际</p>
 <img src="/CV_img/12_13.png" style="zoom:40%"></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/UVA%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/UVA%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">UVA习题笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-20 11:55:25" itemprop="dateCreated datePublished" datetime="2020-01-20T11:55:25+08:00">2020-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-16 11:40:46" itemprop="dateModified" datetime="2020-02-16T11:40:46+08:00">2020-02-16</time>
              </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="完整源代码见代码仓库"><a href="#完整源代码见代码仓库" class="headerlink" title="完整源代码见代码仓库"></a><a href="https://github.com/Cccceb/UvaCode">完整源代码见代码仓库</a></h2><h2 id="排序与检索"><a href="#排序与检索" class="headerlink" title="排序与检索"></a><a href="/2020/01/27/排序与检索">排序与检索</a></h2><h2 id="空间结构"><a href="#空间结构" class="headerlink" title="空间结构"></a><a href="/2020/01/20/空间结构/">空间结构</a></h2><h2 id="带宽"><a href="#带宽" class="headerlink" title="带宽"></a><a href="/2020/01/20/带宽/">带宽</a></h2><h2 id="并行程序模拟"><a href="#并行程序模拟" class="headerlink" title="并行程序模拟"></a><a href="/2020/01/20/并行程序模拟/">并行程序模拟</a></h2><h2 id="集合栈计算机"><a href="#集合栈计算机" class="headerlink" title="集合栈计算机"></a><a href="/2020/01/20/集合栈计算机/">集合栈计算机</a></h2><h2 id="网格动物"><a href="#网格动物" class="headerlink" title="网格动物"></a><a href="/2020/01/20/网格动物/">网格动物</a></h2><h2 id="移动木块"><a href="#移动木块" class="headerlink" title="移动木块"></a><a href="/2020/01/20/移动木块/">移动木块</a></h2><h2 id="编辑书稿"><a href="#编辑书稿" class="headerlink" title="编辑书稿"></a><a href="/2020/01/20/编辑书稿/">编辑书稿</a></h2><h2 id="切断圆环链"><a href="#切断圆环链" class="headerlink" title="切断圆环链"></a><a href="/2020/01/22/切断圆环链/">切断圆环链</a></h2><h2 id="两亲性分子"><a href="#两亲性分子" class="headerlink" title="两亲性分子"></a><a href="/2020/01/29/两亲性分子/">两亲性分子</a></h2><h2 id="传说中的车"><a href="#传说中的车" class="headerlink" title="传说中的车"></a><a href="/2020/01/29/传说中的车/">传说中的车</a></h2><h2 id="和为0的4个值"><a href="#和为0的4个值" class="headerlink" title="和为0的4个值"></a><a href="/2020/01/29/和为0的4个值/">和为0的4个值</a></h2><h2 id="素数环"><a href="#素数环" class="headerlink" title="素数环"></a><a href="/2020/01/24/素数环/">素数环</a></h2><h2 id="多米诺效应"><a href="#多米诺效应" class="headerlink" title="多米诺效应"></a><a href="/2020/01/22/多米诺效应/">多米诺效应</a></h2><h2 id="唯一的雪花"><a href="#唯一的雪花" class="headerlink" title="唯一的雪花"></a><a href="/2020/01/29/唯一的雪花/">唯一的雪花</a></h2><h2 id="滑动窗口最小问题"><a href="#滑动窗口最小问题" class="headerlink" title="滑动窗口最小问题"></a><a href="/2020/01/29/滑动窗口最小问题/">滑动窗口最小问题</a></h2><h2 id="煎饼"><a href="#煎饼" class="headerlink" title="煎饼"></a><a href="/2020/01/29/煎饼/">煎饼</a></h2><h2 id="邮件传输代理的交互"><a href="#邮件传输代理的交互" class="headerlink" title="邮件传输代理的交互"></a><a href="/2020/01/20/邮件传输代理的交互/">邮件传输代理的交互</a></h2><h2 id="倒水问题"><a href="#倒水问题" class="headerlink" title="倒水问题"></a><a href="/2020/01/23/倒水问题/">倒水问题</a></h2><h2 id="困难的串"><a href="#困难的串" class="headerlink" title="困难的串"></a><a href="/2020/01/23/困难的串/">困难的串</a></h2><h2 id="战场"><a href="#战场" class="headerlink" title="战场"></a><a href="/2020/01/24/战场/">战场</a></h2><h2 id="最大连续和问题"><a href="#最大连续和问题" class="headerlink" title="最大连续和问题"></a><a href="/2020/01/24/最大连续和问题/">最大连续和问题</a></h2><h2 id="流水线调度"><a href="#流水线调度" class="headerlink" title="流水线调度"></a><a href="/2020/01/23/流水线调度/">流水线调度</a></h2><h2 id="黄金图形"><a href="#黄金图形" class="headerlink" title="黄金图形"></a><a href="/2020/01/20/黄金图形/">黄金图形</a></h2><h2 id="联合国大楼"><a href="#联合国大楼" class="headerlink" title="联合国大楼"></a><a href="/2020/01/29/联合国大楼/">联合国大楼</a></h2><h2 id="Abbott的复仇"><a href="#Abbott的复仇" class="headerlink" title="Abbott的复仇"></a><a href="/2020/01/20/Abbott的复仇/">Abbott的复仇</a></h2><h2 id="Shuffle的播放记录"><a href="#Shuffle的播放记录" class="headerlink" title="Shuffle的播放记录"></a><a href="/2020/02/04/Shuffle的播放记录/">Shuffle的播放记录</a></h2><h2 id="不公平竞赛"><a href="#不公平竞赛" class="headerlink" title="不公平竞赛"></a><a href="/2020/02/04/不公平竞赛/">不公平竞赛</a></h2><h2 id="理想路径"><a href="#理想路径" class="headerlink" title="理想路径"></a><a href="/2020/02/16/理想路径/">理想路径</a></h2><h2 id="不无聊的序列"><a href="#不无聊的序列" class="headerlink" title="不无聊的序列"></a><a href="/2020/02/04/不无聊的序列/">不无聊的序列</a></h2><h2 id="与非门电路"><a href="#与非门电路" class="headerlink" title="与非门电路"></a><a href="/2020/02/04/与非门电路/">与非门电路</a></h2><h2 id="奇怪的气球膨胀"><a href="#奇怪的气球膨胀" class="headerlink" title="奇怪的气球膨胀"></a><a href="/2020/02/04/奇怪的气球膨胀/">奇怪的气球膨胀</a></h2><h2 id="平均值"><a href="#平均值" class="headerlink" title="平均值"></a><a href="/2020/02/04/平均值/">平均值</a></h2><h2 id="抄书"><a href="#抄书" class="headerlink" title="抄书"></a><a href="/2020/02/04/抄书/">抄书</a></h2><h2 id="环形跑道"><a href="#环形跑道" class="headerlink" title="环形跑道"></a><a href="/2020/02/04/环形跑道/">环形跑道</a></h2><h2 id="防线"><a href="#防线" class="headerlink" title="防线"></a><a href="/2020/02/04/防线/">防线</a></h2><h2 id="划分成回文串"><a href="#划分成回文串" class="headerlink" title="划分成回文串"></a><a href="/2020/02/16/划分成回文串/">划分成回文串</a></h2><h2 id="劲歌金曲"><a href="#劲歌金曲" class="headerlink" title="劲歌金曲"></a><a href="/2020/02/16/劲歌金曲/">劲歌金曲</a></h2><h2 id="单向TSP"><a href="#单向TSP" class="headerlink" title="单向TSP"></a><a href="/2020/02/16/单向TSP/">单向TSP</a></h2><h2 id="城市里的间谍"><a href="#城市里的间谍" class="headerlink" title="城市里的间谍"></a><a href="/2020/02/16/城市里的间谍/">城市里的间谍</a></h2><h2 id="巴比伦塔"><a href="#巴比伦塔" class="headerlink" title="巴比伦塔"></a><a href="/2020/02/16/巴比伦塔/">巴比伦塔</a></h2><h2 id="旅行"><a href="#旅行" class="headerlink" title="旅行"></a><a href="/2020/02/16/旅行/">旅行</a></h2><h2 id="照明系统设计"><a href="#照明系统设计" class="headerlink" title="照明系统设计"></a><a href="/2020/02/16/照明系统设计/">照明系统设计</a></h2><h2 id="颜色的长度"><a href="#颜色的长度" class="headerlink" title="颜色的长度"></a><a href="/2020/02/16/颜色的长度/">颜色的长度</a></h2><h2 id="万圣节后的早晨"><a href="#万圣节后的早晨" class="headerlink" title="万圣节后的早晨"></a><a href="/2020/01/20/万圣节后的早晨/">万圣节后的早晨</a></h2><h2 id="分数拆分"><a href="#分数拆分" class="headerlink" title="分数拆分"></a><a href="/2020/01/24/分数拆分/">分数拆分</a></h2><h2 id="二叉树的层序遍历"><a href="#二叉树的层序遍历" class="headerlink" title="二叉树的层序遍历"></a><a href="/2020/01/20/二叉树的层序遍历/">二叉树的层序遍历</a></h2><h2 id="二叉树的重建"><a href="#二叉树的重建" class="headerlink" title="二叉树的重建"></a><a href="/2020/01/20/二叉树的重建/">二叉树的重建</a></h2><h2 id="修改天平"><a href="#修改天平" class="headerlink" title="修改天平"></a><a href="/2020/01/20/修改天平/">修改天平</a></h2><h2 id="八数码"><a href="#八数码" class="headerlink" title="八数码"></a><a href="/2020/01/20/八数码/">八数码</a></h2><h2 id="八皇后问题"><a href="#八皇后问题" class="headerlink" title="八皇后问题"></a><a href="/2020/01/20/八皇后问题/">八皇后问题</a></h2><h2 id="反片语"><a href="#反片语" class="headerlink" title="反片语"></a><a href="/2020/01/20/反片语/">反片语</a></h2><h2 id="古代象形符号"><a href="#古代象形符号" class="headerlink" title="古代象形符号"></a><a href="/2020/01/20/古代象形符号/">古代象形符号</a></h2><h2 id="周期串"><a href="#周期串" class="headerlink" title="周期串"></a><a href="/2020/01/20/周期串/">周期串</a></h2><h2 id="Gergovia的酒交易"><a href="#Gergovia的酒交易" class="headerlink" title="Gergovia的酒交易"></a><a href="/2020/01/29/Gergovia的酒交易/">Gergovia的酒交易</a></h2><h2 id="团体队列"><a href="#团体队列" class="headerlink" title="团体队列"></a><a href="/2020/01/20/团体队列/">团体队列</a></h2><h2 id="图书管理系统"><a href="#图书管理系统" class="headerlink" title="图书管理系统"></a><a href="/2020/01/20/图书管理系统/">图书管理系统</a></h2><h2 id="在Web中搜索"><a href="#在Web中搜索" class="headerlink" title="在Web中搜索"></a><a href="/2020/01/20/在Web中搜索/">在Web中搜索</a></h2><h2 id="埃及分数"><a href="#埃及分数" class="headerlink" title="埃及分数"></a><a href="/2020/01/20/埃及分数/">埃及分数</a></h2><h2 id="城市正视图"><a href="#城市正视图" class="headerlink" title="城市正视图"></a><a href="/2020/01/20/城市正视图/">城市正视图</a></h2><h2 id="天平难题"><a href="#天平难题" class="headerlink" title="天平难题"></a><a href="/2020/01/20/天平难题/">天平难题</a></h2><h2 id="安迪的第一本字典"><a href="#安迪的第一本字典" class="headerlink" title="安迪的第一本字典"></a><a href="/2020/01/20/安迪的第一本字典/">安迪的第一本字典</a></h2><h2 id="宝箱"><a href="#宝箱" class="headerlink" title="宝箱"></a><a href="/2020/01/20/宝箱/">宝箱</a></h2><h2 id="小球下落"><a href="#小球下落" class="headerlink" title="小球下落"></a><a href="/2020/01/20/小球下落/">小球下落</a></h2><h2 id="巡逻机器人"><a href="#巡逻机器人" class="headerlink" title="巡逻机器人"></a><a href="/2020/01/20/巡逻机器人/">巡逻机器人</a></h2><h2 id="循环小数"><a href="#循环小数" class="headerlink" title="循环小数"></a><a href="/2020/01/20/循环小数/">循环小数</a></h2><h2 id="快速幂计算"><a href="#快速幂计算" class="headerlink" title="快速幂计算"></a><a href="/2020/01/20/快速幂计算/">快速幂计算</a></h2><h2 id="打印队列"><a href="#打印队列" class="headerlink" title="打印队列"></a><a href="/2020/01/20/打印队列/">打印队列</a></h2><h2 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a><a href="/2020/01/20/数据库/">数据库</a></h2><h2 id="旋转游戏"><a href="#旋转游戏" class="headerlink" title="旋转游戏"></a><a href="/2020/01/20/旋转游戏/">旋转游戏</a></h2><h2 id="木块问题"><a href="#木块问题" class="headerlink" title="木块问题"></a><a href="/2020/01/20/木块问题/">木块问题</a></h2><h2 id="树"><a href="#树" class="headerlink" title="树"></a><a href="/2020/01/20/树/">树</a></h2><h2 id="消防车"><a href="#消防车" class="headerlink" title="消防车"></a><a href="/2020/01/20/消防车/">消防车</a></h2><h2 id="破坏正方形"><a href="#破坏正方形" class="headerlink" title="破坏正方形"></a><a href="/2020/01/20/破坏正方形/">破坏正方形</a></h2><h2 id="S树"><a href="#S树" class="headerlink" title="S树"></a><a href="/2020/01/20/S树/">S树</a></h2><h2 id="Tex中的引导"><a href="#Tex中的引导" class="headerlink" title="Tex中的引导"></a><a href="/2020/01/20/Tex中的引导/">Tex中的引导</a></h2><h2 id="UnixIS命令"><a href="#UnixIS命令" class="headerlink" title="UnixIS命令"></a><a href="/2020/01/20/UnixIS命令/">UnixIS命令</a></h2>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E5%91%A8%E6%9C%9F%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E5%91%A8%E6%9C%9F%E4%B8%B2/" class="post-title-link" itemprop="url">周期串</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-20 11:48:55" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-01-22 13:26:18" itemprop="dateModified" datetime="2020-01-22T13:26:18+08:00">2020-01-22</time>
              </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<p>tag: hide</p>
<hr>
<h1 id="uav-455-周期串"><a href="#uav-455-周期串" class="headerlink" title="uav 455 周期串"></a>uav 455 周期串</h1><p>如果一个字符串可以由某个长度为kkk 的字符串重复多次得到，则称该串以kkk 为周期。例如，abcabcabcabcabcabcabcabcabcabcabcabc 以333 为周期（注意，它也以666 和121212 为周期）。</p>
<p>输入一个长度不超过808080 的字符串，输出其最小周期。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  #include&lt;iostream&gt;</span><br><span class="line">  #include&lt;stdio.h&gt;</span><br><span class="line">  #include&lt;string.h&gt;</span><br><span class="line"># pragma warning(disable:4996)</span><br><span class="line">  # define LOCAL</span><br><span class="line">  # ifdef LOCAL</span><br><span class="line">  FILE *fin &#x3D; freopen(&quot;习题3-8in.txt&quot;, &quot;r&quot;, stdin);</span><br><span class="line">  FILE *fout &#x3D; freopen(&quot;习题3-8out.txt&quot;, &quot;w&quot;, stdout);</span><br><span class="line">  # endif </span><br><span class="line">  using namespace std;</span><br><span class="line">  int main()</span><br><span class="line">  &#123;</span><br><span class="line">  	int t; cin &gt;&gt; t;</span><br><span class="line">  	char s[85];</span><br><span class="line">  	while (t--)</span><br><span class="line">  	&#123;</span><br><span class="line">  		memset(s, 0, sizeof(s));</span><br><span class="line">  		scanf(&quot;%s&quot;, s);</span><br><span class="line">  		int len &#x3D; strlen(s);</span><br><span class="line">  		int j;</span><br><span class="line">  		for (int i &#x3D; 1; i &lt;&#x3D; len; ++i)</span><br><span class="line">  			if (len%i &#x3D;&#x3D; 0)&#x2F;&#x2F;说明长度i可以作为一个循环节</span><br><span class="line">  			&#123;</span><br><span class="line">  				for (j &#x3D; i; j &lt;&#x3D; len; j++)</span><br><span class="line">  					if (s[j] !&#x3D; s[j%i])&#x2F;&#x2F;之后都和0-i-1的字符串来比较</span><br><span class="line">  						break;</span><br><span class="line">  				if (j &#x3D;&#x3D; len)</span><br><span class="line">  				&#123;</span><br><span class="line">  					cout &lt;&lt; i &lt;&lt; endl;</span><br><span class="line">  					break;</span><br><span class="line">  				&#125;</span><br><span class="line">  			&#125;</span><br><span class="line">  		if (t)cout &lt;&lt; endl;</span><br><span class="line">  	&#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E4%BF%AE%E6%94%B9%E5%A4%A9%E5%B9%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E4%BF%AE%E6%94%B9%E5%A4%A9%E5%B9%B3/" class="post-title-link" itemprop="url">修改天平</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-20 11:48:55" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-01-22 13:25:26" itemprop="dateModified" datetime="2020-01-22T13:25:26+08:00">2020-01-22</time>
              </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uva12166-修改天平-括号表示法给出树"><a href="#uva12166-修改天平-括号表示法给出树" class="headerlink" title="uva12166 修改天平    (括号表示法给出树)"></a>uva12166 修改天平    (括号表示法给出树)</h1><p>给出一个深度不超过16的二叉树，代表一个天平。每根杆都悬挂在中间，每个秤砣的重量已知。至少修改多少个秤砣的重量才能让天平平衡？</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ol>
<li>思考如何使得修改的天平最少：保证让总重量最多的秤砣不变。</li>
<li>用sum记录总的秤砣个数，用base记录每个对应重量的秤砣数。注意秤砣重量与所在高度有关，重w的秤砣在depth深处的总重量为w&lt;&lt;depth</li>
<li>括号表示法给出树的结构可以参考本题</li>
</ol>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>```</p>
<pre><code>#include&lt;bits/stdc++.h&gt;
# pragma warning(disable:4996)
# define LOCAL
# ifdef LOCAL
FILE *fin = freopen(&quot;习题6-6in.txt&quot;, &quot;r&quot;, stdin);
FILE *fout = freopen(&quot;习题6-6out.txt&quot;, &quot;w&quot;, stdout);
# endif 
using namespace std;
int T;
string s;
int sum;
map&lt;long long, int&gt; base;
void dfs(int depth, int p, int e) {
    if (s[p] == &apos;[&apos;) {
    int not_ok = 0;
    for (int i = p + 1; i != e; i++) {
        if (s[i] == &apos;[&apos;) not_ok++;
        if (s[i] == &apos;]&apos;) not_ok--;
        //注意此处脱括号的方法非常灵性
        if (!not_ok&amp;&amp;s[i] == &apos;,&apos;) {
            dfs(depth + 1, p + 1, i - 1);
            dfs(depth + 1, i + 1, e - 1);
        }
    }
}
else {
    long long w = 0;
    for (int i = p; i &lt;= e; i++)
        w = w * 10 + s[i] - &apos;0&apos;;
    ++sum;
    ++base[w &lt;&lt; depth];//sum统计砝码总数量，base[w&lt;&lt;depth]统计该总重量对应的砝码个数

}
}
int main() {
cin &gt;&gt; T;
while (T--)
{
    cin &gt;&gt; s;
    sum = 0;
    base.clear();
    dfs(0, 0, s.length() - 1);
    int maxn = 0;
    for (auto it = base.begin(); it != base.end(); it++)
        maxn = max(maxn, it-&gt;second);
    cout &lt;&lt; sum - maxn &lt;&lt; endl;
}
}</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E5%9C%A8Web%E4%B8%AD%E6%90%9C%E7%B4%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E5%9C%A8Web%E4%B8%AD%E6%90%9C%E7%B4%A2/" class="post-title-link" itemprop="url">在Web中搜索</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:48:55 / Modified: 14:48:20" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uva-1597-在web中搜索"><a href="#uva-1597-在web中搜索" class="headerlink" title="uva 1597 在web中搜索"></a>uva 1597 在web中搜索</h1><p>输入nnn篇文章和mmm个请求（n&lt;100，m≤50000n &lt; 100\text{，}m \leq 50000n&lt;100，m≤50000），每个请求都是444种格式之一。</p>
<p>A: 找包含关键字A的文章。</p>
<p>A AND B 找同时包含关键字A和B的文章。</p>
<p>A OR B 找包含关键字A或B的文章。</p>
<p>NOT A 找不包含关键字A的文章。</p>
<p>处理询问时需要对每篇文章输出证据。前3种询问输出所有至少包含一个关键字的行。第4种询问输出不包含A的整篇文章。关键字只由小写字母组成，查找时忽略大小写。每行不超过不超过80字符，一共不超过1500行。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ol>
<li>主要的STL是一个map&lt;string,set<Node>&gt; 用来存储每个单词出现的段号和行号。vector<string> txt[i]来存储第i段的若干句子，一句一句的存。</li>
<li>对于AND指令，需要n2次查找两个单词出现的段落和行号，只有当两个单词出现的段落一致的时候，才输出</li>
<li>OR指令同理</li>
<li>NOT需要循环所有的段落，对于A出现的段落集合中不包括的段，将它防在答案集合中<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">#include&lt;map&gt;</span><br><span class="line"># pragma warning(disable:4996)</span><br><span class="line"># define LOCAL</span><br><span class="line"># ifdef LOCAL</span><br><span class="line">FILE *fin &#x3D; freopen(&quot;习题5-10in.txt&quot;, &quot;r&quot;, stdin);</span><br><span class="line">FILE *fout &#x3D; freopen(&quot;习题5-10out.txt&quot;, &quot;w&quot;, stdout);</span><br><span class="line"># endif </span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">vector&lt;string&gt; txt[105];</span><br><span class="line">map&lt;string, set&lt;int&gt;&gt; which_pa;</span><br><span class="line">struct node &#123;</span><br><span class="line">	int p;</span><br><span class="line">	int r;</span><br><span class="line">	node(int p, int r) :p(p), r(r) &#123;&#125;</span><br><span class="line">	bool operator &lt;(const node&amp;a) const &#123;</span><br><span class="line">		return p &lt; a.p || p &#x3D;&#x3D; a.p&amp;&amp;r &lt; a.r;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">map&lt;string, set&lt;node&gt;&gt; words_in_where;</span><br><span class="line">int main() &#123;</span><br><span class="line">	int n, m;</span><br><span class="line">	string s;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;n); getchar();</span><br><span class="line">	for (int i &#x3D; 0; i &lt; n; i++) &#123;</span><br><span class="line"></span><br><span class="line">		while (getline(cin, s) &amp;&amp; s !&#x3D; &quot;**********&quot;) &#123;</span><br><span class="line">			txt[i].push_back(s);</span><br><span class="line">			string r;</span><br><span class="line">			for (int j &#x3D; 0; j &lt; s.length(); j++) &#123;</span><br><span class="line">				if (isalpha(s[j])) r +&#x3D; tolower(s[j]);</span><br><span class="line">				else &#123;</span><br><span class="line">					if (!r.empty()) &#123;</span><br><span class="line">						words_in_where[r].insert(node(i, txt[i].size() - 1));</span><br><span class="line">						which_pa[r].insert(i);</span><br><span class="line">					&#125;</span><br><span class="line">					r.clear();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	scanf(&quot;%d&quot;, &amp;m); getchar();</span><br><span class="line">	for (int ff &#x3D; 0; ff &lt; m; ff++) &#123;</span><br><span class="line">		getline(cin, s);</span><br><span class="line">		int orx;</span><br><span class="line">		&#x2F;&#x2F;cout &lt;&lt; endl &lt;&lt; s &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">		if ((orx &#x3D; s.find(&quot; AND &quot;)) !&#x3D; string::npos) &#123;</span><br><span class="line">			string a &#x3D; s.substr(0, orx);</span><br><span class="line">			string b &#x3D; s.substr(orx + 5);</span><br><span class="line">			&#x2F;&#x2F;	cout &lt;&lt; a &lt;&lt; &quot; &quot; &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">			set&lt;node&gt; aw &#x3D; words_in_where[a];</span><br><span class="line">			set&lt;node&gt; bw &#x3D; words_in_where[b];</span><br><span class="line">			set&lt;node&gt; ans;</span><br><span class="line">			ans.clear();</span><br><span class="line">			if (a &#x3D;&#x3D; b) &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++)</span><br><span class="line">					ans.insert(*it);</span><br><span class="line">			&#125;</span><br><span class="line">			else &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++)</span><br><span class="line">					for (set&lt;node&gt;::iterator id &#x3D; bw.begin(); id !&#x3D; bw.end(); id++)</span><br><span class="line">						if ((*it).p &#x3D;&#x3D; (*id).p) &#123;</span><br><span class="line">							ans.insert(*it);</span><br><span class="line">							ans.insert(*id);</span><br><span class="line">						&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			if (ans.empty()) &#123;</span><br><span class="line">				cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">				continue;</span><br><span class="line">			&#125;</span><br><span class="line">			int k &#x3D; ans.begin()-&gt;p;</span><br><span class="line">			for (set&lt;node&gt;::iterator it &#x3D; ans.begin(); it !&#x3D; ans.end(); it++)</span><br><span class="line">			&#123;</span><br><span class="line">				int p &#x3D; (*it).p;</span><br><span class="line">				int r &#x3D; (*it).r;</span><br><span class="line">				if (k !&#x3D; p) &#123;</span><br><span class="line">					cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					k &#x3D; p;</span><br><span class="line">				&#125;</span><br><span class="line">				cout &lt;&lt; txt[p][r] &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		else if ((orx &#x3D; s.find(&quot; OR &quot;)) !&#x3D; string::npos) &#123;</span><br><span class="line">			string a &#x3D; s.substr(0, orx);</span><br><span class="line">			string b &#x3D; s.substr(orx + 4);</span><br><span class="line">			&#x2F;&#x2F;cout &lt;&lt; a &lt;&lt; &quot; &quot; &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">			set&lt;node&gt; aw &#x3D; words_in_where[a];</span><br><span class="line">			set&lt;node&gt; bw &#x3D; words_in_where[b];</span><br><span class="line">			set&lt;node&gt; ans;</span><br><span class="line">			ans.clear();</span><br><span class="line">			if (a &#x3D;&#x3D; b) &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++) &#123;</span><br><span class="line">					ans.insert(*it);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			else &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++)</span><br><span class="line">					ans.insert(*it);</span><br><span class="line">				for (set&lt;node&gt;::iterator id &#x3D; bw.begin(); id !&#x3D; bw.end(); id++)</span><br><span class="line">					ans.insert(*id);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			if (ans.empty()) &#123;</span><br><span class="line">				cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">				continue;</span><br><span class="line">			&#125;</span><br><span class="line">			int k &#x3D; ans.begin()-&gt;p;</span><br><span class="line">			for (set&lt;node&gt;::iterator it &#x3D; ans.begin(); it !&#x3D; ans.end(); it++)</span><br><span class="line">			&#123;</span><br><span class="line">				int p &#x3D; (*it).p;</span><br><span class="line">				int r &#x3D; (*it).r;</span><br><span class="line">				if (k !&#x3D; p) &#123;</span><br><span class="line">					cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					k &#x3D; p;</span><br><span class="line">				&#125;</span><br><span class="line">				cout &lt;&lt; txt[p][r] &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (s[0]&#x3D;&#x3D;&#39;N&#39;) &#123;</span><br><span class="line">			string no &#x3D; s.substr(4);</span><br><span class="line">			&#x2F;&#x2F;cout &lt;&lt; no &lt;&lt; endl;</span><br><span class="line">			bool flag &#x3D; false;</span><br><span class="line">			bool first &#x3D; true;</span><br><span class="line">			for (int i &#x3D; 0; i &lt; n; i++) &#123;</span><br><span class="line">				if (!which_pa[no].count(i)) &#123;</span><br><span class="line">					if (first) first &#x3D; false; else cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					for (int j &#x3D; 0; j &lt; txt[i].size(); j++)</span><br><span class="line">						cout &lt;&lt; txt[i][j] &lt;&lt; endl;</span><br><span class="line">					flag &#x3D; true;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			if (flag) cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">			else cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;</span><br><span class="line">			&#x2F;&#x2F;cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">			if (!words_in_where.count(s)) &#123;</span><br><span class="line">				cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">				continue;</span><br><span class="line">			&#125;##    ##  </span><br><span class="line">			int k &#x3D; words_in_where[s].begin()-&gt;p;</span><br><span class="line">			for (set&lt;node&gt;::iterator it &#x3D; words_in_where[s].begin(); it !&#x3D; words_in_where[s].end(); it++) &#123;</span><br><span class="line">				int p &#x3D; (*it).p;</span><br><span class="line">				int r &#x3D; (*it).r;</span><br><span class="line">				if (k !&#x3D; p) &#123;</span><br><span class="line">					cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					k &#x3D; p;</span><br><span class="line">				&#125;</span><br><span class="line">				cout &lt;&lt; txt[p][r] &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line">			&#x2F;&#x2F;if (first) cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl;</span><br><span class="line">			cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E5%B7%A1%E9%80%BB%E6%9C%BA%E5%99%A8%E4%BA%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Cuienbo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ceb">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E5%B7%A1%E9%80%BB%E6%9C%BA%E5%99%A8%E4%BA%BA/" class="post-title-link" itemprop="url">巡逻机器人</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-20 11:48:55" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-01-22 13:25:50" itemprop="dateModified" datetime="2020-01-22T13:25:50+08:00">2020-01-22</time>
              </span>

          
          <div>
            
          </div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uva1600-巡逻机器人"><a href="#uva1600-巡逻机器人" class="headerlink" title="uva1600 巡逻机器人"></a>uva1600 巡逻机器人</h1><p>本题有t组数据，每组数据包含一个m*n的01矩阵，0表示能走，1表示有一个障碍物。机器人能往上下左右四个方向走动.它要从(1,1)到(m,n),可以连续翻越k个障碍物,求它从(1,1)到(m,n)的最短路径.如果不能到达输出”-1”.</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ol>
<li>本题基础是一个bfs，附加可以跳跃0的条件。</li>
<li>对无权图进行bfs的时候，走到每一个点时的步数都是一定的，所以对于每个点，应该让能够跨越障碍的机会越多越好，所以Node节点中应该包含(r,c,k,step)其中k为到达(r,c)位置时剩余的跨越障碍的机会，step为最小步数。(※如果只需要知道步数而不需要路径，则将其包在结构体里即可)<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   #include&lt;bits&#x2F;stdc++.h&gt;</span><br><span class="line">   # pragma warning(disable:4996)</span><br><span class="line">   # define LOCAL</span><br><span class="line">   # ifdef LOCAL</span><br><span class="line">   FILE *fin &#x3D; freopen(&quot;习题6-5in.txt&quot;, &quot;r&quot;, stdin);</span><br><span class="line">   FILE *fout &#x3D; freopen(&quot;习题6-5out.txt&quot;, &quot;w&quot;, stdout);</span><br><span class="line">   # endif </span><br><span class="line">   using namespace std;</span><br><span class="line">   int n, x, y, k;</span><br><span class="line">   int g[20][20];</span><br><span class="line">   struct node &#123;</span><br><span class="line">   	int r, c, k, step;</span><br><span class="line">   </span><br><span class="line">   	node(int r, int c, int k, int step &#x3D; 0) :r(r), c(c), k(k), step(step) &#123;&#125;</span><br><span class="line">   &#125;;</span><br><span class="line">   int step[20][20];</span><br><span class="line">   int dr[] &#x3D; &#123; 1, 0, -1, 0 &#125;;</span><br><span class="line">   int dc[] &#x3D; &#123; 0, 1, 0, -1 &#125;;</span><br><span class="line">   int min_step;</span><br><span class="line">   void bfs() &#123;</span><br><span class="line">   	queue&lt;node&gt;q;</span><br><span class="line">   	q.push(node(0, 0, k));</span><br><span class="line">   	int block &#x3D; 0;</span><br><span class="line">   	while (!q.empty()) &#123;</span><br><span class="line">   		node u &#x3D; q.front(); q.pop();</span><br><span class="line">   </span><br><span class="line">   		if (u.r &#x3D;&#x3D; x - 1 &amp;&amp; u.c &#x3D;&#x3D; y - 1) &#123;</span><br><span class="line">   			min_step &#x3D; u.step;</span><br><span class="line">   			break;</span><br><span class="line">   		&#125;</span><br><span class="line">   		for (int i &#x3D; 0; i &lt; 4; i++) &#123;</span><br><span class="line">   			int r &#x3D; u.r + dr[i], c &#x3D; u.c + dc[i];</span><br><span class="line">   			if (r &gt;&#x3D; 0 &amp;&amp; r &lt; x&amp;&amp;c &gt;&#x3D; 0 &amp;&amp; c &lt; y) &#123;</span><br><span class="line">   				if (step[r][c] &lt; u.k) &#123;&#x2F;&#x2F;u.k是走到step[r][c]处，还剩余的跳过障碍的机会，所以要保留大的</span><br><span class="line">   					step[r][c] &#x3D; u.k;</span><br><span class="line">   				&#125;</span><br><span class="line">   				else continue;&#x2F;&#x2F;如果step[r][c]更大，说明目前正在走的路不是最好的(因为bfs走到每个节点的步数是一定的</span><br><span class="line">   							  &#x2F;&#x2F;所以剩余的跨越障碍的次数越多越好),不需要再走下去，所以不入队)</span><br><span class="line">   				if (g[r][c] &#x3D;&#x3D; 0) q.push(node(r, c, k, u.step + 1));</span><br><span class="line">   				else if(u.k) q.push(node(r, c, u.k - 1, u.step + 1));</span><br><span class="line">   			&#125;</span><br><span class="line">   		&#125;</span><br><span class="line">   	&#125;</span><br><span class="line">   &#125;</span><br><span class="line">   int main() &#123;</span><br><span class="line">cin &gt;&gt; n;</span><br><span class="line">while (n--) &#123;</span><br><span class="line"></span><br><span class="line">	memset(g, 0, sizeof(g));</span><br><span class="line">	memset(step, -1, sizeof(step));</span><br><span class="line">	cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">	cin &gt;&gt; k;</span><br><span class="line">	for (int i &#x3D; 0; i &lt; x; i++)</span><br><span class="line">		for (int j &#x3D; 0; j &lt; y; j++)</span><br><span class="line">			cin &gt;&gt; g[i][j];</span><br><span class="line">	min_step &#x3D; 999;</span><br><span class="line">	bfs();</span><br><span class="line">	min_step &#x3D;&#x3D; 999 ? cout &lt;&lt; &quot;-1&quot; &lt;&lt; endl:cout &lt;&lt; min_step &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Cuienbo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">159</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cuienbo</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.7.0
  </div>
        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
  
</body>
</html>
