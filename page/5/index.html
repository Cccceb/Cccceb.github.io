<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://github.com/Cccceb/Cccceb.github.io').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://github.com/Cccceb/Cccceb.github.io/page/5/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Ceb">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://github.com/Cccceb/Cccceb.github.io/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a href="https://github.com/you"><img style="position:absolute;" width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_left_gray_6d6d6d.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>  
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC10%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC10%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第10讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:21:58" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="相机成像原理"><a href="#相机成像原理" class="headerlink" title="相机成像原理"></a>相机成像原理</h1><ol>
<li><p>为什么不使光圈尽可能小?<br> （1）使光线减少 （2）衍射影响</p>
</li>
<li><p>人的眼睛：瞳孔相当于光圈；视网膜上的感光细胞相当于胶片。</p>
<h2 id="相机模型"><a href="#相机模型" class="headerlink" title="相机模型"></a>相机模型</h2></li>
<li><p>投影建模</p>
 <img src="/CV_img/10_1.png" style="zoom:80%">
 1. 将相机近似为针孔模型
 2. 把小孔的位置设在原点
 3. 将图像平面放在投影中心COP的前面(为了得到正立的相)
 4. 相机向负z轴看去(右手坐标系下)</li>
<li><p>投影方程</p>
 <img src="/CV_img/10_2.png" style="zoom:80%">

<ol>
<li><p>不是线性变换—-&gt;采用3D齐次坐标。</p>
 <img src="/CV_img/10_3.png" style="zoom:80%"></li>
</ol>
</li>
<li><p>透视投影</p>
<ol>
<li><p>投影是使用齐次坐标的矩阵乘法：</p>
 <img src="/CV_img/10_4.png" style="zoom:80%">
</li>
<li><p>改变投影变换的吃尺度对变换没有影响</p>
 <img src="/CV_img/10_5.png" style="zoom:80%"></li>
</ol>
</li>
<li><p>正交投影（平行投影）</p>
<ol>
<li><p>是透视投影的特殊情况：当光学中心COP到投影平面PP的距离是无限的时候。（1/d = 0）</p>
 <img src="/CV_img/10_6.png" style="zoom:80%">
##  正交投影的变体</li>
</ol>
</li>
<li><p>缩放正交（弱透视）</p>
<p> 相当于在物体聚焦到角点前就将图像截获。</p>
 <img src="/CV_img/10_7.png" style="zoom:80%">

<p> 分两步: </p>
<ol>
<li>第一步：整个物体按平行于光轴的方向正交投影到经过物体质心并与图像平面平行的平面上。</li>
<li>第二步：再按透视模型投影到图像平面上，这一步实际是全局的缩放。</li>
</ol>
</li>
<li><p>仿射投影</p>
 <img src="/CV_img/10_8.png" style="zoom:80%">

<p> 分两步：</p>
<ol>
<li>仍把物体平行投影到过质心且与图象平面平行的平面上，不过这次的投影线不是平行于光轴，而是平行于光心C和物体质心G的连线CG；</li>
<li>再按透视模型投影到图象平面上。</li>
</ol>
</li>
<li><p>总结</p>
</li>
</ol>
<img src="/CV_img/10_9.png" style="zoom:80%">

<h2 id="降维"><a href="#降维" class="headerlink" title="降维"></a>降维</h2><ol>
<li><p>投影属性</p>
<ol>
<li><p>多对一：同一光线上的所有点映射到图像中的同一点。</p>
</li>
<li><p>点-&gt;点，线-&gt;线（通过角点的线变成一个点）</p>
</li>
<li><p>平面-&gt;平面（通过角点的平面变成一条线）</p>
</li>
<li><p>平行线在消失点汇合</p>
<ol>
<li>每个方向在空间中都有他自己的消失点，但平行于图像平面的平行线保持平行。</li>
</ol>
<img src="/CV_img/10_10.png" style="zoom:80%">
##  相机参数
现在我们要将世界坐标系中的一个点投影到相机坐标系中。我们需要知道相机在世界坐标系中的位置和方向。然后透视投影到图像平面上以获得像素坐标。
</li>
</ol>
</li>
<li><p>相机内参数</p>
<ol>
<li>从世界坐标系原点到光心COP的平移变换T</li>
<li>描述相机方向的旋转变换R</li>
<li>焦距f、主点(x,y)、像素大小（sx,sy）</li>
</ol>
</li>
<li> <img src="/CV_img/10_11.png" style="zoom:80%">

<p> ·</p>
<p> ·</p>
 <img src="/CV_img/10_12.png" style="zoom:80%">

<p> 这个公式要从右向左看</p>
<ol>
<li>平移矩阵即是将相机原点与世界原点重合。</li>
<li>第二步旋转，是将相机坐标系的三个轴旋转到与世界坐标系坐标轴平行。</li>
<li>第三步是将世界坐标系中的三维点透过光心进行投影。</li>
<li>第四步是使用相机内参数将图像变成离散的坐标。</li>
<li><strong>注意</strong> 该公式中对投影变换进行了拆分，，一部分与内参数乘在了一起。</li>
</ol>
</li>
</ol>
<h2 id="外参数—让相机规范化"><a href="#外参数—让相机规范化" class="headerlink" title="外参数—让相机规范化"></a>外参数—让相机规范化</h2><ol>
<li><p>第一步 平移-c，将相机坐标系原点与世界坐标系原点重合。</p>
 <img src="/CV_img/10_15.png" style="zoom:80%">

<p> 其中c为相机坐标原点在世界坐标系中的坐标[[tx,ty,tz]].T</p>
</li>
<li><p>第二步 旋转R， 将相机坐标系的轴旋转到与世界坐标系轴平行。</p>
 <img src="/CV_img/10_16.png" style="zoom:80%">

</li>
</ol>
<h2 id="透视投影"><a href="#透视投影" class="headerlink" title="透视投影"></a>透视投影</h2><img src="/CV_img/10_17.png" style="zoom:80%">

<h2 id="投影矩阵"><a href="#投影矩阵" class="headerlink" title="投影矩阵"></a>投影矩阵</h2><img src="/CV_img/10_18.png" style="zoom:80%">

<p><strong>注：</strong></p>
<ol>
<li><p>平移的三个参数是相机原点在世界坐标系中的坐标。</p>
</li>
<li><p>旋转的三个参数是相机坐标系的坐标轴在用世界坐标系的方向向量来表达的向量坐标的转置。</p>
</li>
<li><p><strong>将投影矩阵乘开</strong></p>
</li>
</ol>
<img src="/CV_img/10_19.png" style="zoom:80%">

<img src="/CV_img/10_13.png" style="zoom:80%">

<h2 id="透视失真"><a href="#透视失真" class="headerlink" title="透视失真"></a>透视失真</h2><ol>
<li>梯形失真</li>
<li>仰拍导致。解决：移轴镜头</li>
<li>外侧列更大</li>
<li>镜头失真：枕型，桶型–&gt;由不完美镜头引起</li>
<li><strong>修正径向畸变</strong><img src="/CV_img/10_14.png" style="zoom:80%"></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC12%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC12%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第12讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:21:57" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="点和线"><a href="#点和线" class="headerlink" title="点和线"></a>点和线</h1><h2 id="点和线的对偶性"><a href="#点和线的对偶性" class="headerlink" title="点和线的对偶性"></a>点和线的对偶性</h2><img src="/CV_img/12_1.png" style="zoom:70%">

<ol>
<li>对于线上的每一点P,有I·P=0    （面上一点同理）</li>
<li>由射线P1和P2决定的线I,有I=P1×P2</li>
<li>两条线I1和I2的交点P，有P=I1×I2</li>
</ol>
<h2 id="理想的点和线"><a href="#理想的点和线" class="headerlink" title="理想的点和线"></a>理想的点和线</h2><img src="/CV_img/12_2.png" style="zoom:70%">

<ol>
<li><p>理想点（无穷远点）</p>
<ol>
<li>P(x,y,0)平行于图像平面</li>
<li>有无限的图像坐标</li>
</ol>
</li>
<li><p>理想线</p>
<ol>
<li>I(a,b,0)平行于图像平面</li>
<li>对应于图像平面过主点的一条线</li>
<li>由ax+by=0组成的线</li>
</ol>
</li>
</ol>
<h2 id="面和点的对偶性"><a href="#面和点的对偶性" class="headerlink" title="面和点的对偶性"></a>面和点的对偶性</h2><ol>
<li>一个平面可以用四维向量表示</li>
<li>点和平面是对偶的：N·P=0</li>
<li>三点定义一个平面，三个平面定义一个点</li>
</ol>
<h1 id="透视投影"><a href="#透视投影" class="headerlink" title="透视投影"></a>透视投影</h1><img src="/CV_img/12_3.png" style="zoom:40%">

<h2 id="消失点-1D"><a href="#消失点-1D" class="headerlink" title="消失点 1D"></a>消失点 1D</h2><img src="/CV_img/12_4.png" style="zoom:40%">

<ol>
<li>消失点：<ol>
<li>是无穷处一个点的投影</li>
<li>通常投影到图像中的一个有限点</li>
</ol>
</li>
</ol>
<h2 id="消失点-2D"><a href="#消失点-2D" class="headerlink" title="消失点 2D"></a>消失点 2D</h2><img src="/CV_img/12_5.png" style="zoom:40%">
##  消失点 3D
<img src="/CV_img/12_6.png" style="zoom:40%">

<ol>
<li>特性<ol>
<li>任意两条平行线都有相同的消失点V</li>
<li>从光心C通过消失点V的射线与那些平行线平行</li>
<li>图像可能有多个消失点</li>
</ol>
</li>
</ol>
<h2 id="消失线"><a href="#消失线" class="headerlink" title="消失线"></a>消失线</h2><img src="/CV_img/12_7.png" style="zoom:40%">

<ol>
<li>平面上任意一组平行线都定义一个消失点</li>
<li>消失点的联合就是消失线(地平线)</li>
<li>不同平面可以定义不同的消失线</li>
</ol>
<h2 id="计算消失点"><a href="#计算消失点" class="headerlink" title="计算消失点"></a>计算消失点</h2><img src="/CV_img/12_8.png" style="zoom:40%">

<p>v = ΠP<sub>∞</sub></p>
<ol>
<li><p>解释：</p>
<ol>
<li>先得到一条射线Px，其中t是一个自由变化的系数，D是方向向量</li>
<li>将t-&gt;∞代入，得到P<sub>∞</sub></li>
<li>将P<sub>∞</sub>投影到成像平面</li>
</ol>
</li>
<li><p>特性：</p>
<ol>
<li>P<sub>∞</sub> 是无穷远处的一个点，v是其投影</li>
<li>仅取决于线的方向</li>
<li>平行线P<sub>0</sub>+tD和P<sub>1</sub>+tD相交于P<sub>∞</sub></li>
</ol>
</li>
</ol>
<ol start="2">
<li><img src="/CV_img/12_10.png" style="zoom:40%">
##  计算消失线


</li>
</ol>
<img src="/CV_img/12_9.png" style="zoom:40%">

<p>作平行于地面平面且过C的平面与投影平面的交线。</p>
<ol>
<li>特性<ol>
<li>I是通过C的水平平面与图像平面的交集</li>
<li>可以通过地面平面上的两组平行线计算I</li>
<li>所有与光心C同样高度的点投影到I上</li>
<li>提供了比较场景中对象高度的方法</li>
</ol>
</li>
</ol>
<h1 id="通过参照物测量高度"><a href="#通过参照物测量高度" class="headerlink" title="通过参照物测量高度"></a>通过参照物测量高度</h1><ol>
<li><p>交叉比—射影不变量</p>
 <img src="/CV_img/12_11.png" style="zoom:40%">
</li>
<li><p>测量高度</p>
 <img src="/CV_img/12_12.png" style="zoom:40%">
</li>
<li><p>实际</p>
 <img src="/CV_img/12_13.png" style="zoom:40%"></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC11%E8%AE%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E8%A7%86%E8%A7%89%E7%AC%AC11%E8%AE%B2/" class="post-title-link" itemprop="url">视觉第11讲</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 15:22:50 / Modified: 21:21:58" itemprop="dateCreated datePublished" datetime="2020-01-20T15:22:50+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="创建全景图"><a href="#创建全景图" class="headerlink" title="创建全景图"></a>创建全景图</h1><h2 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h2><ol>
<li>从同一位置拍摄一系列图像。<strong>光心不动</strong></li>
<li>计算第二个图像与第一个映像之间的变换。</li>
<li>变换第二个图像与第一个图像部分重合</li>
<li>将二者融合在一起创建拼图。</li>
<li>多个图像重复上述过程</li>
</ol>
<img src="/CV_img/11_1.png" style="zoom:80%">
##  变换矩阵

<img src="/CV_img/11_2.png" style="zoom:80%">

<img src="/CV_img/11_3.png" style="zoom:80%">

<p>注：</p>
<ol>
<li>图像平面一般以主点为圆心。</li>
<li>相机1的坐标系为世界坐标系。<h2 id="360°全景图"><a href="#360°全景图" class="headerlink" title="360°全景图"></a>360°全景图</h2>使用拼图投影球</li>
</ol>
<img src="/CV_img/11_4.png" style="zoom:80%">

<p>注：</p>
<ol>
<li>球面坐标：弧长</li>
<li>s为投影球半径<h2 id="装配全景图"><a href="#装配全景图" class="headerlink" title="装配全景图"></a>装配全景图</h2></li>
<li>过程：拼接，融合，裁剪</li>
<li>问题：出现漂移</li>
<li>解决</li>
</ol>
<img src="/CV_img/11_5.png" style="zoom:80%">

<h2 id="图像融合"><a href="#图像融合" class="headerlink" title="图像融合"></a>图像融合</h2><ol>
<li><p>使用羽化</p>
<ol>
<li>窗口大小影响羽化效果。<ol>
<li>窗口大小为0和直接拼接一样</li>
<li>良好的窗口应该是平滑且没有虚影的。</li>
</ol>
</li>
</ol>
</li>
<li><p>金字塔混合<br> 使用拉普拉斯金子塔在各层次上融合，最终叠加。</p>
<p> 拉普拉斯金字塔</p>
 <img src="/CV_img/11_6.png" style="zoom:80%">
</li>
<li><p>Alpha混合</p>
<img src="/CV_img/11_7.png" style="zoom:80%">
</li>
<li><p>泊松图像编辑</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/UVA%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/UVA%E4%B9%A0%E9%A2%98%E7%AC%94%E8%AE%B0/" class="post-title-link" itemprop="url">UVA习题笔记</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:55:25 / Modified: 21:08:12" itemprop="dateCreated datePublished" datetime="2020-01-20T11:55:25+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="/2020/01/20/Abbott的复仇/">Abbott的复仇</a></p>
<p><a href="/2020/01/20/S树/">S树</a></p>
<p><a href="/2020/01/20/Tex中的引导/">Tex中的引导</a></p>
<p><a href="/2020/01/20/UnixIS命令/">UnixIS命令</a></p>
<p><a href="/2020/01/20/UVA习题笔记/">UVA习题笔记</a></p>
<p><a href="/2020/01/20/万圣节后的早晨/">万圣节后的早晨</a></p>
<p><a href="/2020/01/20/二叉树的层序遍历/">二叉树的层序遍历</a></p>
<p><a href="/2020/01/20/二叉树的重建/">二叉树的重建</a></p>
<p><a href="/2020/01/20/修改天平/">修改天平</a></p>
<p><a href="/2020/01/20/八数码/">八数码</a></p>
<p><a href="/2020/01/20/八皇后问题/">八皇后问题</a></p>
<p><a href="/2020/01/20/反片语/">反片语</a></p>
<p><a href="/2020/01/20/古代象形符号/">古代象形符号</a></p>
<p><a href="/2020/01/20/周期串/">周期串</a></p>
<p><a href="/2020/01/20/团体队列/">团体队列</a></p>
<p><a href="/2020/01/20/图书管理系统/">图书管理系统</a></p>
<p><a href="/2020/01/20/在Web中搜索/">在Web中搜索</a></p>
<p><a href="/2020/01/20/埃及分数/">埃及分数</a></p>
<p><a href="/2020/01/20/城市正视图/">城市正视图</a></p>
<p><a href="/2020/01/20/天平难题/">天平难题</a></p>
<p><a href="/2020/01/20/安迪的第一本字典/">安迪的第一本字典</a></p>
<p><a href="/2020/01/20/宝箱/">宝箱</a></p>
<p><a href="/2020/01/20/小球下落/">小球下落</a></p>
<p><a href="/2020/01/20/巡逻机器人/">巡逻机器人</a></p>
<p><a href="/2020/01/20/带宽/">带宽</a></p>
<p><a href="/2020/01/20/并行程序模拟/">并行程序模拟</a></p>
<p><a href="/2020/01/20/循环小数/">循环小数</a></p>
<p><a href="/2020/01/20/快速幂计算/">快速幂计算</a></p>
<p><a href="/2020/01/20/打印队列/">打印队列</a></p>
<p><a href="/2020/01/20/数据库/">数据库</a></p>
<p><a href="/2020/01/20/旋转游戏/">旋转游戏</a></p>
<p><a href="/2020/01/20/木块问题/">木块问题</a></p>
<p><a href="/2020/01/20/树/">树</a></p>
<p><a href="/2020/01/20/消防车/">消防车</a></p>
<p><a href="/2020/01/20/破坏正方形/">破坏正方形</a></p>
<p><a href="/2020/01/20/移动木块/">移动木块</a></p>
<p><a href="/2020/01/20/空间结构/">空间结构</a></p>
<p><a href="/2020/01/20/编辑书稿/">编辑书稿</a></p>
<p><a href="/2020/01/20/网格动物/">网格动物</a></p>
<p><a href="/2020/01/20/邮件传输代理的交互/">邮件传输代理的交互</a></p>
<p><a href="/2020/01/20/集合栈计算机/">集合栈计算机</a></p>
<p><a href="/2020/01/20/黄金图形/">黄金图形</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E5%91%A8%E6%9C%9F%E4%B8%B2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E5%91%A8%E6%9C%9F%E4%B8%B2/" class="post-title-link" itemprop="url">周期串</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:48:55 / Modified: 14:48:22" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <hr>
<p>tag: hide</p>
<hr>
<h1 id="uav-455-周期串"><a href="#uav-455-周期串" class="headerlink" title="uav 455 周期串"></a>uav 455 周期串</h1><p>如果一个字符串可以由某个长度为kkk 的字符串重复多次得到，则称该串以kkk 为周期。例如，abcabcabcabcabcabcabcabcabcabcabcabc 以333 为周期（注意，它也以666 和121212 为周期）。</p>
<p>输入一个长度不超过808080 的字符串，输出其最小周期。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><pre><code>#include&lt;iostream&gt;
#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
 # pragma warning(disable:4996)
# define LOCAL
# ifdef LOCAL
FILE *fin = freopen(&quot;习题3-8in.txt&quot;, &quot;r&quot;, stdin);
FILE *fout = freopen(&quot;习题3-8out.txt&quot;, &quot;w&quot;, stdout);
# endif 
using namespace std;
int main()
{
    int t; cin &gt;&gt; t;
    char s[85];
    while (t--)
    {
        memset(s, 0, sizeof(s));
        scanf(&quot;%s&quot;, s);
        int len = strlen(s);
        int j;
        for (int i = 1; i &lt;= len; ++i)
            if (len%i == 0)//说明长度i可以作为一个循环节
            {
                for (j = i; j &lt;= len; j++)
                    if (s[j] != s[j%i])//之后都和0-i-1的字符串来比较
                        break;
                if (j == len)
                {
                    cout &lt;&lt; i &lt;&lt; endl;
                    break;
                }
            }
        if (t)cout &lt;&lt; endl;
    }
}</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E4%BF%AE%E6%94%B9%E5%A4%A9%E5%B9%B3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E4%BF%AE%E6%94%B9%E5%A4%A9%E5%B9%B3/" class="post-title-link" itemprop="url">修改天平</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:48:55 / Modified: 14:48:03" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uva12166-修改天平-括号表示法给出树"><a href="#uva12166-修改天平-括号表示法给出树" class="headerlink" title="uva12166 修改天平    (括号表示法给出树)"></a>uva12166 修改天平    (括号表示法给出树)</h1><p>给出一个深度不超过16的二叉树，代表一个天平。每根杆都悬挂在中间，每个秤砣的重量已知。至少修改多少个秤砣的重量才能让天平平衡？</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ol>
<li>思考如何使得修改的天平最少：保证让总重量最多的秤砣不变。</li>
<li>用sum记录总的秤砣个数，用base记录每个对应重量的秤砣数。注意秤砣重量与所在高度有关，重w的秤砣在depth深处的总重量为w&lt;&lt;depth</li>
<li>括号表示法给出树的结构可以参考本题</li>
</ol>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p>```<br>    #include&lt;bits/stdc++.h&gt;<br>    # pragma warning(disable:4996)<br>    # define LOCAL<br>    # ifdef LOCAL<br>    FILE *fin = freopen(“习题6-6in.txt”, “r”, stdin);<br>    FILE *fout = freopen(“习题6-6out.txt”, “w”, stdout);<br>    # endif<br>    using namespace std;<br>    int T;<br>    string s;<br>    int sum;<br>    map&lt;long long, int&gt; base;<br>    void dfs(int depth, int p, int e) {<br>        if (s[p] == ‘[‘) {<br>        int not_ok = 0;<br>        for (int i = p + 1; i != e; i++) {<br>            if (s[i] == ‘[‘) not_ok++;<br>            if (s[i] == ‘]’) not_ok–;<br>            //注意此处脱括号的方法非常灵性<br>            if (!not_ok&amp;&amp;s[i] == ‘,’) {<br>                dfs(depth + 1, p + 1, i - 1);<br>                dfs(depth + 1, i + 1, e - 1);<br>            }<br>        }<br>    }<br>    else {<br>        long long w = 0;<br>        for (int i = p; i &lt;= e; i++)<br>            w = w * 10 + s[i] - ‘0’;<br>        ++sum;<br>        ++base[w &lt;&lt; depth];//sum统计砝码总数量，base[w&lt;&lt;depth]统计该总重量对应的砝码个数</p>
<pre><code>}
}
int main() {
cin &gt;&gt; T;
while (T--)
{
    cin &gt;&gt; s;
    sum = 0;
    base.clear();
    dfs(0, 0, s.length() - 1);
    int maxn = 0;
    for (auto it = base.begin(); it != base.end(); it++)
        maxn = max(maxn, it-&gt;second);
    cout &lt;&lt; sum - maxn &lt;&lt; endl;
}
}</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E5%9C%A8Web%E4%B8%AD%E6%90%9C%E7%B4%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E5%9C%A8Web%E4%B8%AD%E6%90%9C%E7%B4%A2/" class="post-title-link" itemprop="url">在Web中搜索</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:48:55 / Modified: 14:48:20" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uva-1597-在web中搜索"><a href="#uva-1597-在web中搜索" class="headerlink" title="uva 1597 在web中搜索"></a>uva 1597 在web中搜索</h1><p>输入nnn篇文章和mmm个请求（n&lt;100，m≤50000n &lt; 100\text{，}m \leq 50000n&lt;100，m≤50000），每个请求都是444种格式之一。</p>
<p>A: 找包含关键字A的文章。</p>
<p>A AND B 找同时包含关键字A和B的文章。</p>
<p>A OR B 找包含关键字A或B的文章。</p>
<p>NOT A 找不包含关键字A的文章。</p>
<p>处理询问时需要对每篇文章输出证据。前3种询问输出所有至少包含一个关键字的行。第4种询问输出不包含A的整篇文章。关键字只由小写字母组成，查找时忽略大小写。每行不超过不超过80字符，一共不超过1500行。</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ol>
<li>主要的STL是一个map&lt;string,set<Node>&gt; 用来存储每个单词出现的段号和行号。vector<string> txt[i]来存储第i段的若干句子，一句一句的存。</li>
<li>对于AND指令，需要n2次查找两个单词出现的段落和行号，只有当两个单词出现的段落一致的时候，才输出</li>
<li>OR指令同理</li>
<li>NOT需要循环所有的段落，对于A出现的段落集合中不包括的段，将它防在答案集合中<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;string&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">#include&lt;map&gt;</span><br><span class="line"># pragma warning(disable:4996)</span><br><span class="line"># define LOCAL</span><br><span class="line"># ifdef LOCAL</span><br><span class="line">FILE *fin &#x3D; freopen(&quot;习题5-10in.txt&quot;, &quot;r&quot;, stdin);</span><br><span class="line">FILE *fout &#x3D; freopen(&quot;习题5-10out.txt&quot;, &quot;w&quot;, stdout);</span><br><span class="line"># endif </span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">vector&lt;string&gt; txt[105];</span><br><span class="line">map&lt;string, set&lt;int&gt;&gt; which_pa;</span><br><span class="line">struct node &#123;</span><br><span class="line">	int p;</span><br><span class="line">	int r;</span><br><span class="line">	node(int p, int r) :p(p), r(r) &#123;&#125;</span><br><span class="line">	bool operator &lt;(const node&amp;a) const &#123;</span><br><span class="line">		return p &lt; a.p || p &#x3D;&#x3D; a.p&amp;&amp;r &lt; a.r;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">map&lt;string, set&lt;node&gt;&gt; words_in_where;</span><br><span class="line">int main() &#123;</span><br><span class="line">	int n, m;</span><br><span class="line">	string s;</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;n); getchar();</span><br><span class="line">	for (int i &#x3D; 0; i &lt; n; i++) &#123;</span><br><span class="line"></span><br><span class="line">		while (getline(cin, s) &amp;&amp; s !&#x3D; &quot;**********&quot;) &#123;</span><br><span class="line">			txt[i].push_back(s);</span><br><span class="line">			string r;</span><br><span class="line">			for (int j &#x3D; 0; j &lt; s.length(); j++) &#123;</span><br><span class="line">				if (isalpha(s[j])) r +&#x3D; tolower(s[j]);</span><br><span class="line">				else &#123;</span><br><span class="line">					if (!r.empty()) &#123;</span><br><span class="line">						words_in_where[r].insert(node(i, txt[i].size() - 1));</span><br><span class="line">						which_pa[r].insert(i);</span><br><span class="line">					&#125;</span><br><span class="line">					r.clear();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	scanf(&quot;%d&quot;, &amp;m); getchar();</span><br><span class="line">	for (int ff &#x3D; 0; ff &lt; m; ff++) &#123;</span><br><span class="line">		getline(cin, s);</span><br><span class="line">		int orx;</span><br><span class="line">		&#x2F;&#x2F;cout &lt;&lt; endl &lt;&lt; s &lt;&lt; endl &lt;&lt; endl;</span><br><span class="line">		if ((orx &#x3D; s.find(&quot; AND &quot;)) !&#x3D; string::npos) &#123;</span><br><span class="line">			string a &#x3D; s.substr(0, orx);</span><br><span class="line">			string b &#x3D; s.substr(orx + 5);</span><br><span class="line">			&#x2F;&#x2F;	cout &lt;&lt; a &lt;&lt; &quot; &quot; &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">			set&lt;node&gt; aw &#x3D; words_in_where[a];</span><br><span class="line">			set&lt;node&gt; bw &#x3D; words_in_where[b];</span><br><span class="line">			set&lt;node&gt; ans;</span><br><span class="line">			ans.clear();</span><br><span class="line">			if (a &#x3D;&#x3D; b) &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++)</span><br><span class="line">					ans.insert(*it);</span><br><span class="line">			&#125;</span><br><span class="line">			else &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++)</span><br><span class="line">					for (set&lt;node&gt;::iterator id &#x3D; bw.begin(); id !&#x3D; bw.end(); id++)</span><br><span class="line">						if ((*it).p &#x3D;&#x3D; (*id).p) &#123;</span><br><span class="line">							ans.insert(*it);</span><br><span class="line">							ans.insert(*id);</span><br><span class="line">						&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			if (ans.empty()) &#123;</span><br><span class="line">				cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">				continue;</span><br><span class="line">			&#125;</span><br><span class="line">			int k &#x3D; ans.begin()-&gt;p;</span><br><span class="line">			for (set&lt;node&gt;::iterator it &#x3D; ans.begin(); it !&#x3D; ans.end(); it++)</span><br><span class="line">			&#123;</span><br><span class="line">				int p &#x3D; (*it).p;</span><br><span class="line">				int r &#x3D; (*it).r;</span><br><span class="line">				if (k !&#x3D; p) &#123;</span><br><span class="line">					cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					k &#x3D; p;</span><br><span class="line">				&#125;</span><br><span class="line">				cout &lt;&lt; txt[p][r] &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		else if ((orx &#x3D; s.find(&quot; OR &quot;)) !&#x3D; string::npos) &#123;</span><br><span class="line">			string a &#x3D; s.substr(0, orx);</span><br><span class="line">			string b &#x3D; s.substr(orx + 4);</span><br><span class="line">			&#x2F;&#x2F;cout &lt;&lt; a &lt;&lt; &quot; &quot; &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">			set&lt;node&gt; aw &#x3D; words_in_where[a];</span><br><span class="line">			set&lt;node&gt; bw &#x3D; words_in_where[b];</span><br><span class="line">			set&lt;node&gt; ans;</span><br><span class="line">			ans.clear();</span><br><span class="line">			if (a &#x3D;&#x3D; b) &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++) &#123;</span><br><span class="line">					ans.insert(*it);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			else &#123;</span><br><span class="line">				for (set&lt;node&gt;::iterator it &#x3D; aw.begin(); it !&#x3D; aw.end(); it++)</span><br><span class="line">					ans.insert(*it);</span><br><span class="line">				for (set&lt;node&gt;::iterator id &#x3D; bw.begin(); id !&#x3D; bw.end(); id++)</span><br><span class="line">					ans.insert(*id);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			if (ans.empty()) &#123;</span><br><span class="line">				cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">				continue;</span><br><span class="line">			&#125;</span><br><span class="line">			int k &#x3D; ans.begin()-&gt;p;</span><br><span class="line">			for (set&lt;node&gt;::iterator it &#x3D; ans.begin(); it !&#x3D; ans.end(); it++)</span><br><span class="line">			&#123;</span><br><span class="line">				int p &#x3D; (*it).p;</span><br><span class="line">				int r &#x3D; (*it).r;</span><br><span class="line">				if (k !&#x3D; p) &#123;</span><br><span class="line">					cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					k &#x3D; p;</span><br><span class="line">				&#125;</span><br><span class="line">				cout &lt;&lt; txt[p][r] &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		else if (s[0]&#x3D;&#x3D;&#39;N&#39;) &#123;</span><br><span class="line">			string no &#x3D; s.substr(4);</span><br><span class="line">			&#x2F;&#x2F;cout &lt;&lt; no &lt;&lt; endl;</span><br><span class="line">			bool flag &#x3D; false;</span><br><span class="line">			bool first &#x3D; true;</span><br><span class="line">			for (int i &#x3D; 0; i &lt; n; i++) &#123;</span><br><span class="line">				if (!which_pa[no].count(i)) &#123;</span><br><span class="line">					if (first) first &#x3D; false; else cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					for (int j &#x3D; 0; j &lt; txt[i].size(); j++)</span><br><span class="line">						cout &lt;&lt; txt[i][j] &lt;&lt; endl;</span><br><span class="line">					flag &#x3D; true;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			if (flag) cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">			else cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		else &#123;</span><br><span class="line">			&#x2F;&#x2F;cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">			if (!words_in_where.count(s)) &#123;</span><br><span class="line">				cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">				continue;</span><br><span class="line">			&#125;##    ##  </span><br><span class="line">			int k &#x3D; words_in_where[s].begin()-&gt;p;</span><br><span class="line">			for (set&lt;node&gt;::iterator it &#x3D; words_in_where[s].begin(); it !&#x3D; words_in_where[s].end(); it++) &#123;</span><br><span class="line">				int p &#x3D; (*it).p;</span><br><span class="line">				int r &#x3D; (*it).r;</span><br><span class="line">				if (k !&#x3D; p) &#123;</span><br><span class="line">					cout &lt;&lt; &quot;----------&quot; &lt;&lt; endl;</span><br><span class="line">					k &#x3D; p;</span><br><span class="line">				&#125;</span><br><span class="line">				cout &lt;&lt; txt[p][r] &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line">			&#x2F;&#x2F;if (first) cout &lt;&lt; &quot;Sorry, I found nothing.&quot; &lt;&lt; endl;</span><br><span class="line">			cout &lt;&lt; &quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot; &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E5%B7%A1%E9%80%BB%E6%9C%BA%E5%99%A8%E4%BA%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E5%B7%A1%E9%80%BB%E6%9C%BA%E5%99%A8%E4%BA%BA/" class="post-title-link" itemprop="url">巡逻机器人</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:48:55 / Modified: 14:48:08" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uva1600-巡逻机器人"><a href="#uva1600-巡逻机器人" class="headerlink" title="uva1600 巡逻机器人"></a>uva1600 巡逻机器人</h1><p>本题有t组数据，每组数据包含一个m*n的01矩阵，0表示能走，1表示有一个障碍物。机器人能往上下左右四个方向走动.它要从(1,1)到(m,n),可以连续翻越k个障碍物,求它从(1,1)到(m,n)的最短路径.如果不能到达输出”-1”.</p>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ol>
<li><p>本题基础是一个bfs，附加可以跳跃0的条件。</p>
</li>
<li><p>对无权图进行bfs的时候，走到每一个点时的步数都是一定的，所以对于每个点，应该让能够跨越障碍的机会越多越好，所以Node节点中应该包含(r,c,k,step)其中k为到达(r,c)位置时剩余的跨越障碍的机会，step为最小步数。(※如果只需要知道步数而不需要路径，则将其包在结构体里即可)</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p> #include&lt;bits/stdc++.h&gt;</p>
<h1 id="pragma-warning-disable-4996"><a href="#pragma-warning-disable-4996" class="headerlink" title="pragma warning(disable:4996)"></a>pragma warning(disable:4996)</h1><h1 id="define-LOCAL"><a href="#define-LOCAL" class="headerlink" title="define LOCAL"></a>define LOCAL</h1><h1 id="ifdef-LOCAL"><a href="#ifdef-LOCAL" class="headerlink" title="ifdef LOCAL"></a>ifdef LOCAL</h1><p> FILE *fin = freopen(“习题6-5in.txt”, “r”, stdin);<br> FILE *fout = freopen(“习题6-5out.txt”, “w”, stdout);</p>
<h1 id="endif"><a href="#endif" class="headerlink" title="endif"></a>endif</h1><p> using namespace std;<br> int n, x, y, k;<br> int g[20][20];<br> struct node {</p>
<pre><code>int r, c, k, step;

node(int r, int c, int k, int step = 0) :r(r), c(c), k(k), step(step) {}</code></pre><p> };<br> int step[20][20];<br> int dr[] = { 1, 0, -1, 0 };<br> int dc[] = { 0, 1, 0, -1 };<br> int min_step;<br> void bfs() {</p>
<pre><code>queue&lt;node&gt;q;
q.push(node(0, 0, k));
int block = 0;
while (!q.empty()) {
    node u = q.front(); q.pop();

    if (u.r == x - 1 &amp;&amp; u.c == y - 1) {
        min_step = u.step;
        break;
    }
    for (int i = 0; i &lt; 4; i++) {
        int r = u.r + dr[i], c = u.c + dc[i];
        if (r &gt;= 0 &amp;&amp; r &lt; x&amp;&amp;c &gt;= 0 &amp;&amp; c &lt; y) {
            if (step[r][c] &lt; u.k) {//u.k是走到step[r][c]处，还剩余的跳过障碍的机会，所以要保留大的
                step[r][c] = u.k;
            }
            else continue;//如果step[r][c]更大，说明目前正在走的路不是最好的(因为bfs走到每个节点的步数是一定的
                          //所以剩余的跨越障碍的次数越多越好),不需要再走下去，所以不入队)
            if (g[r][c] == 0) q.push(node(r, c, k, u.step + 1));
            else if(u.k) q.push(node(r, c, u.k - 1, u.step + 1));
        }
    }
}</code></pre><p> }<br> int main() {<br> cin &gt;&gt; n;<br> while (n–) {</p>
<pre><code>memset(g, 0, sizeof(g));
memset(step, -1, sizeof(step));
cin &gt;&gt; x &gt;&gt; y;
cin &gt;&gt; k;
for (int i = 0; i &lt; x; i++)
    for (int j = 0; j &lt; y; j++)
        cin &gt;&gt; g[i][j];
min_step = 999;
bfs();
min_step == 999 ? cout &lt;&lt; &quot;-1&quot; &lt;&lt; endl:cout &lt;&lt; min_step &lt;&lt; endl;</code></pre><p> }<br> }</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E5%BE%AA%E7%8E%AF%E5%B0%8F%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E5%BE%AA%E7%8E%AF%E5%B0%8F%E6%95%B0/" class="post-title-link" itemprop="url">循环小数</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:48:55 / Modified: 14:48:11" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="uva-202-循环小数"><a href="#uva-202-循环小数" class="headerlink" title="uva 202 循环小数"></a>uva 202 循环小数</h1><p>输入整数aaa 和bbb （0≤aaa ≤3000,1≤bbb ≤3000），输出a/b的循环小数表示以及循环节的长度。例如aaa =5，bbb =43 小数表示为0.(116279069767441860465)，循环节长度为21。 补充： 如果循环节超过50位，就在第50位后打省略号（三个点，就像“…”）</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   #include&lt;bits&#x2F;stdc++.h&gt;</span><br><span class="line">   # pragma warning(disable:4996)</span><br><span class="line">   # define LOCAL</span><br><span class="line">   # ifdef LOCAL</span><br><span class="line">   FILE *fin &#x3D; freopen(&quot;习题3-8in.txt&quot;, &quot;r&quot;, stdin);</span><br><span class="line">   FILE *fout &#x3D; freopen(&quot;习题3-8out.txt&quot;, &quot;w&quot;, stdout);</span><br><span class="line">   # endif </span><br><span class="line">   &#x2F;&#x2F;被除数出现重复，那么出现了循环节</span><br><span class="line">   const int maxn &#x3D; 100000 + 5;</span><br><span class="line">   </span><br><span class="line">   int a, b;</span><br><span class="line">   int vis[maxn], res[maxn];</span><br><span class="line">   </span><br><span class="line">   int main() &#123;</span><br><span class="line">while (scanf(&quot;%d%d&quot;, &amp;a, &amp;b) &#x3D;&#x3D; 2) &#123;</span><br><span class="line">	memset(vis, -1, sizeof(vis));</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;※这样做可以得到所有小数</span><br><span class="line">	&#x2F;&#x2F;vis用来确定是否出现循环，res存小数部分</span><br><span class="line">	&#x2F;&#x2F;本题特殊在于一但出现一个数字重复，那么可以认为出现循环节</span><br><span class="line">	int c &#x3D; a % b, cnt &#x3D; 0;</span><br><span class="line">	c *&#x3D; 10;</span><br><span class="line">	while (vis[c] &#x3D;&#x3D; -1) &#123;</span><br><span class="line">		res[cnt] &#x3D; c &#x2F; b;</span><br><span class="line">		vis[c] &#x3D; cnt++;</span><br><span class="line">		c %&#x3D; b;</span><br><span class="line">		c *&#x3D; 10;</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F; repeating cycle start-position</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">	int sta_pos &#x3D; vis[c];</span><br><span class="line">	printf(&quot;%d&#x2F;%d &#x3D; %d.&quot;, a, b, a &#x2F; b);</span><br><span class="line">	for (int i &#x3D; 0; i &lt; sta_pos; i++) &#123;</span><br><span class="line">		printf(&quot;%d&quot;, res[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;(&quot;);</span><br><span class="line">	if (cnt - sta_pos &lt;&#x3D; 50) &#123;</span><br><span class="line">		for (int i &#x3D; sta_pos; i &lt; cnt; i++) &#123;</span><br><span class="line">			printf(&quot;%d&quot;, res[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	else &#123;</span><br><span class="line">		for (int i &#x3D; sta_pos; i &lt; sta_pos + 50; i++) &#123;</span><br><span class="line">			printf(&quot;%d&quot;, res[i]);</span><br><span class="line">		&#125;</span><br><span class="line">		printf(&quot;...&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	printf(&quot;)\n&quot;);</span><br><span class="line">	printf(&quot;   %d &#x3D; number of digits in repeating cycle\n\n&quot;, cnt - sta_pos);</span><br><span class="line">&#125;</span><br><span class="line">return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://github.com/Cccceb/Cccceb.github.io/2020/01/20/%E6%97%8B%E8%BD%AC%E6%B8%B8%E6%88%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ceb">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/01/20/%E6%97%8B%E8%BD%AC%E6%B8%B8%E6%88%8F/" class="post-title-link" itemprop="url">旋转游戏</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-01-20 11:48:55 / Modified: 15:20:25" itemprop="dateCreated datePublished" datetime="2020-01-20T11:48:55+08:00">2020-01-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="UVA-1343-旋转游戏"><a href="#UVA-1343-旋转游戏" class="headerlink" title="UVA 1343 旋转游戏"></a>UVA 1343 旋转游戏</h1><img src="/img_UVA习题笔记/1.png">


<p>现给定一个初始状态，请使用最少的操作次数，使 “# ” 形棋盘最中间的 888 个格子里的数字相同。输入包括不超过 303030 组测试数据。每个测试数据只包括一行，包含 242424 个整数，每相邻两个整数之间用 111 个空格隔开，表示这个 “# ” 形棋盘的初始状态。（这些整数的排列顺序是从上至下，同一行的从左至右。例如 1 1 1 1 3 2 3 2 3 1 3 2 2 3 1 2 2 2 3 1 2 1 3 3\text{1 1 1 1 3 2 3 2 3 1 3 2 2 3 1 2 2 2 3 1 2 1 3 3}1 1 1 1 3 2 3 2 3 1 3 2 2 3 1 2 2 2 3 1 2 1 3 3 表示图 111 最左边的状态。）每两组测试数据之间没有换行符。输入文件以一行 000 结束。对于每组测试数据，输出两行。第一行用字符 A∼H\text{A}\sim \text{H}A∼H 输出操作的方法，每两个操作字符之间没有空格分开，如果不需要任何步数，输出 No moves needed。第二行输出最终状态中最中间的 888 个格子里的数字。如果有多组解，输出操作次数最少的一组解；如果仍有多组解，输出字典序最小的一组。任意相邻两组测试数据的输出之间不需输出换行符。</p>
<h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ol>
<li><p>典型的状态空间搜索，采用迭代加深搜的方法。</p>
</li>
<li><p><strong>IDA*模板题</strong></p>
</li>
<li><p>本题中要求中间8个数是相同的，而出现的数字又限定在1，2，3中。所以可以分三次求解，这样可以减少搜素空间。以目标为1为例，这时，将元素看作为1和非1的元素，那么状态总数就变成了8个1，16个非1的全排列，即24!/(8!*16!)。</p>
</li>
<li><p>其实本题中的state可以定义为bool型，因为只关心比如1和非1</p>
</li>
<li><p>关于剪枝</p>
<ol>
<li>最直接的，由于A-F/B-E/H-C/G-D相对，所以不能回滚上一层的操作。<strong>实现时使用op数组记录对应关系</strong></li>
<li>每次旋转至多引入一个新的元素，也就是说每次回滚只能增加一个相同的元素。所以如果当前的层数d加上中间8个数字中非当前目标的数字个数大于最大个数maxd时，需要进行剪枝。</li>
</ol>
</li>
<li><p>关于旋转：由于输入方式比较特殊，旋转的次序固定，所以把A-H中每个元素在输入串中出现的位置手动写出。旋转时只需要模7加即可。</p>
</li>
<li><p>相同的思路，将中间8个格出现的位置预先写出也可简化代码。</p>
</li>
<li><p>与编辑书稿有相似之处</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">bool dfs(int d) &#123;</span><br><span class="line">if (d &#x3D;&#x3D; maxd) &#123;</span><br><span class="line">	if (not_equal(d) &#x3D;&#x3D; 0) return true;</span><br><span class="line">	else return false;</span><br><span class="line">&#125;</span><br><span class="line">int next &#x3D; d + 1;</span><br><span class="line">if (d + not_equal(d) &gt; maxd) return false;</span><br><span class="line">for (int i &#x3D; 0; i &lt; 8; i++) &#123;</span><br><span class="line">	if (d &gt; 0 &amp;&amp; op[v[d-1]]&#x3D;&#x3D; i) continue;</span><br><span class="line"></span><br><span class="line">	v[d] &#x3D; i;</span><br><span class="line">	memcpy(state[next], state[d], 24 * sizeof(int));</span><br><span class="line">	for (int j &#x3D; 0; j &lt; 7; j++)</span><br><span class="line">		state[next][move[i][j]] &#x3D; state[d][move[i][(j + 1) % 7]];</span><br><span class="line">	if (dfs(next)) return true;</span><br><span class="line">&#125;</span><br><span class="line">return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="update-判断是否字典序更小"><a href="#update-判断是否字典序更小" class="headerlink" title="update 判断是否字典序更小"></a>update 判断是否字典序更小</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bool update() &#123;</span><br><span class="line">if (ans[0] !&#x3D; -1)</span><br><span class="line">	for (int i &#x3D; 0; i &lt; maxd; i++)</span><br><span class="line">		if (v[i] &gt; ans[i]) return false;</span><br><span class="line">		else if (v[i] &lt; ans[i]) break;</span><br><span class="line">memcpy(ans, v, sizeof(int)*maxd);</span><br><span class="line">return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="not-equla-统计中间八格中与当前目标不等的元素个数"><a href="#not-equla-统计中间八格中与当前目标不等的元素个数" class="headerlink" title="not_equla 统计中间八格中与当前目标不等的元素个数"></a>not_equla 统计中间八格中与当前目标不等的元素个数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">int not_equal(int d) &#123;</span><br><span class="line">int ans &#x3D; 0;</span><br><span class="line">for (int i &#x3D; 0; i &lt; 8; i++)</span><br><span class="line">	if (state[d][mid[i]] !&#x3D; cur_nm)	ans++;</span><br><span class="line">return ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="main"><a href="#main" class="headerlink" title="main"></a>main</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">int maxd;</span><br><span class="line">int move[8][7] &#x3D; &#123;</span><br><span class="line">&#123;0,2,6,11,15,20,22&#125;,</span><br><span class="line">&#123;1,3,8,12,17,21,23&#125;,</span><br><span class="line">&#123;10,9,8,7,6,5,4&#125;,</span><br><span class="line">&#123;19,18,17,16,15,14,13&#125;,</span><br><span class="line">&#123;23,21,17,12,8,3,1&#125;,</span><br><span class="line">&#123;22,20,15,11,6,2,0&#125;,</span><br><span class="line">&#123;13,14,15,16,17,18,19&#125;,</span><br><span class="line">&#123;4,5,6,7,8,9,10&#125;</span><br><span class="line">&#125;;</span><br><span class="line">int mid[8] &#x3D; &#123; 6,7,8,11,12,15,16,17 &#125;;</span><br><span class="line">int op[8] &#x3D; &#123; 5,4,7,6,1,0,3,2 &#125;;</span><br><span class="line">int state[50][24];</span><br><span class="line">int ans[50], v[50];</span><br><span class="line">int table[24];</span><br><span class="line">inline int not_equal(int d);</span><br><span class="line">bool dfs(int d);</span><br><span class="line">inline bool update();</span><br><span class="line">int cur_nm;</span><br><span class="line">int main() &#123;</span><br><span class="line">while (true)</span><br><span class="line">&#123;</span><br><span class="line">	memset(ans, -1, sizeof(ans));</span><br><span class="line">	scanf(&quot;%d&quot;, &amp;table[0]);</span><br><span class="line">	if (!table[0]) break;</span><br><span class="line">	for (int i &#x3D; 1; i &lt; 24; i++)</span><br><span class="line">		scanf(&quot;%d&quot;, &amp;table[i]);</span><br><span class="line">	int p &#x3D; 0;</span><br><span class="line">	for (maxd &#x3D; 0;; maxd++) &#123;</span><br><span class="line">		for (cur_nm &#x3D; 1; cur_nm &lt;&#x3D; 3; cur_nm++) &#123;</span><br><span class="line">			memcpy(state[0], table, 24 * sizeof(int));</span><br><span class="line">			if (dfs(0) &amp;&amp; update()) </span><br><span class="line">				p &#x3D; cur_nm;</span><br><span class="line">		&#125;</span><br><span class="line">		if (p) break;</span><br><span class="line">	&#125;</span><br><span class="line">	if (maxd)</span><br><span class="line">		for (int i &#x3D; 0; i &lt; maxd; i++) printf(&quot;%c&quot;, ans[i] + &#39;A&#39;);</span><br><span class="line">	else printf(&quot;No moves needed&quot;);</span><br><span class="line">	printf(&quot;\n%d\n&quot;, p);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ceb</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">85</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ceb</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


  
  <script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
  
</body>
</html>
