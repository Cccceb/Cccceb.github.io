<!DOCTYPE html>


<html lang="en" >


<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     Hexo
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

  

  <script type="text/javascript"
	src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
</head>

</html>

<body>
  <div id="app">
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://github.com/Shen-Yu/hexo-theme-ayer"
        target="_blank"><img width="149" height="149" src="/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Hexo</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-第7章搜索策略之与或树" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/06/13/%E7%AC%AC7%E7%AB%A0%E6%90%9C%E7%B4%A2%E7%AD%96%E7%95%A5%E4%B9%8B%E4%B8%8E%E6%88%96%E6%A0%91/"
    >第7章搜索策略之与或树</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/06/13/%E7%AC%AC7%E7%AB%A0%E6%90%9C%E7%B4%A2%E7%AD%96%E7%95%A5%E4%B9%8B%E4%B8%8E%E6%88%96%E6%A0%91/" class="article-date">
  <time datetime="2020-06-13T05:03:31.641Z" itemprop="datePublished">2020-06-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="基础知识"><a class="markdownIt-Anchor" href="#基础知识"></a> 基础知识</h1>
<h2 id="可解结点与不可解结点"><a class="markdownIt-Anchor" href="#可解结点与不可解结点"></a> 可解结点与不可解结点</h2>
<h3 id="可解结点递归定义"><a class="markdownIt-Anchor" href="#可解结点递归定义"></a> 可解结点递归定义</h3>
<ul>
<li>终叶节点是可解节点，直接和本原问题相关连；</li>
<li>非终叶节点含有“或”子节点时，只要子节点中有一个是可解节点，该非终叶节点便为可解节点；</li>
<li>非终叶节点含有“与”子节点时，只有子节点全为可解节点时，该非终叶节点才是可解节点。</li>
</ul>
<h3 id="不可解结点的定义"><a class="markdownIt-Anchor" href="#不可解结点的定义"></a> 不可解结点的定义</h3>
<p>关于可解节点的三个条件全部不满足的节点，称为不可解节点；</p>
<h2 id="一般搜索过程流程"><a class="markdownIt-Anchor" href="#一般搜索过程流程"></a> 一般搜索过程流程</h2>
<ol>
<li>把原始问题作为初始节点S，并把它作为当前节点。</li>
<li>应用分解或等价变换算符对当前节点进行扩展。</li>
<li>为每个子节点设置指向父节点的指针。</li>
<li>选择合适子节点作为当前节点，反复执行第(2)、(3)步，在此期间多次调用可解标示过程和不可解标示过程，直到初始节点被标示为可解节点或不可解节点为止。
<ul>
<li>由这个搜索过程所形成的节点和指针结构称为搜索树。</li>
<li>搜索中，通过可解标示过程确定初始节点是可解的，则由此初始节点及其下属的可解节点就构成了解树。</li>
</ul>
</li>
</ol>
<h2 id="剪枝"><a class="markdownIt-Anchor" href="#剪枝"></a> 剪枝</h2>
<ul>
<li>如果已确定某个节点为可解节点，其不可解的后裔节点不再有用，可从搜索树中删去；</li>
<li>若已确定某个节点是不可解节点，其全部后裔节点都不再有用，可从搜索树中删去。但当前这个不可解节点还不能删去，在判断其先辈节点的可解性时还要用到</li>
</ul>
<h1 id="盲目搜索"><a class="markdownIt-Anchor" href="#盲目搜索"></a> 盲目搜索</h1>
<h2 id="广度优先搜索"><a class="markdownIt-Anchor" href="#广度优先搜索"></a> 广度优先搜索</h2>
<h3 id="流程"><a class="markdownIt-Anchor" href="#流程"></a> 流程</h3>
<img src="/MyImages/image-20200422095129126.png" alt="image-20200422095129126" style="zoom: 50%;" />
<img src="/MyImages/image-20200422095147781.png" alt="image-20200422095147781" style="zoom: 50%;" />
<ul>
<li>注： 放入OPEN表中时，子节点要放到OPEN表尾部，配指向父节点的指针</li>
</ul>
<h3 id="举例"><a class="markdownIt-Anchor" href="#举例"></a> 举例</h3>
<h2 id="深度优先搜索"><a class="markdownIt-Anchor" href="#深度优先搜索"></a> 深度优先搜索</h2>
<ul>
<li>区别在于是向OPEN表的首部加如结点</li>
</ul>
<h2 id="与或树的深度-宽度优先搜索特点"><a class="markdownIt-Anchor" href="#与或树的深度-宽度优先搜索特点"></a> 与/或树的深度、宽度优先搜索特点</h2>
<ul>
<li>都是盲目搜索。</li>
<li>搜索从初始节点开始，先自上而下进行搜索，寻找终叶节点及端点节，然后再自下而上进行标示。一旦初始节点被标示为可解或不可解节点，搜索就不再继续进行。</li>
<li>搜索都按确定路线进行，当选择某个节点进行扩展时，只考虑节点在与/或树中的位置，没有考虑要付出的代价，因而求得的解树不一定是代价最小的解树，即不一定是最优解树。</li>
</ul>
<h1 id="有序搜索启发式搜索策略"><a class="markdownIt-Anchor" href="#有序搜索启发式搜索策略"></a> 有序搜索（启发式搜索策略）</h1>
<ul>
<li>用于与/或树的有序搜索是求代价最小的解树的搜索方法</li>
<li><strong>基本思想</strong>：为求得代价最小的解树，每次确定待扩展节点时，需要往前多看几步（向叶子），<strong>计算扩展这个节点可能要付出的代价</strong>，并选择代价最小的节点进行扩展。</li>
</ul>
<h2 id="解树的代价计算"><a class="markdownIt-Anchor" href="#解树的代价计算"></a> 解树的代价计算</h2>
<p>通过计算解树中节点的代价得到。若问题可解，由子节点代价推算父节点代价，<strong>逐层上推</strong>，最终求出S的代价，即<strong>解树的代价</strong></p>
<ul>
<li>如果x是终叶节点，则定义x的代价： h(x)=0</li>
<li>如果x不可扩展，且不是终叶节点，则定义h(x)=∞</li>
<li>如果x是“或”节点，y1， y2， …， yn是它的子节点，则x的代价为$$h(x)=min_{1\leq i\leq n}{c(x,y_i)+h(y_i)}$$</li>
<li>如果x是“与”结点，可以使用
<ul>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><msub><mi>x</mi><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>n</mi></mrow></msub><mo stretchy="false">{</mo><mi>c</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>h</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">h(x)=max_{1\leq i\leq n}\{c(x,y_i)+h(y_i)\}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.24517899999999998em;"><span></span></span></span></span></span></span><span class="mopen">{</span><span class="mord mathdefault">c</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></span></p>
</li>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>n</mi></mrow><mi>n</mi></munderover><mo stretchy="false">{</mo><mi>c</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi>h</mi><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">h(x)=\sum ^n_{1\leq i\leq n}\{c(x,y_i)+h(y_i)\}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0242450000000005em;vertical-align:-1.372848em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.8723309999999997em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathdefault mtight">n</span></span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.300005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.372848em;"><span></span></span></span></span></span><span class="mopen">{</span><span class="mord mathdefault">c</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></span></p>
</li>
</ul>
</li>
</ul>
<h3 id="举例-2"><a class="markdownIt-Anchor" href="#举例-2"></a> 举例</h3>
<img src="/MyImages/72.png" style="zoom: 67%;" />
<h3 id="问题"><a class="markdownIt-Anchor" href="#问题"></a> 问题</h3>
<ul>
<li>计算h(x)的条件：已知x所有子节点的代价</li>
<li><strong>问题</strong>：搜索是自上而下进行的，只有不可扩展节点的代价是已知的（∞或0），因此除非x的所有子节点都不可扩展，否则x的代价无法计算得到</li>
<li><strong>解决方案</strong>：根据问题本身提供的启发性信息定义一个启发函数，由启发函数估算子节点的代价，然后反推计算父节点和先辈节点的代价。每当有新一代的节点生成时，都要自下而上地重新计算先辈节点的代价</li>
</ul>
<h2 id="希望树"><a class="markdownIt-Anchor" href="#希望树"></a> 希望树</h2>
<ul>
<li>选择待扩展节点时，挑选有希望成为最优解树一部分的节点进行扩展，保证任一时刻求出的部分解树的代价都是最小的。<br />
这些节点及先辈节点（包括初始节点S）构成的与/或树有可能成为最优解树一部分，被称为<strong>希望树</strong></li>
<li>随着新节点的生成，结点的代价不断变化，希望树也不断变化</li>
<li>有序搜索是不断选择，不断调整希望树的过程</li>
</ul>
<h3 id="希望树的构成"><a class="markdownIt-Anchor" href="#希望树的构成"></a> 希望树的构成</h3>
<ul>
<li>初始节点S在希望树中</li>
<li>如果节点x在希望树中，则一定有
<ul>
<li>如果x是“或”节点，y1， y2， …， yn是它的子节点，则具有$$h(x)=min_{1\leq i\leq n}{c(x,y_i)+h(y_i)}$$，值的那个子节点也在希望树中</li>
<li>如果x是与结点，则它的全部子节点都应该在希望树中</li>
</ul>
</li>
</ul>
<h3 id="有序搜索算法流程"><a class="markdownIt-Anchor" href="#有序搜索算法流程"></a> 有序搜索算法流程</h3>
<p>(1)把初始节点S放入OPEN表中。<br />
(2)根据当前搜索树中节点的代价求出以S为根的希望树T 。<br />
(3)依次把OPEN表中T的端节点N选出放入CLOSED表中。<br />
(4)如果N是终叶节点，则做下列工作：<br />
①标示N为可解节点。<br />
②对T应用可解标示过程，标记N的先辈节点。<br />
③若S被标记为可解，则T就是最优解树，成功退出。<br />
④否则，从OPEN表中删去具有可解先辈的节点。</p>
<p>(5)如果N不是终叶节点，且不可扩展，则做下列工作：<br />
①标示N为不可解节点。<br />
②对T应用不可解标示过程，标记N的先辈节点。<br />
③若初始节点S被标示为不可解节点，则失败退出。<br />
④否则，从OPEN表中删去有不可解先辈的节点。<br />
(6)如果N不是终叶节点，但可扩展，则做下列工作：<br />
①扩展N，产生N的所有子节点。<br />
②把子节点放入OPEN表，并为每个子节点配置父指针。<br />
③计算子节点的h值及其先辈节点的h值。<br />
(7)转第(2)步。</p>
<h3 id="举例-3"><a class="markdownIt-Anchor" href="#举例-3"></a> 举例</h3>
<p>此例中路径长度为1，每次扩展两层</p>
<img src="/MyImages/73.png" style="zoom:67%;" />
<img src="/MyImages/74.png" style="zoom:67%;" />
<img src="/MyImages/75.png" style="zoom:67%;" />
<img src="/MyImages/76.png" style="zoom:67%;" />
<h1 id="博弈"><a class="markdownIt-Anchor" href="#博弈"></a> 博弈</h1>
<h2 id="博弈树的形成"><a class="markdownIt-Anchor" href="#博弈树的形成"></a> 博弈树的形成</h2>
<ul>
<li>博弈过程中，设我方为A方，则可供A方选择的若干行动方案之间是“或”关系；</li>
<li>在A方行动方案基础上，B方也有若干个可供选择的行动方案，则这些方案对A方来说就是“与”关系。</li>
<li>如此，逐层扩展，并用图表示博弈过程，得到的就是一棵与/或树，描述博弈过程的与/或树被称为博弈树。</li>
</ul>
<h2 id="博弈树搜索的特点"><a class="markdownIt-Anchor" href="#博弈树搜索的特点"></a> 博弈树搜索的特点</h2>
<ul>
<li>博弈的<strong>初始格局是初始节点。</strong></li>
<li>博弈树中，<strong>“或”节点和“与”节点是逐层交替出现的</strong>。自己一方扩展的节点之间是“或”关系，对方扩展的节点之间是“与”关系。双方轮流扩展节点。</li>
<li>所有能使<strong>自己一方获胜的终局都是本原问题</strong>，相应节点是可解节点；所有<strong>使对方获胜的终局都是不可解节点</strong>。</li>
</ul>
<h2 id="极大极小分析法"><a class="markdownIt-Anchor" href="#极大极小分析法"></a> 极大极小分析法</h2>
<h3 id="基本思想"><a class="markdownIt-Anchor" href="#基本思想"></a> 基本思想</h3>
<ul>
<li>根据问题特性定义一个估价函数。考虑每一方案实施后，对方可能采取的所有行动，利用估价函数估算当前博弈树端节点得分（<strong>静态估值</strong>）。</li>
<li>利用端节点的估值推算其父节点得分（<strong>倒推值</strong>）
<ul>
<li><strong>对“或”节点</strong>，为了选一个对自己最有利的方案，选<strong>其子节点中的最大得分</strong>作为父节点得分；</li>
<li><strong>对“与”节点</strong>，立足于最坏情况，<strong>选其子节点中的最小得分</strong>作为父节点得分。</li>
</ul>
</li>
<li>具有较大倒推值的行动方案就是当前最好的行动方案。</li>
</ul>
<h3 id="倒退值的计算"><a class="markdownIt-Anchor" href="#倒退值的计算"></a> 倒退值的计算</h3>
<img src="/MyImages/image-20200510233317658.png" alt="image-20200510233317658" style="zoom: 50%;" />
<h3 id="举例-4"><a class="markdownIt-Anchor" href="#举例-4"></a> 举例</h3>
<p>设有如图所示九个空格，A、B二人对奕，轮到谁走谁就往空格上放一只自己的棋子，最先使自己棋子构成三子一线的就获得胜利。<br />
设A的棋子用“a”表示，B的棋子用“b”表示，A先走棋。<br />
为了不生成太大的博弈树，假设每次仅扩展两层。</p>
<ul>
<li>设计估价函数e§
<ul>
<li>若P是A必胜的棋局，则e§=+∞</li>
<li>若P是B必胜的棋局，则e§=-∞</li>
<li>若P是胜负未定的棋局，则e§=e(+P)-e(-P)
<ul>
<li>e(+P)：棋局P上有可能使a成为三子成一线的数目；</li>
<li>e(-P)：棋局P上有可能使b成为三子成一线的数目。</li>
</ul>
</li>
<li>
<img src="/MyImages/77.png" style="zoom: 67%;" />
</li>
</ul>
</li>
<li>
<img src="/MyImages/78.png" style="zoom:67%;" />
</li>
<li>
<img src="/MyImages/79.png" style="zoom:67%;" />
</li>
</ul>
<h3 id="极大极小法的缺点"><a class="markdownIt-Anchor" href="#极大极小法的缺点"></a> 极大极小法的缺点</h3>
<ul>
<li>首先，生成一定深度的博弈树。然后，对端节点进行估值，再计算上层节点的倒推值，效率较低</li>
<li>分析可知：博弈树具有“与”、“或”节点逐层交替出现的特点，如能边生成节点边计算估值及倒推值，就有可能删去一些不必要的节点，从而减少搜索及计算的工作量。</li>
</ul>
<h3 id="α-β剪枝"><a class="markdownIt-Anchor" href="#α-β剪枝"></a> α-β剪枝</h3>
<ul>
<li>对“与”节点，取当前子节点中最小倒推值作为它的倒推值上界，该值被称为值。</li>
<li>对“或”节点，取当前子节点中最大倒推值作为它的倒推值下界，该值被称为值。</li>
</ul>
<img src="/MyImages/80.png" style="zoom: 67%;" />
<ul>
<li>
<p><strong>α剪枝</strong><br />
对“或”节点x，如果x的α值不能降低其父节点的值，则对x以下的分枝可停止搜索，并使x的倒推值为α。这种剪枝称为α剪枝。</p>
</li>
<li>
<p><strong>β剪枝</strong><br />
对“与”节点x，如果x的β值不能升高其父节点的值，则对x以下的分枝可停止搜索，并使x的倒推值为β。这种剪枝称为剪枝。</p>
</li>
<li>
<p>举例</p>
<img src="/MyImages/81.png" style="zoom:67%;" /></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-第8章遗传算法" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/06/13/%E7%AC%AC8%E7%AB%A0%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/"
    >第8章遗传算法</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/06/13/%E7%AC%AC8%E7%AB%A0%E9%81%97%E4%BC%A0%E7%AE%97%E6%B3%95/" class="article-date">
  <time datetime="2020-06-13T05:03:31.641Z" itemprop="datePublished">2020-06-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="基本概念"><a class="markdownIt-Anchor" href="#基本概念"></a> 基本概念</h1>
<h2 id="基本思想"><a class="markdownIt-Anchor" href="#基本思想"></a> 基本思想</h2>
<p>遗传算法GA把问题的解表示成“染色体”，在算法中即是以一定方式编码的串。并且，在执行遗传算法之前，给出一群“染色体”，也即假设解。然后，把这些假设解置于问题的“环境”中，并按适者生存的原则，从中选择出较适应环境的“染色体”进行复制，再通过交叉，变异过程产生更适应环境的新一代“染色体”群。这样，一代一代地进化，最后就会收敛到最适应环境的一个“染色体”上，它就是问题的最优解。</p>
<h2 id="基本概念-2"><a class="markdownIt-Anchor" href="#基本概念-2"></a> 基本概念</h2>
<h3 id="串"><a class="markdownIt-Anchor" href="#串"></a> 串</h3>
<p>它是个体(Individual)的形式，在算法中为二进制串或者其它编码方式的串，并且对应于遗传学中的染色体(Chromosome)</p>
<h3 id="群体"><a class="markdownIt-Anchor" href="#群体"></a> 群体</h3>
<p>个体的集合称为群体，串是群体的元素</p>
<h3 id="群体大小"><a class="markdownIt-Anchor" href="#群体大小"></a> 群体大小</h3>
<p>个体的集合称为群体，串是群体的元素</p>
<h3 id="基因"><a class="markdownIt-Anchor" href="#基因"></a> 基因</h3>
<ul>
<li>基因是串中的元素，基因用于表示个体的特征。</li>
<li>例如有一个串S＝1011，则其中的1，0，1，1这<br />
4个元素分别称为基因。</li>
</ul>
<h3 id="基因位置"><a class="markdownIt-Anchor" href="#基因位置"></a> 基因位置</h3>
<ul>
<li>一个基因在串中的位置称为基因位置，有时也简称基因位（基因座）。</li>
<li>基因位置由串的左向右计算，例如在串S＝1101中，0的基因位置是3。</li>
<li>基因位置对应于遗传学中的地点(Locus)。</li>
</ul>
<h3 id="适应度"><a class="markdownIt-Anchor" href="#适应度"></a> 适应度</h3>
<p>表示某一个体对于环境的适应程度。</p>
<h2 id="基本机理"><a class="markdownIt-Anchor" href="#基本机理"></a> 基本机理</h2>
<h3 id="组成"><a class="markdownIt-Anchor" href="#组成"></a> 组成</h3>
<p>编码机制、控制参数、适应度函数、遗传算子</p>
<h3 id="编码机制"><a class="markdownIt-Anchor" href="#编码机制"></a> 编码机制</h3>
<p>用遗传算法解决问题时，首先要对待解决问题的模型结构和参数进行编码，一般用字符串表示。</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-第5章不确定性推理" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/06/13/%E7%AC%AC5%E7%AB%A0%E4%B8%8D%E7%A1%AE%E5%AE%9A%E6%80%A7%E6%8E%A8%E7%90%86/"
    >第5章不确定性推理</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/06/13/%E7%AC%AC5%E7%AB%A0%E4%B8%8D%E7%A1%AE%E5%AE%9A%E6%80%A7%E6%8E%A8%E7%90%86/" class="article-date">
  <time datetime="2020-06-13T05:03:31.626Z" itemprop="datePublished">2020-06-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="基本概念"><a class="markdownIt-Anchor" href="#基本概念"></a> 基本概念</h1>
<h2 id="不确定性推理"><a class="markdownIt-Anchor" href="#不确定性推理"></a> 不确定性推理</h2>
<ol>
<li>是对不确定性知识的运用和处理</li>
<li>从不确定性的初始证据出发，运用不确定性的知识，最终推出具有一定程度不确定性的结论</li>
</ol>
<h2 id="不确定性推理中的基本问题"><a class="markdownIt-Anchor" href="#不确定性推理中的基本问题"></a> 不确定性推理中的基本问题</h2>
<ol>
<li>
<p>不确定性的表示</p>
</li>
<li>
<p>不确定性的匹配</p>
</li>
<li>
<p>组合证据的不确定性的计算</p>
<ul>
<li>
<p>最大最小法：T(E1 AND E2)=min{T(E1),T(E2)}<br />
T(E1 OR E2)=max{T(E1),T(E2)}</p>
</li>
<li>
<p>概率法：</p>
<p>T(E1 AND E2)=T(E1)×T(E2)<br />
T(E1 OR E2)=T(E1)＋T(E2)－T(E1)×T(E2)</p>
</li>
<li>
<p>有界法</p>
<p>T(E1 AND E2)=max{0,T(E1)＋T(E2)－1}<br />
T(E1 OR E2)=min{1,T(E1)＋T(E2)}</p>
<p>其中T(E)表示证据E为真的程度</p>
</li>
</ul>
</li>
<li>
<p>不确定性的更新(计算结论的不确定性)</p>
</li>
<li>
<p>结论不确定性的合成</p>
</li>
</ol>
<h2 id="不确定性推理方法的分类"><a class="markdownIt-Anchor" href="#不确定性推理方法的分类"></a> 不确定性推理方法的分类</h2>
<img src="/MyImages/1.png" style="zoom: 50%;" />
<h1 id="概率推理"><a class="markdownIt-Anchor" href="#概率推理"></a> 概率推理</h1>
<h2 id="概率论基础"><a class="markdownIt-Anchor" href="#概率论基础"></a> 概率论基础</h2>
<h3 id="样本"><a class="markdownIt-Anchor" href="#样本"></a> 样本</h3>
<ol>
<li>样本空间：在概率论中，把试验中每一个可能出现的结果称为试验的一个样本点，由全体样本点构成的集合称为样本空间。通常，用D表示样本空间。</li>
<li>随机事件：由样本点构成的集合称为随机事件。</li>
<li>运算：
<ul>
<li>
<p>并事件：事件A与事件B至少有一个发生  记为A∪B</p>
</li>
<li>
<p>交事件：事件A与事件B同时发生 记为A∩B</p>
</li>
<li>
<p>互逆事件：事件A与B之间满足A∩B=Φ, A∪B=D</p>
</li>
</ul>
</li>
<li>统计概率：在同一组条件下所进行大量重复试验时，如果事件A出现的频率总是在区间[0,1]上的一个确定常数p附近摆动，并且稳定于p，则称p为事件A的统计概率，记为P(A)。</li>
<li>条件概率：设A与B是两个随机事件，P(B)&gt;0，则称：<br />
P(A|B)=P(A∩B)/P(B)<br />
为在事件B发生的条件下事件A 的条件概率 。</li>
</ol>
<h3 id="全概率公式"><a class="markdownIt-Anchor" href="#全概率公式"></a> 全概率公式</h3>
<p>任意两个事件都互不相容，即当i≠j时，有</p>
<ul>
<li>Ai∩Aj=Φ</li>
<li>P(Ai)&gt;0 (i=1, 2, … ,n);</li>
<li>D = $$U_{i=1}^nA_i$$</li>
</ul>
<p>则对任何时间B：$$P(B)=\sum _{i=1}^nP(A_i)×P(B|A_i)$$</p>
<h3 id="贝叶斯公式"><a class="markdownIt-Anchor" href="#贝叶斯公式"></a> 贝叶斯公式</h3>
<p>设事件A1, A2,…, An满足全概率公式的条件，则对任何事件B有下式成立：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mi mathvariant="normal">∣</mi><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mi mathvariant="normal">∣</mi><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mo stretchy="false">)</mo></mrow></mfrac><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mi mathvariant="normal">∣</mi><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>P</mi><mo stretchy="false">(</mo><mi>B</mi><mi mathvariant="normal">∣</mi><msub><mi>A</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(A_i|B) = \frac {P(B|A_i)P(A_i)}{P(B)}\\
=\frac {P(B|A_i)P(A_i)}{\sum _{j=1}^nP(B|A_j)P(A_j)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.55711em;vertical-align:-1.1301100000000002em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.305708em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1301100000000002em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<ol>
<li>
<p>举例</p>
<p><img src="/MyImages/2.png" alt="" /></p>
</li>
</ol>
<h2 id="概率推理方法"><a class="markdownIt-Anchor" href="#概率推理方法"></a> 概率推理方法</h2>
<ol>
<li>用P(H|E)来衡量证据E的出现对结论H的确定性程度，即规则的静态强度。</li>
</ol>
<h3 id="基本思想"><a class="markdownIt-Anchor" href="#基本思想"></a> 基本思想</h3>
<ol>
<li>
<p>已知前提E的概率P(E)和结论H的先验概率P(H)</p>
<p>已知H成立时E出现的条件概率P(E|H)</p>
</li>
<li>
<p>利用规则推出H在E出现的条件下的后验概率</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><mi>E</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi mathvariant="normal">∣</mi><mi>H</mi><mo stretchy="false">)</mo><mi>P</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">P(H|E)=\frac {P(E|H)P(H)}{P(E)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>如果一个前提E支持多个结论Hi，则</p>
<img src="/MyImages/3.png" style="zoom: 50%;" />
</li>
<li>
<p>如果有多个证据E<sub>i</sub>和多个结论H<sub>j</sub>，则上式可扩展为</p>
<img src="/MyImages/4.png" style="zoom: 50%;" />
</li>
</ol>
<h3 id="举例"><a class="markdownIt-Anchor" href="#举例"></a> 举例</h3>
<ol>
<li>
<p><strong>一个条件支持多个结论</strong></p>
<p>设H1,H2,H3分别是三个结论，E是支持这些结论的证据。已知：<br />
P(H1)=0.3；    P(H2)=0.4；     P(H3)=0.5<br />
P(E|H1)=0.5； P(E|H2)=0.3； P(E|H3)=0.4</p>
<p>求P(H1|E),P(H2|E)及P(H3|E)</p>
<img src="/MyImages/5.png" style="zoom: 50%;" />
<p>同理可得P(H<sub>2</sub>|E)=0.26;P(H<sub>3</sub>|E)=0.43</p>
<p><strong>结论</strong>因为P(H1)=0.3；P(H1|E)=0.32，所以E的出现支持了H1成立，其他同理</p>
</li>
<li>
<p><strong>多个条件支持多个结论</strong></p>
<p>设H1,H2,H3分别是三个结论，E1,E2是支持这些结论的证据。已知：<br />
P(H1)=0.4； P(H2)=0.3； P(H3)=0.3<br />
P(E1|H1)=0.5； P(E1|H2)=0.6； P(E1|H3)=0.3.<br />
P(E2|H1)=0.7； P(E2|H2)=0.9； P(E2|H3)=0.1</p>
<p>求P(H1|E1E2),P(H2|E1E2)及P(H3|E1E2)的值各是多少？</p>
<p><img src="/MyImages/6.png" alt="" /></p>
<p>同理可得P(E1)=0.47, P(E2)=0.58</p>
<p><strong>结论</strong>同上分析，可知E1和E2的出现，H1和H2成立的可能性不同程<br />
度的增加，H3成立的可能性下降。</p>
</li>
</ol>
<h3 id="特点"><a class="markdownIt-Anchor" href="#特点"></a> 特点</h3>
<ol>
<li>优点：概率推理方法有较强的理论背景和良好的数学特性，<strong>当证据彼此独立时</strong>计算的复杂度比较低。</li>
<li>缺点：概率推理方法要求给出结论Hi的先验概率 P(Hi)及条件概率 P(Ej|Hi)</li>
</ol>
<h1 id="主观bayes方法"><a class="markdownIt-Anchor" href="#主观bayes方法"></a> 主观Bayes方法</h1>
<p>PROSPECTOR的不确定性推理过程，就是根据证据的概率P(E)或P(E|S)，利用LS或LN，把结论H的先验概率P(H)更新为后验概率P(H|E)的过程。</p>
<h3 id="知识不确定的表示"><a class="markdownIt-Anchor" href="#知识不确定的表示"></a> 知识不确定的表示</h3>
<ol>
<li>
<p>知识是用产生式表示的</p>
<p><strong>IF E THEN (LS,LN) H</strong></p>
</li>
<li>
<p>其中E是前提，H是结论</p>
</li>
<li>
<p>LS是规则的充分性度量。用于指出<strong>E对H的支持程度</strong>，取值范围为[0,+∞)，其定义为：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>S</mi><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi mathvariant="normal">∣</mi><mi>H</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">¬</mi><mi>H</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">LS=\frac {P(E|H)}{P(E|\lnot H)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>LN是规则的必要性度量。用于指出E对H为真的必要程度，即﹁E对H的支持程度。取值范围为[0,+∞)，其定义为：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>L</mi><mi>N</mi><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>E</mi><mi mathvariant="normal">∣</mi><mi>H</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>E</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">¬</mi><mi>H</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi mathvariant="normal">∣</mi><mi>H</mi><mo stretchy="false">)</mo></mrow><mrow><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi mathvariant="normal">∣</mi><mi mathvariant="normal">¬</mi><mi>H</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">LN=\frac {P(\lnot E|H)}{P(\lnot E|\lnot H)}=\frac {1-P(E|H)}{1-P(E|\lnot H)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p>讨论LS和LN的含义</p>
<ol>
<li>由贝叶斯公式可得</li>
</ol>
   <img src="/MyImages/7.png" style="zoom:50%;" />
<p>两式相除得</p>
   <img src="/MyImages/8.png" style="zoom:50%;" />
<ol start="2">
<li>
<p>几率函数</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>X</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><mrow><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">O(X)=\frac {P(X)}{P(\lnot X)}=\frac {P(X)}{1-P(X)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>O(X)与P(X)变化一致，取值范围从[0,1]放大到[0,+∞]</p>
</li>
<li>
<p>因此</p>
<img src="/MyImages/9.png" style="zoom:50%;" />
 <img src="/MyImages/0.png" style="zoom:50%;" />
</li>
</ol>
</li>
<li>
<p>LS的含义</p>
<ul>
<li>
<p>当LS&gt;1时，O(H|E)&gt;O(H)，说明E支持H。 LS越大，E对H的支持越充分。</p>
</li>
<li>
<p>当LS=1时，O(H|E)=O(H)，说明E对H没有影响。</p>
</li>
<li>
<p>当LS&lt;1时，O(H|E)&lt;O(H)，说明E不支持H。</p>
</li>
<li>
<p>当LS=0时，O(H|E)=0，说明E的存在使H为假。</p>
</li>
</ul>
</li>
<li>
<p>LN的含义</p>
<ul>
<li>当LN&gt;1时，O(H|﹁E)&gt;O(H)，说明﹁E支持H。LN越大，﹁E对H为真的支持就越强。</li>
<li>当LN=1时，O(H|﹁E)=O(H)，说明﹁E对H没有影响。</li>
<li>当LN&lt;1时，O(H|﹁E)&lt;O(H)，说明﹁E不支持H，即由于E不存在，将反对H为真。 LN越小，E的不出现就越反对H为真，这说明H越需要E的出现。</li>
<li>当LN=0时，O(H|﹁E)=0，说明E不存在将导致H为假。</li>
</ul>
</li>
<li>
<p>LS和LN的三种关系(可利用LS和LN的定义式来互推)</p>
<ul>
<li>LS&gt;1且LN&lt;1</li>
<li>LS&lt;1且LN&gt;1</li>
<li>LS=LN=1</li>
</ul>
</li>
</ol>
<h3 id="证据不确定性表示"><a class="markdownIt-Anchor" href="#证据不确定性表示"></a> 证据不确定性表示</h3>
<ol>
<li>实际应用中，如果证据E不是直接观测到的，则需要由用户根据<strong>观察S</strong>给出P(E|S) 来描述E的不确定性；但实际中P(E|S)难以给定，<strong>所以用C(E|S)代替P(E|S)</strong></li>
<li>C(E|S) 取值为[-5,5]的整数
<ul>
<li>C(E|S)=-5表示在观测S下证据E肯定不存在P(E|S)=0</li>
<li>C(E|S)= 5表示在观测S下证据E肯定存在P(E|S)=1</li>
<li>C(E|S)= 0表示S与E无关,即:P(E|S)= P(E)</li>
</ul>
</li>
</ol>
<h3 id="组合证据不确定性"><a class="markdownIt-Anchor" href="#组合证据不确定性"></a> 组合证据不确定性</h3>
<ol>
<li>
<p>当组合证据是多个单一证据的<strong>合取</strong>：</p>
<p>P(E|S)=min{ P(E1|S), P(E2|S), … ,P(En|S)}</p>
</li>
<li>
<p>当组合证据是多个单一证据的<strong>析取</strong>：</p>
<p>P(E|S)=max{P(E1|S),P(E2|S),…,P(En|S)}</p>
</li>
</ol>
<h3 id="不确定性的更新"><a class="markdownIt-Anchor" href="#不确定性的更新"></a> 不确定性的更新</h3>
<ol>
<li>
<p>根据证据E在观察S下的条件概率P(E|S) 以及LS和LN的值，把H的先验几率O(H)或先验概率P(H)更新为后验几率O(H|S)或后验概率P(H|S)</p>
</li>
<li>
<p><strong>计算后验概率</strong></p>
<p><strong>P(H|S) = P(H|E)×P(E|S)+P(H|﹁E)×P(﹁E|S)</strong></p>
<ol>
<li>
<p>若E肯定为真</p>
<p>即P(E|S)=1，则 P(﹁E|S)=0， P(H|S) = P(H|E)</p>
</li>
<li>
<p>证据E肯定为假</p>
<p>即P(E|S)=0， 则P(﹁E|S)=1， P(H|S) = P(H|﹁E)</p>
</li>
<li>
<p>证据E既非为真又非为假0&lt;P(E|S)&lt;1</p>
<ol>
<li>P(E|S)=P(E)，P(H|S) = P(H)</li>
<li>P(E|S)为其他值</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="若e肯定为真"><a class="markdownIt-Anchor" href="#若e肯定为真"></a> 若E肯定为真</h3>
<ol>
<li>
<p>有P(H|S)=P(H|E)</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>E</mi><mi mathvariant="normal">∣</mi><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mi mathvariant="normal">则</mi><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><mi>E</mi><mi mathvariant="normal">∣</mi><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn><mi mathvariant="normal">，</mi><mi>P</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(E|S)=1 则P(\lnot E|S)=0，P(H|S)=P(H|E)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord cjk_fallback">则</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord">¬</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord cjk_fallback">，</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">则</mi><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><mi>E</mi><mo stretchy="false">)</mo><mo>=</mo><mi>L</mi><mi>S</mi><mo>×</mo><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">则O(H|S)=O(H|E)=LS×O(H)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback">则</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">L</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>已知</p>
<img src="/MyImages/10.png" style="zoom:50%;" />
</li>
<li>
<p>后两个式子移项合并有</p>
<img src="/MyImages/11.png" style="zoom:50%;" />
</li>
</ol>
<h3 id="若e肯定为假"><a class="markdownIt-Anchor" href="#若e肯定为假"></a> 若E肯定为假</h3>
<ol>
<li>
<p>有P(H|S) = P(H|﹁E)，且已知</p>
<img src="/MyImages/12.png" style="zoom:50%;" />
</li>
<li>
<p>后两个式子移项合并有</p>
<img src="/MyImages/13.png" style="zoom:50%;" />
</li>
</ol>
<h3 id="证据既非为真又非为假时"><a class="markdownIt-Anchor" href="#证据既非为真又非为假时"></a> 证据既非为真又非为假时:</h3>
<p>​	0&lt;P(E|S)&lt;1</p>
<ol>
<li>
<p>当 P(E|S)=P(E)时， 表示E与S无关，此时：</p>
<img src="/MyImages/14.png" style="zoom:33%;" />
</li>
<li>
<p>当 P(E|S) ≠ P(E)时，表示E与S相关…</p>
</li>
<li>
<p>由三个特殊值可以读构造分段线性插值函数</p>
<img src="/MyImages/15.png" style="zoom:50%;" />
</li>
</ol>
<h3 id="eh公式"><a class="markdownIt-Anchor" href="#eh公式"></a> EH公式</h3>
<ul>
<li>
<p>分段线性插值函数的解析式为（点斜式）<strong>EH公式</strong></p>
<img src="/MyImages/27.png" style="zoom:50%;" />
</li>
<li>
<p>用C(E|S) 代替EH公式中的P(E|S)，可得到等价的CP公式</p>
<img src="/MyImages/29.png" style="zoom:50%;" />
</li>
</ul>
<h3 id="主观贝叶斯方法的推理过程"><a class="markdownIt-Anchor" href="#主观贝叶斯方法的推理过程"></a> 主观贝叶斯方法的推理过程</h3>
<h4 id="基本方法"><a class="markdownIt-Anchor" href="#基本方法"></a> 基本方法</h4>
<ul>
<li>
<p>当采用初始证据进行推理时，用户提供C(E|S) ，通过CP公式就可以求出P(H|S)</p>
</li>
<li>
<p>当采用推理过程中得到的中间结论作为证据进行推理时，通过EH公式就可以求出P(H|S)</p>
</li>
<li>
<p>结论不确定性的合成</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>×</mo><mfrac><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>×</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>×</mo><mfrac><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>×</mo><mi>O</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(H|S_1,S_2,...,S_n)\\
=\frac {O(H|S_1)}{O(H)}×\frac {O(H|S_2)}{O(H)}×...×\frac {O(H|S_n)}{O(H)} × O(H)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span></span></span></p>
</li>
</ul>
<h3 id="主观贝叶斯方法举例"><a class="markdownIt-Anchor" href="#主观贝叶斯方法举例"></a> 主观贝叶斯方法举例</h3>
<h4 id="已知"><a class="markdownIt-Anchor" href="#已知"></a> 已知</h4>
<ul>
<li>设有规则<br />
r1: IF  E1 THEN  (2,  0.001)  H1<br />
r2: IF  E1 AND  E2 THEN (100, 0.001) H1<br />
r3: IF  H1  THEN  (200, 0.01) H2</li>
<li>已知：<br />
P(E1) = P(E2) = 0.6，P(H1) = 0.091，P(H2) = 0.01</li>
<li>用户回答:<br />
P(E1|S1) = 0.76， P(E2|S2) = 0.68</li>
<li>求：P(H2|S1,S2) = ?</li>
</ul>
<h4 id="解"><a class="markdownIt-Anchor" href="#解"></a> 解</h4>
<ul>
<li>
<p>由已知得到的推理网络</p>
<img src="/MyImages/32.png" style="zoom:33%;" />
</li>
<li>
<p>由推理网络得到求解过程</p>
<img src="/MyImages/33.png" style="zoom:50%;" />
<ol>
<li>计算P (H1 | S1)</li>
<li>计算P (H1 | (S1  AND  S2))</li>
<li>计算P (H1 | S1, S2)</li>
<li>计算P (H2 | S1,S2)</li>
</ol>
</li>
<li>
<p>根据EH公式计算P(H1|S1)</p>
<p>由于P(E1|S1)=0.76， P(E1)=0.6，此时P(E1|S1) &gt;P(E1)，使用EH式的后半部分，得P(H1|S1)为：</p>
<img src="/MyImages/34.png" style="zoom: 67%;" />
</li>
<li>
<p>根据EH公式计算P(H1|(S1 AND S2))</p>
<p>根据合取取最小的原则，因为P(E2|S2)&lt;P(E1|S1) ，所以令P(H1|(S1 AND S2)) = P(H1|S2)</p>
<p>再用EH公式求解P(H1|S2)</p>
<img src="/MyImages/35.png" style="zoom:67%;" />
</li>
<li>
<p>计算P(H1|S1,S2)</p>
<ul>
<li>
<p>先计算O(H1|S1,S2)</p>
<img src="/MyImages/36.png" style="zoom:67%;" />
</li>
<li>
<p>根据几率函数公式计算概率</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><msub><mi>H</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>O</mi><mo stretchy="false">(</mo><msub><mi>H</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><mrow><mn>1</mn><mo>+</mo><mi>O</mi><mo stretchy="false">(</mo><msub><mi>H</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow></mfrac><mo>=</mo><mfrac><mn>0.472</mn><mrow><mn>1</mn><mo>+</mo><mn>0.472</mn></mrow></mfrac><mo>=</mo><mn>0.32</mn></mrow><annotation encoding="application/x-tex">P(H_1|S_1,S_2)=\frac {O(H_1|S_1,S_2)}{1+O(H_1|S_1,S_2)}=\frac {0.472}{1+0.472}=0.32
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.09077em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord">7</span><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord">7</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mord">2</span></span></span></span></span></p>
</li>
</ul>
</li>
<li>
<p>计算P(H2|S1,S2)</p>
<p>由于P(H1|S1,S2) =0.321&gt; P(H1)，使用EH式的后半部分，得到在当前观察S1、S2下H2的后验概率P(H2|S1,S2):</p>
<img src="/MyImages/37.png" style="zoom: 67%;" />
</li>
</ul>
<h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2>
<h3 id="主观贝叶斯方法的优点"><a class="markdownIt-Anchor" href="#主观贝叶斯方法的优点"></a> 主观贝叶斯方法的优点</h3>
<ul>
<li>主观Bayes方法中的计算公式大多是在概率论的基础上推导出来的，<strong>具有较坚实的理论基础</strong>。</li>
<li>知识的静态强度LS及LN是由领域专家给出，<strong>避免了大量的数据统计工作</strong>。</li>
<li>主观Bayes方法不仅给出了证据肯定存在、肯定不存在时更新后验概率的方法，还<strong>给出了证据不确定时的更新方法</strong>，实现了不确定性的逐级传递。</li>
</ul>
<h3 id="主观贝叶斯方法的缺点"><a class="markdownIt-Anchor" href="#主观贝叶斯方法的缺点"></a> 主观贝叶斯方法的缺点</h3>
<ul>
<li>它要求领域专家在给出知识时，同时给出H的先验概率P(H)，这比较困难。</li>
<li>Bayes定理要求事件间独立，使其应用受限制。</li>
</ul>
<h1 id="可信度方法"><a class="markdownIt-Anchor" href="#可信度方法"></a> 可信度方法</h1>
<h2 id="可信度概念"><a class="markdownIt-Anchor" href="#可信度概念"></a> 可信度概念</h2>
<ul>
<li>根据经验对一个事物和现象为真的相信程度称为<strong>可信度</strong>。</li>
<li>在可信度方法中，由专家给出规则或知识的可信度，从而可避免对先验概率、或条件概率的要求。</li>
</ul>
<h2 id="c-f模型"><a class="markdownIt-Anchor" href="#c-f模型"></a> C-F模型</h2>
<ul>
<li>
<p>一般形式</p>
<p>IF		E	THEN		H	(CF(H,E))</p>
</li>
<li>
<p>其中CF(H,E)∈[-1,1] 表示该知识的可信度</p>
<ul>
<li>CF(H,E)&gt;0对应于P(H|E)&gt;P(H);</li>
<li>CF(H,E)&lt;0对应于P(H|E)&lt;P(H);</li>
<li>CF(H,E)=0对应于P(H|E)=P(H);</li>
</ul>
</li>
</ul>
<h3 id="知识的不确定性"><a class="markdownIt-Anchor" href="#知识的不确定性"></a> 知识的不确定性</h3>
<p>​			<strong>$$CF(H,E)=MB(H,E)-MD(H,E)$$</strong></p>
<ul>
<li>
<p>MB为信任增长度，反映了证据对结论有利的一面</p>
<img src="/MyImages/30.png" style="zoom: 33%;" />
</li>
<li>
<p>MD为不信任增长度，反映了证据对结论不利的一面</p>
<img src="/MyImages/31.png" style="zoom:33%;" />
</li>
<li>
<p>讨论</p>
<ul>
<li>当P(H|E)&gt;P(H)时：<br />
信任增长度MB(H,E)&gt;0，<br />
不信任增长度MD(H,E)=0 。</li>
<li>当P(H|E)&lt;P(H)时，<br />
不信任增长度MD(H,E)&gt;0，<br />
信任增长度MB(H,E) =0。</li>
<li><strong>MB(H,E)与MD(H,E)是互斥的：</strong><br />
当MB(H,E)&gt;0时，MD(H,E)＝0<br />
当MD(H,E)&gt;0时，MB(H,E)＝0</li>
</ul>
</li>
</ul>
<h4 id="cfhe的计算公式"><a class="markdownIt-Anchor" href="#cfhe的计算公式"></a> CF(H,E)的计算公式</h4>
<img src="/MyImages/41.png" style="zoom:50%;" />
<ul>
<li>当且仅当P(H|E)=1时,  CF(H,E)=1</li>
<li>当且仅当P(H|E)=0时,  CF(H,E)=-1</li>
<li><strong>CF(H,E)定性地反映了P(H|E)的大小,因此可以用CF(H,E)近似表示P(H|E)的大小,从而描述了规则的可信度。</strong></li>
</ul>
<h3 id="证据的不确定性的表示"><a class="markdownIt-Anchor" href="#证据的不确定性的表示"></a> 证据的不确定性的表示</h3>
<ol>
<li>
<p>证据的不确定性也用可信度因子表示。如： CF(E)=0.6；<strong>CF(E)表示证据的强度，即动态强度，取值范围[-1，+1]</strong></p>
<ul>
<li>CF(E)&gt;0:表示证据以某种程度为真</li>
<li>CF(E)&lt;0:表示证据以某种程度为假</li>
</ul>
</li>
<li>
<p><strong>组合证据的不确定性</strong>----最大最小原则</p>
<ul>
<li>若E=E1 AND E2 AND…AND En,则<br />
CF(E)=min{CF(E1),CF(E2),…,CF(En)}</li>
<li>若E=E1 OR E2 OR…OR En,则<br />
CF(E)=max{CF(E1),CF(E2),…,CF(En)}</li>
</ul>
</li>
</ol>
<h3 id="结论的不确定性表示"><a class="markdownIt-Anchor" href="#结论的不确定性表示"></a> 结论的不确定性表示</h3>
<ol>
<li>
<p>结论H的可信度由下式计算：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo><mo>=</mo><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>H</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo><mo>×</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">CF(H)=CF(H,E)×max\{0,CF(E)\}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></span></p>
<ul>
<li>CF(H)的取值范围：[-1，+1]。</li>
<li>CF(H)&gt;0:表示结论以某种程度为真</li>
<li>CF(H)&lt;0:表示结论以某种程度为假</li>
</ul>
</li>
<li>
<p><strong>结论不确定性的合成</strong></p>
<ul>
<li>
<p>若由多条不同知识推出了相同的结论，但可信度不同，则用合成算法求出综合可信度</p>
</li>
<li>
<p>假设有</p>
<p>IF		E1	THEN		H	(CF(H,E1))<br />
IF		E2	THEN		H	(CF(H,E2))</p>
</li>
<li>
<p>计算时，首先计算CF1(H)、CF2(H)，然后带入公式计算综合可信度</p>
<img src="/MyImages/42.png" style="zoom:50%;" />
</li>
</ul>
</li>
</ol>
<h3 id="c-f模型推理示例"><a class="markdownIt-Anchor" href="#c-f模型推理示例"></a> C-F模型推理示例</h3>
<h4 id="设已知"><a class="markdownIt-Anchor" href="#设已知"></a> 设已知</h4>
<p>R1: IF	E1	THEN		H	(0.8)<br />
R2: IF	E2	THEN		H	(0.6)<br />
R3: IF	E3	THEN		H	(-0.5)<br />
R4: IF	E4 AND (E5 OR E6)	THEN		E1	(0.7)<br />
R5: IF	E7 AND E8 THEN		E3	(0.9)<br />
已知：CF(E2)=0.8, CF(E4)=0.5, CF(E5)=0.6，CF(E6)=0.7, CF(E7)=0.6, CF(E8)=0.9<br />
求：CF(H)=？</p>
<h4 id="求解"><a class="markdownIt-Anchor" href="#求解"></a> 求解</h4>
<ul>
<li>求H的三个证据的不确定性
<ul>
<li>由R4得到：<br />
CF(E1)=0.7×max{0,CF[E4 AND (E5 OR E6)]}<br />
=0.7×max{0,min{CF(E4),CF(E5 OR E6)}}<br />
=0.35</li>
<li>由R5得到：<br />
CF(E3)=0.9×max{0,CF[E7 AND E8]}<br />
=0.54</li>
</ul>
</li>
<li>求三个证据独立对结论的支持程度
<ul>
<li>由R1得到：<br />
CF1(H)=0.8×max{0,CF(E1)}=0.28</li>
<li>由R2得到：<br />
CF2(H)=0.6×max{0,CF(E2)}=0.48</li>
<li>由R2得到：<br />
CF2(H)=0.6×max{0,CF(E2)}=0.48</li>
</ul>
</li>
<li>代入不确定性合成算法
<ul>
<li>CF12(H)=CF1(H)+CF2(H)-CF1(H)×CF2(H)=0.63</li>
<li>CF123(H)=[CF12(H)+CF3(H)]/[1-min{|CF12(H)|,|CF3(H)|}]<br />
=0.49</li>
</ul>
</li>
</ul>
<h2 id="带有阈值限度的不确定性推理"><a class="markdownIt-Anchor" href="#带有阈值限度的不确定性推理"></a> 带有阈值限度的不确定性推理</h2>
<ul>
<li>一般形式 IF		E	THEN		H	(CF(H,E),λ)</li>
<li>λ是阈值，明确规定了知识运用的条件：只有当CF(E)≥λ时，该知识才能够被应用。λ的取值范围为(0,1]。</li>
</ul>
<h3 id="知识的不确定性表示"><a class="markdownIt-Anchor" href="#知识的不确定性表示"></a> 知识的不确定性表示</h3>
<p>CF(H,E)为知识的可信度，取值范围为[0,1]。</p>
<ul>
<li>CF(H,E)=0 对应于 P(H|E)=0 (证据绝对否定结论)</li>
<li>CF(H,E)=1 对应于 P(H|E)=1 (证据绝对支持结论)</li>
</ul>
<h3 id="证据不确定性的表示"><a class="markdownIt-Anchor" href="#证据不确定性的表示"></a> 证据不确定性的表示</h3>
<p>证据E的可信度仍为CF(E)，但其取值范围为：[0，1]</p>
<ul>
<li>CF(E)=1  对应于 P(E)=1   (证据绝对存在) ;</li>
<li>CF(E)=0  对应于 P(E)=0;  (证据绝对不存在)</li>
</ul>
<h3 id="结论的不确定性"><a class="markdownIt-Anchor" href="#结论的不确定性"></a> 结论的不确定性</h3>
<ol>
<li>
<p>单个规则：当CF(E)≥λ时，CF(H)=CF(H,E)×CF(E)</p>
</li>
<li>
<p>多条规则有相同的结论</p>
<p>则对满足CF(Ei)≥λi的带入公式求综合可信度</p>
</li>
</ol>
<h4 id="求综合可信的几种方法"><a class="markdownIt-Anchor" href="#求综合可信的几种方法"></a> 求综合可信的几种方法</h4>
<img src="/MyImages/43.png" style="zoom: 67%;" />
<h2 id="加权的不确定性推理"><a class="markdownIt-Anchor" href="#加权的不确定性推理"></a> 加权的不确定性推理</h2>
<p><strong>针对具有组合条件的知识不确定性的表示</strong></p>
<p>IF	E1(ω1) AND E2(ω2) AND…AND En(ωn)    THEN   H	 (CF(H,E),λ)</p>
<h3 id="知识不确定性的表示"><a class="markdownIt-Anchor" href="#知识不确定性的表示"></a> 知识不确定性的表示</h3>
<p>加权因子的取值范围一般为[0,1],且应满足归一条件，即$$0\leq w_i\leq 1,i=1,2,…,n\sum _{i=1}^nw_i=1$$</p>
<h3 id="组合证据不确定性的表示"><a class="markdownIt-Anchor" href="#组合证据不确定性的表示"></a> 组合证据不确定性的表示</h3>
<p>若有CF(E1)，CF(E2)，…，CF( En)，则组合证据的可信度为：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>w</mi><mi>i</mi></msub></mrow></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>w</mi><mi>i</mi></msub><mo>×</mo><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">CF(E)=\frac {1}{\sum _{i=1}^nw_i}\sum _{i=1}^{n}(w_i×CF(E_i))
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.305708em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.994002em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></span></p>
<h3 id="结论不确定性的表示"><a class="markdownIt-Anchor" href="#结论不确定性的表示"></a> 结论不确定性的表示</h3>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mo>=</mo><mo>∑</mo><msub><mi>w</mi><mi>i</mi></msub><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><msub><mi>E</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">CF(E) = \sum w_iCF(E_i)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.6000100000000002em;vertical-align:-0.55001em;"></span><span class="mop op-symbol large-op" style="position:relative;top:-0.000004999999999977245em;">∑</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>当CF(E)≥λ时，该知识就可被应用。结论H的可信度为<strong>CF(H)=CF(H,E)×CF(E)</strong></p>
<h3 id="加权不确定性推理举例"><a class="markdownIt-Anchor" href="#加权不确定性推理举例"></a> 加权不确定性推理举例</h3>
<h4 id="已知-2"><a class="markdownIt-Anchor" href="#已知-2"></a> 已知</h4>
<p>R1: IF E1(0.6) AND E2(0.4) THEN E6(0.8,0.75)<br />
R2: IF E3(0.5) AND E4(0.3) AND E5(0.2)<br />
THEN E7(0.7,0.6)<br />
R3: IF E6(0.7) AND E7(0.3) THEN H(0.75,0.6)<br />
已知：CF(E1)=0.9, CF(E2)=0.8, CF(E3)=0.7,CF(E4)=0.6, CF(E5)=0.5<br />
求：CF(H)=?</p>
<h4 id="求解-2"><a class="markdownIt-Anchor" href="#求解-2"></a> 求解</h4>
<ul>
<li>
<p>由R1得到：<br />
CF(E1(0.6) AND E2(0.4))</p>
<p>​		=0.6×0.9+0.4×0.8</p>
<p>​		=0.86&gt;λ1=0.75<br />
∴R1可被应用。</p>
</li>
<li>
<p>由R2得到：<br />
CF(E3(0.5) AND E4(0.3) AND E5(0.2))＝0.63&gt;λ2 =0.6<br />
∴R2可被应用。</p>
</li>
<li>
<p>CF(E1(0.6) AND E2(0.4))&gt;CF(E3(0.5) AND E4(0.3) AND E5(0.2))<br />
∴R1先被应用。</p>
</li>
<li>
<p>由R1得到：CF(E6)=0.86×0.8 = 0.69</p>
</li>
<li>
<p>由R2得到：CF(E7)=0.44</p>
</li>
<li>
<p>由R3得到：<br />
CF(E6(0.7) AND E7(0.3))=0.615&gt;λ3 =0.6</p>
<p>∴R3可被应用,得到：</p>
<p>CF(H)=0.46</p>
</li>
</ul>
<h2 id="前提条件中带有可信度因子的不确定性推理"><a class="markdownIt-Anchor" href="#前提条件中带有可信度因子的不确定性推理"></a> 前提条件中带有可信度因子的不确定性推理</h2>
<p>IF	E1(cf1) AND E2(cf2) AND…AND En(cfn)    THEN   H (CF(H,E),λ)</p>
<ul>
<li>知识的前提条件不一定为真，只要前提条件满足一定的可信度，或具备一定的为真的可能性，就可以推出结论H。</li>
</ul>
<h3 id="知识不确定性的表示-2"><a class="markdownIt-Anchor" href="#知识不确定性的表示-2"></a> 知识不确定性的表示</h3>
<p>其中，cfi子条件Ei(i=1,2,…,n）的可信度。cfi在[0,1]上取值，其值由专家给出。</p>
<h3 id="证据不确定性的表示-2"><a class="markdownIt-Anchor" href="#证据不确定性的表示-2"></a> 证据不确定性的表示</h3>
<p>证据Ei的可信度记为cf’i,其取值范围在[0,1]上</p>
<h3 id="不确定性匹配算法"><a class="markdownIt-Anchor" href="#不确定性匹配算法"></a> 不确定性匹配算法</h3>
<h4 id="不带加权因子的不确定性匹配算法"><a class="markdownIt-Anchor" href="#不带加权因子的不确定性匹配算法"></a> 不带加权因子的不确定性匹配算法</h4>
<ul>
<li>知识：IF	E1(cf1) AND E2(cf2) AND…AND En(cfn)<br />
THEN   H	 (CF(H,E),λ)</li>
<li>条件：E1(cf’1)，E2(cf’2)，…， En(cf’n)</li>
<li>匹配算法：<br />
$$      max{0,cf_1-cf’_1}+max{0,cf_2-cf’_2}+…+ max{0,cf_n-cf’_n}≤λ$$
<ul>
<li>注意此处是小于等于，即$$cf_i-fc_i’\leq 0$$，即证据的实际可信度大于要求的可信度</li>
</ul>
</li>
</ul>
<h4 id="带加权因子的不确定性匹配算法"><a class="markdownIt-Anchor" href="#带加权因子的不确定性匹配算法"></a> 带加权因子的不确定性匹配算法</h4>
<ul>
<li>知识：IF	E1(cf1,ω1) AND E2(cf2,ω2) AND…AND En(cfn,ωn)<br />
THEN   H	 (CF(H,E),λ)</li>
<li>匹配算法：<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo>×</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mn>1</mn></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mn>1</mn></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo>×</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mn>2</mn></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mn>2</mn></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>+</mo><mo>…</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>n</mi></msub><mo>×</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mi>n</mi></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mi>n</mi></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>≤</mo><mi>λ</mi></mrow><annotation encoding="application/x-tex">(ω_1×max\{0,cf_1-cf’_1\})+(ω_1×max\{0,cf_2-cf’_2\})+…+(ω_n×max\{0,cf_n-cf’_n\}) ≤λ
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">λ</span></span></span></span></span></p>
</li>
</ul>
<h3 id="结论不确定性的表示-2"><a class="markdownIt-Anchor" href="#结论不确定性的表示-2"></a> 结论不确定性的表示</h3>
<h4 id="不带加权因子时"><a class="markdownIt-Anchor" href="#不带加权因子时"></a> 不带加权因子时：</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mn>1</mn></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mn>1</mn></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mn>2</mn></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mn>2</mn></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo>×</mo><mo>…</mo><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mi>n</mi></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mi>n</mi></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>×</mo><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>H</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">CF(H)=[(1-max\{0,cf_1-cf’_1\})×(1-max\{0,cf_2-cf’_2\})×…×(1-max\{0,cf_n-cf’_n\})]×CF(H,E)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span></span></p>
<h4 id="带加权因子时"><a class="markdownIt-Anchor" href="#带加权因子时"></a> 带加权因子时：</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>H</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">[</mo><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>1</mn></msub><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mn>1</mn></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mn>1</mn></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><msub><mi>ω</mi><mn>2</mn></msub><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mn>2</mn></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mn>2</mn></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>×</mo><mo>…</mo><mo>×</mo><mo stretchy="false">(</mo><msub><mi>ω</mi><mi>n</mi></msub><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">{</mo><mn>0</mn><mo separator="true">,</mo><mi>c</mi><msub><mi>f</mi><mi>n</mi></msub><mo>−</mo><mi>c</mi><mi>f</mi><msub><mi mathvariant="normal">’</mi><mi>n</mi></msub><mo stretchy="false">}</mo><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>×</mo><mi>C</mi><mi>F</mi><mo stretchy="false">(</mo><mi>H</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">CF(H)=[(ω_1×(1-max\{0,cf_1-cf’_1\}))×(ω_2×(1-max\{0,cf_2-cf’_2\}))×…×(ω_n×(1-max\{0,cf_n-cf’_n\}))]×CF(H,E)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord">’</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span></span></p>
<h2 id="特点-2"><a class="markdownIt-Anchor" href="#特点-2"></a> 特点</h2>
<h3 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h3>
<p>简单、直观。</p>
<h3 id="缺点"><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h3>
<ul>
<li>可信度因子依赖于专家主观指定，没有统一、客观的尺度，容易产生片面性。</li>
<li>随着推理延伸，可信度越来越不可靠，误差越来越大。当推理深度达到一定深度时，有可能出现推出的结论不再可信的情况。</li>
</ul>
<h1 id="模糊理论"><a class="markdownIt-Anchor" href="#模糊理论"></a> 模糊理论</h1>
<h2 id="模糊性"><a class="markdownIt-Anchor" href="#模糊性"></a> 模糊性</h2>
<ul>
<li>随机性：事物本身含义明确，但条件不明而不可预知。</li>
<li>模糊性：事物本身是模糊的。例如：青年、老年；高低；</li>
</ul>
<h2 id="集合与特征函数"><a class="markdownIt-Anchor" href="#集合与特征函数"></a> 集合与特征函数</h2>
<p>设A是论域U上的一个集合，对于任意u∈U，令</p>
<img src="/MyImages/image-20200402092804213.png" alt="image-20200402092804213" style="zoom:50%;" />
<p>则称C<sub>A</sub>(u)为集合A的<strong>特征函数</strong>。特征函数C<sub>A</sub>(u)在u=u<sub>0</sub>处的取值C<sub>A</sub>(u<sub>0</sub>)称为u<sub>0</sub>对A的隶属度。$$A={u|C_A(u)=1}$$</p>
<h2 id="模糊集与隶属函数"><a class="markdownIt-Anchor" href="#模糊集与隶属函数"></a> 模糊集与隶属函数</h2>
<h3 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h3>
<ul>
<li>
<p>设U是论域，μA是把任意u∈U映射为[0,1]上某个值的函数，即</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>μ</mi><mi>A</mi><mo>:</mo><mi>U</mi><mo>→</mo><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo><mi mathvariant="normal">或</mi><mi mathvariant="normal">者</mi><mi>u</mi><mo>→</mo><mi>μ</mi><mi>A</mi><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">μA :U→[0,1]或者u→μA(u)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord cjk_fallback">或</span><span class="mord cjk_fallback">者</span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">A</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span></span></span></span></span></p>
<p>则称μA为定义在U上的一个隶属函数，由μA(u)(u∈U)所构成的集合A称为U上的一个<strong>模糊集</strong>，μA(u)称为u对A的隶属度</p>
<p>模糊集刻画了每个元素隶属于A的程度</p>
</li>
</ul>
<h3 id="举例-2"><a class="markdownIt-Anchor" href="#举例-2"></a> 举例</h3>
<ul>
<li>论域U={1,2,3,4,5}，用模糊集表示“大”和“小”
<ul>
<li>设A、B分别表示“大”与“小”的模糊集，μA ，μB分别为相应的隶属函数。<br />
A={0, 0, 0.1, 0.6, 1}<br />
B={1, 0.5, 0.01, 0,0}<br />
其中：μA(1)=0,μA(2)=0 ,μA(3)=0.1 ,μA(4)=0.6 ,μA(5)=1<br />
μB(1)=1,μB(2)=0.5 ,μB(3)=0.01 ,μB(4)=0,μB(5)=0</li>
</ul>
</li>
<li>论域U={高山，刘水，秦声}，用模糊集A表示“学习好”这个概念。
<ul>
<li>解：先给出三人的平均成绩：<br />
高山：98分，刘水：90分，秦声：86分</li>
<li>上述成绩除以100后，就分别得到了各自对“学习好”的隶属度：<br />
μA(高山)=0.98,μA(刘水)=0.90 ,μA(秦声)=0.86<br />
则模糊集A为：<br />
A={0.98, 0.90, 0.86}</li>
</ul>
</li>
</ul>
<h2 id="模糊集的表示方法"><a class="markdownIt-Anchor" href="#模糊集的表示方法"></a> 模糊集的表示方法</h2>
<ul>
<li>
<p>一般表示形式为 $$A=\int_{u\in U}\mu_A(u)/u $$</p>
<p>U上的全体模糊集为$$F(U){A|\mu_A:U\to[0,1]}$$</p>
</li>
<li>
<p>用隶属度的集合表示</p>
<p>​	$$A={μA(u1),μA(u2),…,μA(un)}$$</p>
</li>
<li>
<p>分子表示隶属度，分母是元素</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo>=</mo><mi>μ</mi><mi>A</mi><mo stretchy="false">(</mo><mi>u</mi><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>1</mn><mo>+</mo><mi>μ</mi><mi>A</mi><mo stretchy="false">(</mo><mi>u</mi><mn>2</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>2</mn><mo>+</mo><mo>…</mo><mo>+</mo><mi>μ</mi><mi>A</mi><mo stretchy="false">(</mo><mi>u</mi><mi>n</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">A=μA(u1)/u1+μA(u2)/u2+…+μA(un)/un
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">A</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">A</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">μ</span><span class="mord mathdefault">A</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord mathdefault">n</span></span></span></span></span></p>
<ul>
<li>隶属度为0可以不写</li>
</ul>
</li>
<li>
<p>若论域是连续的，可以用实函数表示。例如</p>
<img src="/MyImages/image-20200406113637829.png" alt="image-20200406113637829" style="zoom: 33%;" />
</li>
</ul>
<h2 id="模糊集的运算"><a class="markdownIt-Anchor" href="#模糊集的运算"></a> 模糊集的运算</h2>
<h3 id="包含运算"><a class="markdownIt-Anchor" href="#包含运算"></a> 包含运算</h3>
<p>设A，B∈F(U)，若对任意u∈U，都有$$μ_B(u)≤μ_A(u)$$<br />
成立，则称A包含B，记为$$B\subset A$$</p>
<h3 id="交-并-补运算"><a class="markdownIt-Anchor" href="#交-并-补运算"></a> 交、并、补运算</h3>
<p>设A，B∈F(U)，以下为扎德算子</p>
<img src="/MyImages/image-20200406114749647.png" alt="image-20200406114749647" style="zoom: 50%;" />
<h3 id="其他模糊集运算"><a class="markdownIt-Anchor" href="#其他模糊集运算"></a> 其他模糊集运算</h3>
<img src="/MyImages/54.png" style="zoom:50%;" />
<h3 id="举例-3"><a class="markdownIt-Anchor" href="#举例-3"></a> 举例</h3>
<ul>
<li>设U={u1,u2,u3}，A=0.3/u1+0.8/u2+0.6/u3,B=0.6/u1+0.4/u2+0.7/u3<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">则</mi><mi>A</mi><mo>∩</mo><mi>B</mi><mo>=</mo><mo stretchy="false">(</mo><mn>0.3</mn><mo>∧</mo><mn>0.6</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mn>0.8</mn><mo>∧</mo><mn>0.4</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mn>0.6</mn><mo>∧</mo><mn>0.7</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>3</mn><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.3</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>1</mn><mo>+</mo><mn>0.4</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>2</mn><mo>+</mo><mn>0.6</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>3</mn><mspace linebreak="newline"></mspace><mi>A</mi><mo>∪</mo><mi>B</mi><mo>=</mo><mo stretchy="false">(</mo><mn>0.3</mn><mo>∨</mo><mn>0.6</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mn>0.8</mn><mo>∨</mo><mn>0.4</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mn>0.6</mn><mo>∨</mo><mn>0.7</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>3</mn><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.6</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>1</mn><mo>+</mo><mn>0.8</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>2</mn><mo>+</mo><mn>0.7</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>3</mn><mspace linebreak="newline"></mspace><mi mathvariant="normal">¬</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>0.3</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>0.8</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>2</mn><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mn>0.6</mn><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>u</mi><mn>3</mn><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.7</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>1</mn><mo>+</mo><mn>0.2</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>2</mn><mo>+</mo><mn>0.4</mn><mi mathvariant="normal">/</mi><mi>u</mi><mn>3</mn><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">则A∩B=(0.3∧0.6)/u1+(0.8∧0.4)/u2+(0.6∧0.7)/u3\\
	   =0.3/u1+0.4/u2+0.6/u3\\
A∪B=(0.3∨0.6)/u1+(0.8∨0.4)/u2+(0.6∨0.7)/u3\\
	   =0.6/u1+0.8/u2+0.7/u3\\
¬A=(1-0.3)/u1+(1-0.8)/u2+(1-0.6)/u3\\
	=0.7/u1+0.2/u2+0.4/u3\\
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">则</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">7</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">3</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">7</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">8</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">7</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">3</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">¬</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">8</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">7</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">2</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">4</span><span class="mord">/</span><span class="mord mathdefault">u</span><span class="mord">3</span></span><span class="mspace newline"></span></span></span></span></p>
</li>
</ul>
<h2 id="模糊集的水平截集"><a class="markdownIt-Anchor" href="#模糊集的水平截集"></a> 模糊集的水平截集</h2>
<h3 id="定义-2"><a class="markdownIt-Anchor" href="#定义-2"></a> 定义</h3>
<h4 id="水平截集"><a class="markdownIt-Anchor" href="#水平截集"></a> 水平截集</h4>
<p>λ水平截集是把模糊集合转化成普通集合的一个重要概念。</p>
<p>设A∈F(U),λ∈[0,1]，则称普通集合$$A_λ={u|u∈U,μ_A(u)≥λ}$$为A的一个λ水平截集， λ称为阈值或置信水平。</p>
<h4 id="核及支集"><a class="markdownIt-Anchor" href="#核及支集"></a> 核及支集</h4>
<ul>
<li>
<p>设A∈F(U) ，则称</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>K</mi><mi>e</mi><mi>r</mi><mi>A</mi><mo>=</mo><mo stretchy="false">{</mo><mi>u</mi><mi mathvariant="normal">∣</mi><mi>u</mi><mo>∈</mo><mi>U</mi><mo separator="true">,</mo><msub><mi>μ</mi><mi>A</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo stretchy="false">}</mo><mi mathvariant="normal">为</mi><mi mathvariant="normal">核</mi></mrow><annotation encoding="application/x-tex">Ker A=\{u|u∈U, μ_A(u)=1\}为核
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">K</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">u</span><span class="mord">∣</span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">核</span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>u</mi><mi>p</mi><mi>p</mi><mi>A</mi><mo>=</mo><mo stretchy="false">{</mo><mi>u</mi><mi mathvariant="normal">∣</mi><mi>u</mi><mo>∈</mo><mi>U</mi><mo separator="true">,</mo><msub><mi>μ</mi><mi>A</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo><mo>&gt;</mo><mn>0</mn><mo stretchy="false">}</mo><mi mathvariant="normal">为</mi><mi mathvariant="normal">支</mi><mi mathvariant="normal">集</mi></mrow><annotation encoding="application/x-tex">Supp A=\{u|u∈U, μ_A(u)&gt;0\}为支集
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">u</span><span class="mord mathdefault">p</span><span class="mord mathdefault">p</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathdefault">u</span><span class="mord">∣</span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">U</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">μ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">}</span><span class="mord cjk_fallback">为</span><span class="mord cjk_fallback">支</span><span class="mord cjk_fallback">集</span></span></span></span></span></p>
<p>当KerA≠Φ时，称A为<strong>正规模糊集</strong></p>
</li>
</ul>
<h3 id="性质"><a class="markdownIt-Anchor" href="#性质"></a> 性质</h3>
<ul>
<li>
<p>设A，B ∈F(U)，则：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo>∪</mo><mi>B</mi><mo stretchy="false">)</mo><mi>λ</mi><mo>=</mo><msub><mi>A</mi><mi>λ</mi></msub><mo>∪</mo><msub><mi>B</mi><mi>λ</mi></msub></mrow><annotation encoding="application/x-tex">(A∪B)λ=A_λ∪B_λ
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">λ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∪</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">λ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo>∩</mo><mi>B</mi><mo stretchy="false">)</mo><mi>λ</mi><mo>=</mo><msub><mi>A</mi><mi>λ</mi></msub><mo>∩</mo><msub><mi>B</mi><mi>λ</mi></msub></mrow><annotation encoding="application/x-tex">(A∩B)λ=A_λ∩B_λ
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mord mathdefault">λ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">λ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∩</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">λ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>若λ1, λ2∈[0,1]，且λ1&lt;λ2 ，则：</p>
<ul>
<li>阈值λ越大，其水平截集Aλ越小，当λ＝1时，Aλ最小，称它为<strong>模糊集的核</strong>。</li>
</ul>
</li>
</ul>
<h3 id="举例-4"><a class="markdownIt-Anchor" href="#举例-4"></a> 举例</h3>
<img src="/MyImages/image-20200406123053635.png" alt="image-20200406123053635" style="zoom:50%;" />
<h2 id="模糊度"><a class="markdownIt-Anchor" href="#模糊度"></a> 模糊度</h2>
<p>模糊度是模糊集的模糊程度的一种度量</p>
<h3 id="定义-3"><a class="markdownIt-Anchor" href="#定义-3"></a> 定义</h3>
<ul>
<li>设A∈F(U)，d是定义在F(U)上的一个实函数，如果它满足以下条件：
<ul>
<li>对任意A∈F(U)，有d(A)∈[0,1];</li>
<li>当且仅当A是一个普通集合时，d(A)=0；</li>
<li>若A的隶属函数μA(u)≡0.5，则d(A)=1;</li>
<li>若A,B∈F(U),且对任意u∈U,满足μB(u)≤μA(u)≤0.5或者μB(u)≥μA(u)≥0.5则有d(B)≤d(A)</li>
<li>对任意A∈F(U) ，有<strong>d(A)=d(¬A)则称d为定义在F(U)上的一个模糊度</strong>，d(A)称为A的模糊度。</li>
</ul>
</li>
</ul>
<h3 id="直观含义"><a class="markdownIt-Anchor" href="#直观含义"></a> 直观含义</h3>
<ul>
<li>是[0,1]上一个数；</li>
<li>普通集合的模糊度是0，表示所刻画的概念不模糊；</li>
<li>越靠近0.5就越模糊，当μA(u)＝0.5时最模糊；</li>
<li>模糊集A与其补集¬A有相同的模糊度。</li>
</ul>
<h3 id="计算方法"><a class="markdownIt-Anchor" href="#计算方法"></a> 计算方法</h3>
<ul>
<li>
<p>海明模糊度</p>
<img src="/MyImages/image-20200406123425562.png" alt="image-20200406123425562" style="zoom:33%;" />
</li>
<li>
<p>欧几里得模糊度</p>
<img src="/MyImages/image-20200406123535043.png" alt="image-20200406123535043" style="zoom:33%;" />
</li>
<li>
<p>明可夫斯基模糊度</p>
<img src="/MyImages/image-20200406123555807.png" alt="image-20200406123555807" style="zoom:50%;" />
</li>
<li>
<p>香农模糊度</p>
<img src="/MyImages/image-20200406123627009.png" alt="image-20200406123627009" style="zoom:50%;" />
<p>其中S(x)是定义在[0,1]上的香农函数，即</p>
<img src="/MyImages/image-20200406123654375.png" alt="image-20200406123654375" style="zoom: 50%;" />
</li>
</ul>
<h3 id="举例-5"><a class="markdownIt-Anchor" href="#举例-5"></a> 举例</h3>
<img src="/MyImages/55.png" style="zoom:50%;" />
<h2 id="模糊数"><a class="markdownIt-Anchor" href="#模糊数"></a> 模糊数</h2>
<h3 id="定义-4"><a class="markdownIt-Anchor" href="#定义-4"></a> 定义</h3>
<ul>
<li>
<p>如果实数域R上的模糊集A的隶属函数μA(u)在R上连续且具有如下性质：</p>
<ul>
<li>A是凸模糊集，即对任意λ∈[0,1], A<sub>λ</sub>是闭区间；</li>
<li>A是正规模糊集，即存在u∈R，使μA(u)＝1</li>
</ul>
<p>则称A为一个模糊数</p>
</li>
<li>
<p>直观上模糊数的隶属函数是单峰的，且峰顶使隶属度为1</p>
<img src="/MyImages/image-20200406124050636.png" alt="image-20200406124050636" style="zoom:50%;" />
</li>
</ul>
<h4 id="举例-6"><a class="markdownIt-Anchor" href="#举例-6"></a> 举例</h4>
<ul>
<li>
<p>6左右 可表示为</p>
<img src="/MyImages/image-20200406124132462.png" alt="image-20200406124132462" style="zoom: 50%;" />
</li>
</ul>
<h3 id="模糊数的运算"><a class="markdownIt-Anchor" href="#模糊数的运算"></a> 模糊数的运算</h3>
<ul>
<li>
<p>设θ是实数域R上的一种二元运算，A和B为任意的模糊数，则模糊数间的运算定义为</p>
<img src="/MyImages/image-20200406124314724.png" alt="image-20200406124314724" style="zoom:50%;" />
</li>
<li>
<p>两个模糊数之间的运算，实际上是对应元素的隶属度先取极小，再取极大</p>
</li>
<li>
<p><strong>模糊数乘或者除的结果可能不是一个模糊数</strong></p>
</li>
</ul>
<h4 id="举例-7"><a class="markdownIt-Anchor" href="#举例-7"></a> 举例</h4>
<ul>
<li>
<p>设有<br />
3左右=0.5/2+1/3+0.6/4<br />
2左右=0.4/1+1/2+0.7/3</p>
</li>
<li>
<img src="/MyImages/image-20200406124451302.png" alt="image-20200406124451302" style="zoom:33%;" />
</li>
<li>
<img src="/MyImages/image-20200406124522874.png" alt="image-20200406124522874" style="zoom:33%;" />
</li>
</ul>
<h2 id="模糊关系及其合成"><a class="markdownIt-Anchor" href="#模糊关系及其合成"></a> 模糊关系及其合成</h2>
<h3 id="模糊关系"><a class="markdownIt-Anchor" href="#模糊关系"></a> 模糊关系</h3>
<ul>
<li>
<p>Ai是Ui(i=1,2,…,n)上的模糊集，则称</p>
<img src="/MyImages/image-20200406125029088.png" alt="image-20200406125029088" style="zoom:50%;" />
<p>为A1,A2,…,An的<strong>笛卡儿乘积</strong>，它是U1×U2×…×Un上的一个模糊集。</p>
</li>
<li>
<p>在U1×U2×…×Un上一个n元模糊关系R是指以U1×U2×…×Un为论域的一个模糊集，记为</p>
<img src="/MyImages/image-20200406125055086.png" alt="image-20200406125055086" style="zoom:50%;" />
</li>
</ul>
<h3 id="模糊矩阵"><a class="markdownIt-Anchor" href="#模糊矩阵"></a> 模糊矩阵</h3>
<p>一般地说，当U和V都是有限论域时，其模糊关系R可用一个模糊矩阵表示。<br />
U={u1,u2,…,um}<br />
V={v1,v2,…,vn}<br />
则U×V上的模糊关系为</p>
<img src="/MyImages/image-20200406125208806.png" alt="image-20200406125208806" style="zoom:50%;" />
<h3 id="模糊关系的合成"><a class="markdownIt-Anchor" href="#模糊关系的合成"></a> 模糊关系的合成</h3>
<img src="/MyImages/image-20200408122253743.png" alt="image-20200408122253743" style="zoom:50%;" />
<h3 id="举例-8"><a class="markdownIt-Anchor" href="#举例-8"></a> 举例</h3>
<img src="/MyImages/56.png" style="zoom:67%;" />
<h2 id="模糊变换"><a class="markdownIt-Anchor" href="#模糊变换"></a> 模糊变换</h2>
<ul>
<li>定义2.24 设A={μA(u1),μA(u2),…,μA(un)}是论域U上的模糊集，R是U×V上的模糊关系，则A°R=B称为模糊变换</li>
</ul>
<h3 id="举例-9"><a class="markdownIt-Anchor" href="#举例-9"></a> 举例</h3>
<img src="/MyImages/57.png" style="zoom:67%;" />
<h2 id="常见隶属函数"><a class="markdownIt-Anchor" href="#常见隶属函数"></a> 常见隶属函数</h2>
<h3 id="正态分布"><a class="markdownIt-Anchor" href="#正态分布"></a> 正态分布</h3>
<img src="/MyImages/image-20200408122715676.png" alt="image-20200408122715676" style="zoom: 50%;" />
<h3 id="升正态分布"><a class="markdownIt-Anchor" href="#升正态分布"></a> 升正态分布</h3>
<img src="/MyImages/image-20200408122741696.png" alt="image-20200408122741696" style="zoom: 50%;" />
<h3 id="降正态分布"><a class="markdownIt-Anchor" href="#降正态分布"></a> 降正态分布</h3>
<img src="/MyImages/image-20200408122756735.png" alt="image-20200408122756735" style="zoom: 50%;" />
<img src="/MyImages/58.png" style="zoom:67%;" />
<h2 id="建立隶属函数"><a class="markdownIt-Anchor" href="#建立隶属函数"></a> 建立隶属函数</h2>
<img src="/MyImages/image-20200408122945179.png" alt="image-20200408122945179" style="zoom:67%;" />
<h1 id="模糊推理"><a class="markdownIt-Anchor" href="#模糊推理"></a> 模糊推理</h1>
<h2 id="模糊命题"><a class="markdownIt-Anchor" href="#模糊命题"></a> 模糊命题</h2>
<ul>
<li>
<p>含有模糊概念、模糊数据的语句称为<strong>模糊命题</strong></p>
</li>
<li>
<p>一般形式为</p>
<ul>
<li>
<p>x		is 	A</p>
</li>
<li>
<p>或 x	    is	    A	(CF)</p>
</li>
<li>
<p>其中<strong>A是模糊概念或者模糊数</strong>，用相应的模糊集及隶属函数刻画；</p>
<p><strong>x是论域上的变量</strong>，用以代表所论述对象的属性；</p>
<p><strong>CF是该模糊命题的可信度</strong>，它既可以是一个确定的数，也可以是一个模糊数或者模糊语言值。</p>
</li>
</ul>
</li>
</ul>
<h2 id="模糊知识的表示"><a class="markdownIt-Anchor" href="#模糊知识的表示"></a> 模糊知识的表示</h2>
<ul>
<li>
<p>模糊产生式 IF		E	THEN		H	(CF,λ)</p>
<ul>
<li>E是用模糊命题表示的模糊条件；</li>
<li>H是用模糊命题表示的模糊结论；</li>
<li>CF是知识的可信度因子，它既可以是一个确定的数，也可以是一个模糊数或模糊语言值。</li>
<li>λ是匹配度的阈值，用以指出知识被运用的条件</li>
<li>例如IF	x  is  A  THEN  y is B  (CF,λ)</li>
</ul>
</li>
<li>
<p>证据H也可以用模糊命题表示</p>
<p>例如 x 		is 			A’</p>
</li>
</ul>
<h2 id="模糊匹配与冲突消解"><a class="markdownIt-Anchor" href="#模糊匹配与冲突消解"></a> 模糊匹配与冲突消解</h2>
<ul>
<li>知识的前提条件中的A与证据中的A’不一定完全相同，因此首先必须考虑匹配问题。</li>
<li>常用的计算两个模糊集或模糊概念的相似程度（<strong>匹配度</strong>)的方法主要有贴近度、语义距离及相似度等</li>
</ul>
<h3 id="模糊匹配"><a class="markdownIt-Anchor" href="#模糊匹配"></a> 模糊匹配</h3>
<h4 id="贴近度"><a class="markdownIt-Anchor" href="#贴近度"></a> 贴近度</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">[</mo><mi>A</mi><mi mathvariant="normal">∙</mi><mi>B</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>A</mi><mo>⊙</mo><mi>B</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(A,B)= [A∙B+(1-A⊙B)] /2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathdefault">A</span><span class="mord">∙</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊙</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mclose">)</span><span class="mclose">]</span><span class="mord">/</span><span class="mord">2</span></span></span></span></span></p>
<p>其中<img src="/MyImages/image-20200409092941920.png" alt="image-20200409092941920" style="zoom:50%;" /></p>
<h4 id="语义距离"><a class="markdownIt-Anchor" href="#语义距离"></a> 语义距离</h4>
<p><img src="/MyImages/59.png" alt="" /></p>
<h4 id="相似度"><a class="markdownIt-Anchor" href="#相似度"></a> 相似度</h4>
<img src="/MyImages/60.png" style="zoom:67%;" />
<img src="/MyImages/61.png" style="zoom:67%;" />
<h4 id="举例-10"><a class="markdownIt-Anchor" href="#举例-10"></a> 举例</h4>
<img src="/MyImages/image-20200409093854661.png" alt="image-20200409093854661" style="zoom:67%;" />
<h4 id="复合条件的模糊匹配"><a class="markdownIt-Anchor" href="#复合条件的模糊匹配"></a> 复合条件的模糊匹配</h4>
<ul>
<li>
<p>例如对复合条件<br />
E=x1 is A1 AND x2 is A2 AND x3 is A3<br />
及相应证据E’:<br />
x1 is A’1 , x2 is A’2 , x3 is A’3</p>
<p>分别算出Ai与A’i的匹配度δmatch(Ai,A’i),i=1,2,3</p>
</li>
</ul>
<h4 id="方法"><a class="markdownIt-Anchor" href="#方法"></a> 方法</h4>
<p>目前常用的方法有“取极小”和“相乘”等</p>
<ul>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>E</mi><mo separator="true">,</mo><mi>E</mi><mi mathvariant="normal">’</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">{</mo><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>A</mi><mn>1</mn><mo separator="true">,</mo><mi>A</mi><mi mathvariant="normal">’</mi><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>A</mi><mn>2</mn><mo separator="true">,</mo><mi>A</mi><mi mathvariant="normal">’</mi><mn>2</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>A</mi><mn>3</mn><mo separator="true">,</mo><mi>A</mi><mi mathvariant="normal">’</mi><mn>3</mn><mo stretchy="false">)</mo><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">δmatch(E,E’)=min\{δmatch(A1,A’1),δmatch(A2,A’2), δmatch(A3,A’3)\}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">’</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">{</span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mord">’</span><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mord">’</span><span class="mord">2</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mord">’</span><span class="mord">3</span><span class="mclose">)</span><span class="mclose">}</span></span></span></span></span></p>
</li>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>E</mi><mo separator="true">,</mo><mi>E</mi><mi mathvariant="normal">’</mi><mo stretchy="false">)</mo><mo>=</mo><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>A</mi><mn>1</mn><mo separator="true">,</mo><mi>A</mi><mi mathvariant="normal">’</mi><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>A</mi><mn>2</mn><mo separator="true">,</mo><mi>A</mi><mi mathvariant="normal">’</mi><mn>2</mn><mo stretchy="false">)</mo><mo>×</mo><mi>δ</mi><mi>m</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi><mo stretchy="false">(</mo><mi>A</mi><mn>3</mn><mo separator="true">,</mo><mi>A</mi><mi mathvariant="normal">’</mi><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">δmatch(E,E’)=δmatch(A1,A’1)×δmatch(A2,A’2)×δmatch(A3,A’3)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord">’</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mord">’</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mord">’</span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">c</span><span class="mord mathdefault">h</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">A</span><span class="mord">’</span><span class="mord">3</span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>检查总匹配度是否满足阈值条件，如果满足就可以匹配，否则为不可匹配</p>
</li>
</ul>
<h3 id="冲突消解"><a class="markdownIt-Anchor" href="#冲突消解"></a> 冲突消解</h3>
<p><img src="/MyImages/image-20200409094534772.png" alt="image-20200409094534772" style="zoom: 67%;" /><img src="/MyImages/image-20200409095555144.png" alt="image-20200409095555144" /><img src="/MyImages/image-20200409094548468.png" alt="image-20200409094548468" style="zoom:50%;" /></p>
<p><img src="/MyImages/image-20200409095623809.png" alt="image-20200409095623809" style="zoom:50%;" /><img src="/MyImages/image-20200409095639862.png" alt="image-20200409095639862" /></p>
<p><img src="/MyImages/image-20200409095639862.png" alt="image-20200409095639862" /></p>
<h2 id="模糊推理的基本模式"><a class="markdownIt-Anchor" href="#模糊推理的基本模式"></a> 模糊推理的基本模式</h2>
<h3 id="模糊假言推理"><a class="markdownIt-Anchor" href="#模糊假言推理"></a> 模糊假言推理</h3>
<img src="/MyImages/image-20200409095802098.png" alt="image-20200409095802098" style="zoom:50%;" />
<h3 id="模糊拒取式推理"><a class="markdownIt-Anchor" href="#模糊拒取式推理"></a> 模糊拒取式推理</h3>
<img src="/MyImages/image-20200409095908272.png" alt="image-20200409095908272" style="zoom:50%;" />
<h2 id="简单模糊推理"><a class="markdownIt-Anchor" href="#简单模糊推理"></a> 简单模糊推理</h2>
<ul>
<li>知识中只含有简单条件，且不带可信度因子的模糊推理称为<strong>简单模糊推理</strong>。</li>
</ul>
<h3 id="合成推理规则"><a class="markdownIt-Anchor" href="#合成推理规则"></a> 合成推理规则</h3>
<img src="/MyImages/image-20200409100141443.png" alt="image-20200409100141443" style="zoom:50%;" />
<h3 id="构造模糊关系r的方法"><a class="markdownIt-Anchor" href="#构造模糊关系r的方法"></a> 构造模糊关系R的方法</h3>
<h4 id="img-srcmyimages62png-stylezoom-67"><a class="markdownIt-Anchor" href="#img-srcmyimages62png-stylezoom-67"></a> <img src="/MyImages/62.png" style="zoom: 67%;" /></h4>
<img src="/MyImages/image-20200409100915608.png" alt="image-20200409100915608" style="zoom:50%;" />
<h4 id="举例-11"><a class="markdownIt-Anchor" href="#举例-11"></a> 举例</h4>
<img src="/MyImages/image-20200409101021989.png" alt="image-20200409101021989" style="zoom:50%;" />
<ul>
<li>
<img src="/MyImages/image-20200409101040426.png" alt="image-20200409101040426" style="zoom:50%;" />
<p>​	$$R_m(U_1V_3)=max(min(1,0.4),(1-1))=0.4$$</p>
<p>​	$$R_a(U_2,V_3) = min(1,(1-U_2+V_3)) = 0.9$$</p>
</li>
<li>
<img src="/MyImages/63.png" style="zoom:50%;" /></li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-第3章经典逻辑推理" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/06/13/%E7%AC%AC3%E7%AB%A0%E7%BB%8F%E5%85%B8%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86/"
    >第3章经典逻辑推理</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/06/13/%E7%AC%AC3%E7%AB%A0%E7%BB%8F%E5%85%B8%E9%80%BB%E8%BE%91%E6%8E%A8%E7%90%86/" class="article-date">
  <time datetime="2020-06-13T05:03:31.626Z" itemprop="datePublished">2020-06-13</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="基本概念"><a class="markdownIt-Anchor" href="#基本概念"></a> 基本概念</h1>
<h2 id="推理"><a class="markdownIt-Anchor" href="#推理"></a> 推理</h2>
<ol>
<li>所谓<strong>推理</strong>就是按某种<strong>策略</strong>由<strong>已知判断</strong>推出<strong>另一个判断</strong>的思维过程。将事实与规则借助一些符号来表示，推理过程就可以被形式化</li>
</ol>
<h2 id="推理方式及其分类"><a class="markdownIt-Anchor" href="#推理方式及其分类"></a> 推理方式及其分类</h2>
<h3 id="演绎推理-归纳推理-默认推理"><a class="markdownIt-Anchor" href="#演绎推理-归纳推理-默认推理"></a> 演绎推理、归纳推理、默认推理</h3>
<ol>
<li>
<p>演绎推理：从一般到特殊。例如三段论。</p>
</li>
<li>
<p>归纳推理：从个体到一般。</p>
</li>
<li>
<p>默认推理：缺省推理，在知识不完全的情况下假设某些条已经具备所进行的推理。</p>
</li>
</ol>
<h3 id="确定性-不确定性推理"><a class="markdownIt-Anchor" href="#确定性-不确定性推理"></a> 确定性、不确定性推理</h3>
<h3 id="单调推理-非单调推理"><a class="markdownIt-Anchor" href="#单调推理-非单调推理"></a> 单调推理、非单调推理</h3>
<p>推出的结论是否单调增加</p>
<h3 id="启发式-非启发式推理"><a class="markdownIt-Anchor" href="#启发式-非启发式推理"></a> 启发式、非启发式推理</h3>
<p>所谓启发性知识是指与问题有关且能加快推理进程、求得问题最优解的知识。</p>
<h3 id="基于知识的推理专家系统-统计推理-直觉推理常识性推理"><a class="markdownIt-Anchor" href="#基于知识的推理专家系统-统计推理-直觉推理常识性推理"></a> 基于知识的推理（专家系统） 、统计推理、直觉推理（常识性推理）</h3>
<h2 id="推理的控制策略"><a class="markdownIt-Anchor" href="#推理的控制策略"></a> 推理的控制策略</h2>
<h3 id="正向推理-数据驱动推理"><a class="markdownIt-Anchor" href="#正向推理-数据驱动推理"></a> 正向推理 (数据驱动推理)</h3>
<ol>
<li>基本思想：从用户提供的初始已知事实出发，在<strong>知识库KB</strong>中找出当前可适用的知识，构成<strong>可适用的知识集KS</strong>，然后按某种冲突消解策略从KS中选出一条知识进行推理，并将推出的新事实加入到数据库DB中，作为下一步推理的已知事实。在此之后，再在知识库中选取可适用的知识进行推理。如此重复进行这一过程，直到求得所要求的解。</li>
<li>DB中存的是所有已知的知识，反复判断是否能通过DB中的知识推出结论</li>
<li>示意图<img src="/AI_img/16.png" alt="16" style="zoom:67%;" /></li>
</ol>
<h3 id="逆向推理"><a class="markdownIt-Anchor" href="#逆向推理"></a> 逆向推理</h3>
<img src="/AI_img/17.png" style="zoom:67%;" />
<ol>
<li>不需要别的事实推出的，即为一个证据</li>
</ol>
<h3 id="混合推理"><a class="markdownIt-Anchor" href="#混合推理"></a> 混合推理</h3>
<p>先正向推理后逆向推理 或 先逆向推理后正向推理</p>
<h3 id="双向推理"><a class="markdownIt-Anchor" href="#双向推理"></a> 双向推理</h3>
<p>正向推理与逆向推理<strong>同时</strong>进行，且在推理过程中的某一步上“碰头”。</p>
<h3 id="求解策略"><a class="markdownIt-Anchor" href="#求解策略"></a> 求解策略</h3>
<p>只求一个解，还是求所有解以及最优解</p>
<h3 id="限制策略"><a class="markdownIt-Anchor" href="#限制策略"></a> 限制策略</h3>
<p>限制搜索的深度、宽度、时间、空间等等</p>
<h2 id="模式匹配"><a class="markdownIt-Anchor" href="#模式匹配"></a> 模式匹配</h2>
<h3 id="代换的复合"><a class="markdownIt-Anchor" href="#代换的复合"></a> 代换的复合</h3>
<p>两步(保证不会出现相同的分母以及分子分母相同的情况)</p>
<ol>
<li>
<p>合并</p>
<img src="/AI_img/18.png" style="zoom: 67%;" />
</li>
<li>
<p>删除</p>
<img src="/AI_img/19.png" style="zoom: 67%;" />
</li>
</ol>
<h3 id="举例"><a class="markdownIt-Anchor" href="#举例"></a> 举例</h3>
   <img src="/AI_img/20.png" style="zoom:67%;" />
<h3 id="公式集的合一"><a class="markdownIt-Anchor" href="#公式集的合一"></a> 公式集的合一</h3>
<ol>
<li>
<p>定义 设有公式集F={F1,F2,…,Fn}，若存在一个代换λ使得<strong>F<sub>1</sub>λ=F<sub>2</sub>λ=…=F<sub>n</sub>λ</strong>则称λ为公式集F的一个合一，且称F1,F2,…,Fn是可合一的。<strong>公式集的合一一般不唯一</strong></p>
</li>
<li>
<p>举例</p>
<img src="/AI_img/21.png" style="zoom:67%;" />
<p><strong>置换的时候一般令分母是变量</strong>，用分子换掉分母,用项换掉变量（项包括变量，常量和函数）</p>
</li>
</ol>
<h3 id="最一般的合一"><a class="markdownIt-Anchor" href="#最一般的合一"></a> 最一般的合一</h3>
<ol>
<li>
<p>定义 设σ是公式集F的一个合一，如果对任一个合一θ都存在一个代换λ，使得θ=σ°λ则称σ是一个最一般的合一。<strong>最一般合一是唯一的</strong></p>
</li>
<li>
<p>差异集：两个公式中相同位置处不同符号的集合</p>
<p><strong>例如</strong>：F1:P(x,y,z), F2:P(x,f(a),h(b))<br />
则D1={y,f(a)}, D2={z,h(b)}</p>
</li>
<li>
<p><strong>求解最一般合一</strong></p>
<img src="/MyImages/image-20200407115934367.png" alt="image-20200407115934367" style="zoom:50%;" />
<h4 id="举例-2"><a class="markdownIt-Anchor" href="#举例-2"></a> <strong>举例</strong></h4>
<img src="/MyImages/image-20200407120004829.png" alt="image-20200407120004829" style="zoom:50%;" />
</li>
</ol>
<h1 id="自然演绎推理"><a class="markdownIt-Anchor" href="#自然演绎推理"></a> 自然演绎推理</h1>
<p>从一组已知为真的事实出发，直接运用经典逻辑的推理规则推出结论的过程，称为自然演绎推理。其中，基本的推理规则是P规则、T规则、假言推理、拒取式推理等。</p>
<h2 id="一般形式"><a class="markdownIt-Anchor" href="#一般形式"></a> 一般形式</h2>
<p><img src="/AI_img/23.png" alt="" /></p>
<h2 id="pt规则"><a class="markdownIt-Anchor" href="#pt规则"></a> P/T规则</h2>
<ol>
<li>P规则：在推理的任何步骤都可以引入前提。</li>
<li>T规则：推理时，如果前面步骤中有一个或者多个公式永真蕴含公式S，则可把S引入推理过程中。</li>
</ol>
<h1 id="归结演绎推理-必考"><a class="markdownIt-Anchor" href="#归结演绎推理-必考"></a> 归结演绎推理  (必考)</h1>
<h2 id="子句"><a class="markdownIt-Anchor" href="#子句"></a> 子句</h2>
<ol>
<li>
<p><strong>文字</strong> 在谓词逻辑中，<strong>把原子谓词公式及其否定统称为文字</strong>。如：P(x)， ¬P(x,f(x))， Q(x,g(x))</p>
</li>
<li>
<p><strong>子句</strong> 任何文字的析取式称为子句</p>
<ol>
<li>不包含任何文字的子句称为<strong>空子句；空子句恒为假</strong></li>
</ol>
</li>
</ol>
<h3 id="子句集"><a class="markdownIt-Anchor" href="#子句集"></a> 子句集</h3>
<ol>
<li>合取范式：C1 ∧C2 ∧C3… ∧Cn</li>
<li>子句集:     S= {C1 ,C2 ,C3… ,Cn}</li>
<li><strong>任何谓词公式F都可通过等价关系及推理规则化为相应的子句集S。</strong></li>
</ol>
<h3 id="把谓词公式化成子句集的步骤"><a class="markdownIt-Anchor" href="#把谓词公式化成子句集的步骤"></a> 把谓词公式化成子句集的步骤</h3>
<p>消去蕴含关系和量词符号</p>
<img src="/AI_img/24.png" style="zoom:50%;" />
<img src="/AI_img/25.png" style="zoom: 67%;" />
<img src="/AI_img/26.png" style="zoom: 67%;" />
<h3 id="子句集的性质"><a class="markdownIt-Anchor" href="#子句集的性质"></a> 子句集的性质</h3>
<ol>
<li>
<p>句集中子句之间是合取关系。</p>
</li>
<li>
<p>子句集中的变元受全称量词的约束</p>
</li>
</ol>
<h3 id="子句集的意义"><a class="markdownIt-Anchor" href="#子句集的意义"></a> 子句集的意义</h3>
<ol>
<li><strong>子句集S的不可满足性</strong>：对于任意论域中的任意一个解释，S中的子句不能同时取得真值T。</li>
<li><strong>定理</strong> 设有谓词公式F，其子句集为S，则F不可满足的充要条件是S不可满足。<strong>要证明P→Q永真，只需证明公式F=(P∧¬Q)永假，即S不可满足。</strong></li>
</ol>
<h2 id="herbrand理论了解"><a class="markdownIt-Anchor" href="#herbrand理论了解"></a> Herbrand理论(了解)</h2>
<p>海伯伦构造了一个特殊的论域(海伯伦域)，并证明只要对这个特殊域上的一切解释进行判定，就可知子句集是否不可满足。</p>
<h3 id="海伯伦域"><a class="markdownIt-Anchor" href="#海伯伦域"></a> 海伯伦域</h3>
<p><img src="/AI_img/27.png" alt="" /></p>
<h2 id="鲁滨逊归结原理"><a class="markdownIt-Anchor" href="#鲁滨逊归结原理"></a> 鲁滨逊归结原理</h2>
<ul>
<li>鲁滨逊归结原理的基本思想：
<ul>
<li>检查子句集S中是否包含空子句。
<ul>
<li>若包含，则S不可满足；</li>
<li>若不包含，就在子句集中选择合适的子句进行归结，一旦通过归结能推出空子句，就说明子句集S是不可满足的。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="命题逻辑中的归结原理"><a class="markdownIt-Anchor" href="#命题逻辑中的归结原理"></a> 命题逻辑中的归结原理</h3>
<ol>
<li>
<p>若P是原子谓词公式，则称P与¬P为互补文字。在命题逻辑中，P为命题。</p>
</li>
<li>
<p>设C1与C2是子句集中的任意两个子句。如果C1中的文字L1与C2中文字L2互补，那么从C1和C2中分别消去L1和L2，并将两个子句中余下的部分析取，构成一个新子句C12，则称这一过程为<strong>归结</strong>。称C12为C1和C2的<strong>归结式</strong>，C1和C2为C12的<strong>亲本子句。</strong></p>
</li>
<li>
<p><strong>定理</strong> C12是其亲本子句C1与C2的逻辑结论。</p>
<img src="/AI_img/28.png" style="zoom: 33%;" />
</li>
<li>
<p><strong>推论1</strong>：设C1与C2是子句集S中的两个子句，C12是它们的归结式。若用C12代替C1和C2后得到新子句集S1，则由S1的不可满足性可推出原子句集S的不可满足性，即</p>
<p>​		 <strong>S1的不可满足性＝&gt;S的不可满足性</strong></p>
</li>
<li>
<p><strong>推论2</strong> 设C1与C2是子句集S中的两个子句，C12是它们的归结式。若把C12加入S中得到新子句集S2，则S与S2在不可满足的意义上是等价的，即</p>
<p>​		<strong>S2的不可满足性&lt;＝&gt;S的不可满足性</strong></p>
</li>
</ol>
<h3 id="举例-3"><a class="markdownIt-Anchor" href="#举例-3"></a> 举例</h3>
<p><img src="/AI_img/29.png" alt="" /></p>
<h3 id="二元归结式的定义"><a class="markdownIt-Anchor" href="#二元归结式的定义"></a> 二元归结式的定义</h3>
<ol>
<li>
<p>设C1与C2是两个没有相同变元的子句，L1和L2分别是C1和C2中的文字。若σ是L1和¬L2的最一般合一，则称<br />
<strong>C12=(C1σ-{L1σ})∨(C2σ-{L2σ})<strong>为C1和C2的</strong>二元归结式</strong>，L1和L2称为<strong>归结式上的文字</strong>。</p>
</li>
<li>
<p><strong>举例</strong></p>
<p><img src="/AI_img/30.png" alt="" /></p>
<ol>
<li><strong>P 和 Q不能同时约掉，因为我们要选的是互补文字</strong></li>
</ol>
</li>
<li>
<p>子句C1和C2的归结式是下列二元归结式之一：</p>
<ol>
<li>C1与C2的二元归结式；</li>
<li>C1与C2的因子C2σ2的二元归结式；</li>
<li>C1的因子C1σ1与C2的二元归结式；</li>
<li>C1的因子C1σ1与C2的因子C2σ2的二元归结式。</li>
</ol>
</li>
<li>
<p>**结论：**对于一阶谓词逻辑归结原理也是完备的。即，若子句集S不可满足，则必然存在一个从S到空子句的归结演绎；<strong>若存在一个从S到空子句的归结演绎，则S一定是不可满足的。</strong></p>
</li>
</ol>
<h2 id="归结反演"><a class="markdownIt-Anchor" href="#归结反演"></a> 归结反演</h2>
<h3 id="过程"><a class="markdownIt-Anchor" href="#过程"></a> 过程</h3>
<ol>
<li>应用归结原理证明定理的过程称为归结反演。</li>
<li>设P为已知前提的公式集，Q为目标公式(结论)，用归结反演证明Q为真的步骤是：
<ol>
<li>否定Q，得到¬Q；</li>
<li>把¬Q并入到公式集P中，得到{P, ¬Q};</li>
<li>把公式集{P, ¬Q}化为子句集S；</li>
<li>应用归结原理对子句集S中的子句进行归结，并把每次归结得到的归结式都并入S中。如此反复进行，若出现了空子句，则停止归结，此时就证明了Q为真。</li>
</ol>
</li>
</ol>
<h3 id="举例-4"><a class="markdownIt-Anchor" href="#举例-4"></a> 举例</h3>
<p><img src="/AI_img/31.png" alt="" /></p>
<p><img src="/AI_img/32.png" alt="" /></p>
<p><img src="/AI_img/33.png" alt="" /></p>
<h3 id="注意"><a class="markdownIt-Anchor" href="#注意"></a> 注意</h3>
<ul>
<li>归结时，并不要求把子句集中所有的子句都用到。</li>
<li>在归结过程中，一个子句可以多次被用来进行归结。</li>
</ul>
<h2 id="归结策略"><a class="markdownIt-Anchor" href="#归结策略"></a> 归结策略</h2>
<h3 id="归结的一般过程"><a class="markdownIt-Anchor" href="#归结的一般过程"></a> 归结的一般过程</h3>
<ol>
<li>
<p>S内任意子句两两逐一进行归结，得到一组归结式，称为第一级归结式，记为S1。</p>
</li>
<li>
<p>把S与S1内的任意子句两两逐一进行归结，得到一组归结式，称为第二级归结式，记为S2。</p>
</li>
<li>
<p>S和S1内的子句与S2内的任意子句两两逐一进行归结，得到一组归结式，称为第三级归结式，记为S3。</p>
</li>
<li>
<p>如此继续，直到出现了空子句或者不能再继续归结为止。</p>
</li>
<li>
<p>举例</p>
<p><img src="/AI_img/34.png" alt="" /></p>
</li>
</ol>
<h2 id="删除策略"><a class="markdownIt-Anchor" href="#删除策略"></a> 删除策略</h2>
<ol>
<li>纯文字删除法<br />
如果某文字L在子句集中不存在可与之互补的文字¬L，则称该文字为纯文字。包含纯文字的子句可以删除。</li>
<li>重言式删除法<br />
如果一个子句中同时包含互补文字对，则该字句称为重言式。重言式是永远为真的子句，可以删除。</li>
</ol>
<h2 id="支持集策略"><a class="markdownIt-Anchor" href="#支持集策略"></a> 支持集策略</h2>
<ol>
<li>
<p>对参加归结的子句提出如下限制：</p>
<ol>
<li>每一次归结时，亲本子句中至少有一个是由目标公式的否定所得到的子句，</li>
<li>或者是它的后裔。可以证明，支持集策略是完备的。</li>
</ol>
</li>
<li>
<p>举例</p>
<p><img src="/AI_img/35.png" alt="" /></p>
<ol>
<li>s1是 1-2，1-3，1-4得到，支持集策略主要减少的就是s1的数量</li>
<li>s2开始，就是1-5,1-6,2-5,2-6,</li>
</ol>
<p><img src="/AI_img/36.png" alt="" /></p>
</li>
</ol>
<h2 id="线性输入策略"><a class="markdownIt-Anchor" href="#线性输入策略"></a> 线性输入策略</h2>
<ol>
<li>参加归结的两个子句中必须至少有一个是初始子句集中的子句。线性输入策略可限制生成归结式的数量，具有简单、高效的优点。<strong>但是它是不完备的。</strong></li>
</ol>
<h2 id="单文字子句策略"><a class="markdownIt-Anchor" href="#单文字子句策略"></a> 单文字子句策略</h2>
<p>如果一个子句只包含一个文字，则称它为单文字子句。</p>
<h3 id="思想"><a class="markdownIt-Anchor" href="#思想"></a> 思想</h3>
<ol>
<li>参加归结的两个子句中必须至少有一个是单文字子句</li>
<li>用单文字子句策略归结时，归结式比亲本子句含有较少的文字，这有利于朝着空子句的方向前进，因此它有较高的归结效率。但是，<strong>这种归结策略是不完备的</strong>。当初始子句集中不包含单文字子句时，归结就无法进行</li>
</ol>
<h2 id="祖先过滤策略"><a class="markdownIt-Anchor" href="#祖先过滤策略"></a> 祖先过滤策略</h2>
<p>当对两个子句C1和C2进行归结时，只要它们满足下述任一个条件就可以归结。</p>
<ol>
<li>C1和C2中至少有一个是初始子句集中的子句。</li>
<li>C1和C2中一个是另外一个的祖先子句。<br />
祖先过滤策略是完备的。</li>
</ol>
<h2 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h2>
<ol>
<li>优点：<br />
简单，便于在计算机上实现。</li>
<li>缺点：
<ul>
<li>必须把逻辑公式化成子句集。</li>
<li>不便于阅读与理解。<br />
¬P(x)∨Q(x)没有P(x)→Q(x)直观。</li>
<li>可能丢失控制信息。<br />
下列逻辑公式：<br />
(¬A∧¬B)→C	 ¬A→(B∨C)<br />
(¬A∧¬C)→B	 ¬B→(A∨C)<br />
(¬C∧¬B)→A	 ¬C→(B∨A)<br />
化成子句后都是: A∨B∨C</li>
</ul>
</li>
</ol>
<h1 id="冲突消解策略"><a class="markdownIt-Anchor" href="#冲突消解策略"></a> 冲突消解策略</h1>
<h2 id="冲突"><a class="markdownIt-Anchor" href="#冲突"></a> 冲突</h2>
<ol>
<li>冲突：多个知识都匹配成功。</li>
<li>对于正向推理：多条产生式前件都与已知事实匹配成功</li>
<li>对于逆向推理：多条规则后件都和同一个假设匹配成功<br />
<strong>冲突消解的基本思想都是对知识进行排序</strong></li>
</ol>
<h2 id="几种冲突消解策略排序策略"><a class="markdownIt-Anchor" href="#几种冲突消解策略排序策略"></a> 几种冲突消解策略(排序策略)</h2>
<ol>
<li>按针对性排序<br />
优先选用针对性强的产生式规则。</li>
<li>按已知事实的新鲜性排序<br />
优先选用与较多新事实匹配的规则。</li>
<li>按匹配度排序<br />
在不确定性匹配中，计算两个知识模式的相似度(匹配度)，并对其排序，相似度高的规则先推。</li>
<li>按领域问题特点排序</li>
<li>按上下文限制排序<br />
把规则按照下上文分组，并只能选取组中的规则。</li>
<li>按冗余限制排序<br />
冗余知识越少的规则先推。</li>
<li>按条件个数排序<br />
条件少的规则先推。</li>
</ol>
<h1 id="与或形演绎推理"><a class="markdownIt-Anchor" href="#与或形演绎推理"></a> 与或形演绎推理</h1>
<h2 id="基于规则的演绎推理"><a class="markdownIt-Anchor" href="#基于规则的演绎推理"></a> 基于规则的演绎推理</h2>
<h3 id="规则"><a class="markdownIt-Anchor" href="#规则"></a> 规则</h3>
<ol>
<li>规则是一种比较接近于人们习惯的问题描述方式，用蕴含式（“If →Then”规则）按照这种问题描述方式进行求解的系统称为基于规则的系统，或者叫做规则演绎系统。</li>
<li>规则演绎系统按照推理方式可分为：
<ul>
<li>规则正向演绎系统</li>
<li>规则逆向演绎系统</li>
<li>规则双向演绎系统</li>
</ul>
</li>
</ol>
<h3 id="规则正向演绎系统"><a class="markdownIt-Anchor" href="#规则正向演绎系统"></a> 规则正向演绎系统</h3>
<ol>
<li>
<p>规则正向演绎系统是从已知事实出发，正向使用规则（蕴含式）直接进行演绎，直至到达目标为止。</p>
<ul>
<li>在规则正向演绎系统中，对已知事实和规则都有一定的要求，如果不是所要求的形式，需要进行变换。</li>
</ul>
</li>
<li>
<p>把事实表达式化为非蕴含形式的与/或形的步骤如下：</p>
<ol>
<li>利用 “P→Q⇔﹁P∨Q”，消去蕴含符号；</li>
<li>利用狄.摩根定律及量词转换率把“﹁”移到紧靠谓词的位置，直到否定符号的辖域最多只含一个谓词为止；</li>
<li>重新命名变元，使不同量词约束的变元有不同的名字；</li>
<li>对存在量词量化的变量用skolem函数代替；</li>
<li>消去全称量词，且使各主要合取式中的变元具有不同的变量名。</li>
</ol>
<p><img src="D:%5Cblog%5CCebBlog%5Csource%5CMyImages%5C20.png" alt="" /></p>
</li>
<li>
<p>与或图</p>
<p><img src="D:%5Cblog%5CCebBlog%5Csource%5CMyImages%5C21.png" alt="" /></p>
<ol>
<li>与或图的根节点就是整个事实表达式，叶结点均为事实表达式中的一个文字</li>
<li>解树集中的每个解树都对应着子句集中的一个子句。解树集中每个解树的端节点上的文字的析取就是子句集中的一个子句。</li>
<li>上图所示的与/或图有3个解树，分别对应这以下3个子句：
<ul>
<li>Q(z, a)</li>
<li>﹁R(y)∨ ﹁ S(a, y)</li>
<li>﹁P(y)∨ ﹁ S(a, y)</li>
</ul>
</li>
<li><strong>在第二章问题归约表示中所描述的与/或图表示方法与这里与/或形的与/或图表示有着不同的目的和含义</strong>，因此应用时应加以区分。</li>
</ol>
</li>
</ol>
<h3 id="规则的表示"><a class="markdownIt-Anchor" href="#规则的表示"></a> 规则的表示</h3>
<ol>
<li>
<p>通常要求规则具有如下形式   L→W ，其中L为单文字，W为与/或形公式。不是的要进行转换</p>
</li>
<li>
<p>将规则转换为要求形式的步骤</p>
<p><img src="D:%5Cblog%5CCebBlog%5Csource%5CMyImages%5C22.png" alt="" /></p>
<p><img src="D:%5Cblog%5CCebBlog%5Csource%5CMyImages%5C23.png" alt="" /></p>
</li>
</ol>
<h3 id="谓词逻辑的规则正向演绎过程"><a class="markdownIt-Anchor" href="#谓词逻辑的规则正向演绎过程"></a> 谓词逻辑的规则正向演绎过程</h3>
<ol>
<li>
<p>已知事实的与/或形表示：P(x, y)∨(Q(z)∧R(v, y))</p>
</li>
<li>
<p>规则： P(u, v)→(S(u)∨N(v))</p>
</li>
<li>
<p>目标公式： S(a)∨N(b)∨Q©</p>
</li>
<li>
<p>证明：</p>
<ul>
<li>在谓词逻辑情况下，由于事实、规则及目标中均含有变元，因此，其规则演绎过程还需要用最一般合一对变进行置换。</li>
<li>证明过程可用下图表示。</li>
</ul>
<p><img src="/AI_img/37.png" alt="" /></p>
</li>
</ol>
<h2 id="规则逆向演绎系统"><a class="markdownIt-Anchor" href="#规则逆向演绎系统"></a> 规则逆向演绎系统</h2>
<h3 id="规则逆向演绎推理过程"><a class="markdownIt-Anchor" href="#规则逆向演绎推理过程"></a> 规则逆向演绎推理过程</h3>
<p>规则逆向演绎推理过程是从待证明的问题，即目标公式的与/或树出发，通过逆向地使用蕴含式（B规则），对目标公式的与/或树进行变换，直到得出包含已知事实的终止条件为止</p>
<h3 id="目标公式的与或形变换"><a class="markdownIt-Anchor" href="#目标公式的与或形变换"></a> 目标公式的与/或形变换</h3>
<ol>
<li>
<p>在与/或形逆向演绎推理中，要求目标公式采用与/或形表示，其化简采用与正向系统中对事实表达式处理的对偶形式。</p>
</li>
<li>
<p><strong>步骤</strong></p>
<ol>
<li>要用<strong>存在量词</strong>约束变元的Skolem函数来替换由<strong>全称量词</strong>约束的相应变元，消去全称量词。（隐含着变量受存在量词的约束 ）</li>
<li>再消去**存在量词，**并进行变元换名，使主析取元之间具有不同的变元名。</li>
</ol>
</li>
<li>
<p>举例</p>
<p><img src="/AI_img/38.png" alt="" /></p>
<p><img src="D:%5Cblog%5CCebBlog%5Csource%5CMyImages%5C59.png" alt="" /></p>
</li>
</ol>
<h3 id="b规则的表示形式"><a class="markdownIt-Anchor" href="#b规则的表示形式"></a> B规则的表示形式</h3>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>W</mi><mo>→</mo><mi>L</mi></mrow><annotation encoding="application/x-tex">W\to L
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">L</span></span></span></span></span></p>
<ol>
<li>其中前项W为任一与/或形公式，后项L为一单文字</li>
</ol>
<h3 id="已知事实的表示形式"><a class="markdownIt-Anchor" href="#已知事实的表示形式"></a> 已知事实的表示形式</h3>
<ol>
<li>
<p>反向演绎系统的事实表达式限制为<strong>文字合取</strong>形式</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mn>1</mn></msub><mo>∧</mo><msub><mi>F</mi><mn>2</mn></msub><mo>∧</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>∧</mo><msub><mi>F</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">F_1\land F_2\land ...\land F_n
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.55556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>其中每个F<sub>i</sub>都为单文字，且能单独起作用</p>
</li>
</ol>
<h3 id="推理过程"><a class="markdownIt-Anchor" href="#推理过程"></a> 推理过程</h3>
<ol>
<li>首先用与/或树把目标公式表示出来；</li>
<li>用B规则的右部和与/或树的叶节点进行匹配，并将匹配成功的B规则加入到与/或树中；</li>
<li>重复进行步骤2，直到产生某个终止在事实节点上的一致解图为止。这里的“一致解图”是指在推理过程中所用到的代换应该是一致的。</li>
</ol>
<h3 id="举例-5"><a class="markdownIt-Anchor" href="#举例-5"></a> 举例</h3>
<ol>
<li>
<p>已知事实</p>
<ul>
<li>
<p>f1:  DOG(Fido)                       Fido是一只狗</p>
</li>
<li>
<p>f 2: ¬ BARKS(Fido)                 Fido是不叫的</p>
</li>
<li>
<p>f 3:  WAGS-TAIL(Fido)            Fido摇尾巴</p>
</li>
<li>
<p>f 4:  MEOWS(Myrtle)             Myrtle喵喵叫</p>
</li>
</ul>
</li>
<li>
<p>已知规则</p>
<ul>
<li>r1:  (WAGS-TAIL(x1)∧DOG(x1))→ FRIENDLY(x1)<br />
摇尾巴的狗是温顺的狗</li>
<li>r2:  (FRIENDLY(x2)∧ ¬ BARKS(x2))→ ¬ AFRAID(y2, x2)<br />
温顺又不叫的东西是不值得害怕的</li>
<li>r3:  DOG(x3)→ANIMAL(x3) ：狗为动物</li>
<li>r4:  CAT(x4)→ANIMAL(x4)：猫为动物</li>
<li>r5:  MEOWS(x5)→CAT(x5)：喵喵叫的动物是猫</li>
</ul>
</li>
<li>
<p>问题：是否存在这样的一只猫和一条狗，使得这只猫不害怕这只狗？</p>
<ul>
<li>
<p>即目标公式为**(∃x) (∃y) (CAT(x)∧DOG(y)∧¬AFRAID(x, y))**</p>
</li>
<li>
<p>变换得到</p>
<p><strong>CAT(x)∧DOG(y)∧ ¬ AFRAID(x, y)</strong></p>
</li>
</ul>
</li>
<li>
<p>逆向求解</p>
<p><img src="D:%5Cblog%5CCebBlog%5Csource%5CMyImages%5C60.png" alt="s" /></p>
</li>
</ol>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-数据挖掘课堂目录" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/30/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E8%AF%BE%E5%A0%82%E7%9B%AE%E5%BD%95/"
    >数据挖掘课堂目录</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/30/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E8%AF%BE%E5%A0%82%E7%9B%AE%E5%BD%95/" class="article-date">
  <time datetime="2020-03-30T04:36:11.311Z" itemprop="datePublished">2020-03-30</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h2 id="第1章绪论"><a class="markdownIt-Anchor" href="#第1章绪论"></a> <a href="/2020/03/30/%E7%AC%AC1%E7%AB%A0%E7%BB%AA%E8%AE%BA/">第1章绪论</a></h2>
<h2 id="第2章数据"><a class="markdownIt-Anchor" href="#第2章数据"></a> <a href="/2020/03/30/%E7%AC%AC2%E7%AB%A0%E6%95%B0%E6%8D%AE/">第2章数据</a></h2>
<h2 id="第3章数据探索"><a class="markdownIt-Anchor" href="#第3章数据探索"></a> <a href="/2020/03/30/%E7%AC%AC3%E7%AB%A0%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2kt/">第3章数据探索</a></h2>
<h2 id="第4章决策树与模型评估"><a class="markdownIt-Anchor" href="#第4章决策树与模型评估"></a> <a href="/2020/03/30/%E7%AC%AC4%E7%AB%A0%E5%86%B3%E7%AD%96%E6%A0%91%E4%B8%8E%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0/">第4章决策树与模型评估</a></h2>
<h2 id="第5章其他分类技术"><a class="markdownIt-Anchor" href="#第5章其他分类技术"></a> <a href="/2020/06/13/%E7%AC%AC5%E7%AB%A0%E5%85%B6%E4%BB%96%E5%88%86%E7%B1%BB%E6%8A%80%E6%9C%AF/">第5章其他分类技术</a></h2>
<h2 id="第6章关联规则挖掘"><a class="markdownIt-Anchor" href="#第6章关联规则挖掘"></a> <a href="/2020/06/13/%E7%AC%AC6%E7%AB%A0%E5%85%B3%E8%81%94%E8%A7%84%E5%88%99%E6%8C%96%E6%8E%98/">第6章关联规则挖掘</a></h2>
<h2 id="第8章聚类分析"><a class="markdownIt-Anchor" href="#第8章聚类分析"></a> <a href="/2020/06/13/%E7%AC%AC8%E7%AB%A0%E8%81%9A%E7%B1%BB%E5%88%86%E6%9E%90/">第8章聚类分析</a></h2>
<h2 id="数据挖掘实验一"><a class="markdownIt-Anchor" href="#数据挖掘实验一"></a> <a href="/2020/06/13/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E5%AE%9E%E9%AA%8C%E4%B8%80/">数据挖掘实验一</a></h2>
<h2 id="数据挖掘实验三"><a class="markdownIt-Anchor" href="#数据挖掘实验三"></a> <a href="/2020/06/13/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E5%AE%9E%E9%AA%8C%E4%B8%89/">数据挖掘实验三</a></h2>
<h2 id="数据挖掘实验二"><a class="markdownIt-Anchor" href="#数据挖掘实验二"></a> <a href="/2020/06/13/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E5%AE%9E%E9%AA%8C%E4%BA%8C/">数据挖掘实验二</a></h2>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-第3章数据探索kt" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/30/%E7%AC%AC3%E7%AB%A0%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2kt/"
    >第3章数据探索kt</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/30/%E7%AC%AC3%E7%AB%A0%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2kt/" class="article-date">
  <time datetime="2020-03-30T04:35:21.939Z" itemprop="datePublished">2020-03-30</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="数据探索"><a class="markdownIt-Anchor" href="#数据探索"></a> 数据探索</h1>
<h2 id="目的"><a class="markdownIt-Anchor" href="#目的"></a> 目的</h2>
<ul>
<li>帮助人们选择合适的工具</li>
<li>通过观察识别出一些模式</li>
</ul>
<h2 id="工具"><a class="markdownIt-Anchor" href="#工具"></a> 工具</h2>
<ul>
<li>分析统计量</li>
<li>可视化</li>
<li>在线分析处理 OLAP</li>
</ul>
<h1 id="汇总统计"><a class="markdownIt-Anchor" href="#汇总统计"></a> 汇总统计</h1>
<p>用量化的方法捕捉值集合的特征</p>
<h2 id="频率和众数"><a class="markdownIt-Anchor" href="#频率和众数"></a> 频率和众数</h2>
<ol>
<li>用于<strong>无序的，分类的值</strong>集合</li>
<li>对于连续数据，众数<strong>通常</strong>没用；但是可能提供关于值的性质或者关于出现遗漏值的重要信息。如果使用唯一的值表示遗漏值,则该值常常表现为众数。</li>
</ol>
<h3 id="百分位数"><a class="markdownIt-Anchor" href="#百分位数"></a> 百分位数</h3>
<ol>
<li>对于<strong>有序/连续</strong>数据，考虑值集的百分位数。</li>
<li><strong>百分位数</strong> 给定一个有序的或连续的属性x和0与100之间的数p,第p个百分位数Xp是一个x值。使碍x的p%观测值小于Xp.</li>
</ol>
<h2 id="位置度量均值和中位数"><a class="markdownIt-Anchor" href="#位置度量均值和中位数"></a> 位置度量：均值和中位数</h2>
<ol>
<li>
<p>对于<strong>连续数据</strong>，广泛应用均值和中位数</p>
<img src="/MyImages/image-20200427172126395.png" style="zoom:33%;" />
</li>
<li>
<p>均值<strong>对于离群点很敏感</strong>；对于包含离群点的数据，中位数可以更稳健的提供值集合中间的估计</p>
</li>
</ol>
<h3 id="截断均值"><a class="markdownIt-Anchor" href="#截断均值"></a> 截断均值</h3>
<p>指定0和100之间的百分位数p.丢<strong>弃高端和低端(p/2)%数据</strong>,然后用常规的方法计算均值.所得的结果即是<strong>截断均值</strong>。中位数是p=100%的截断均值,而标准均值是对应于p=0%截断均值。</p>
<h2 id="散布度量极差和方差"><a class="markdownIt-Anchor" href="#散布度量极差和方差"></a> 散布度量：极差和方差</h2>
<p>连续数据的另一组常用的汇总统计是值集的弥的或散布度量。<strong>这种度量表明属性值是否散布很宽,或者是否相对集中在单个点（如均值)附近。</strong></p>
<h3 id="极差"><a class="markdownIt-Anchor" href="#极差"></a> 极差</h3>
<ol>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>−</mo><mi>m</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">range(x) = max(x) - min(x)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">e</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">a</span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>极差对离群点敏感</li>
</ol>
<h3 id="方差"><a class="markdownIt-Anchor" href="#方差"></a> 方差</h3>
<img src="C:\Users\崔恩博\Desktop\数据挖掘\KDD_img\14.png" style="zoom:33%;" />
<ol>
<li>因为均值可能被离群点扭曲，并且由于方差用均值计算，因此<strong>它也对离群点敏感</strong>。</li>
</ol>
<h3 id="其他三种度量定义"><a class="markdownIt-Anchor" href="#其他三种度量定义"></a> 其他三种度量定义</h3>
<p>力图减少离群点的影响</p>
<img src="/MyImages/image-20200427172603696.png" style="zoom:50%;" />
<ol>
<li>AAD 绝对平均偏差</li>
<li>MAD 中位数绝对偏差</li>
<li>IQR 四分位数极差</li>
</ol>
<h2 id="多元汇总统计"><a class="markdownIt-Anchor" href="#多元汇总统计"></a> 多元汇总统计</h2>
<ol>
<li>如果每个属性的散布可以独立于其他属性，可用上一小节的方法计算</li>
<li>对于具有连续变量的数据，数据的分布更多的用<strong>协方差矩阵</strong>表示。</li>
</ol>
<h3 id="协方差矩阵-s"><a class="markdownIt-Anchor" href="#协方差矩阵-s"></a> 协方差矩阵 S</h3>
<ol>
<li>
<p>其中S的第ij个元素Sij表示第i个属性和第j个属性的协方差。</p>
<img src="C:\Users\崔恩博\Desktop\数据挖掘\KDD_img\17.png" style="zoom:67%;" />
</li>
<li>
<p>属性的协方差是两个属性<strong>一起变化</strong>并<strong>依赖于变量大小</strong>的度量.协方差的值<strong>接近于0表明 两个变量不具有（线性)关系</strong>,但是不能仅靠观察协方差的值来确定两个变量之间的关联程度</p>
</li>
</ol>
<h3 id="相关矩阵-r"><a class="markdownIt-Anchor" href="#相关矩阵-r"></a> 相关矩阵 R</h3>
<ol>
<li>
<p>R的第ij个元素是数据的第i个和第j个属性之间的相关性。</p>
<img src="C:\Users\崔恩博\Desktop\数据挖掘\KDD_img\18.png" style="zoom: 67%;" />
<ol>
<li>Si，Sj分别是xi和xj的方差。R的对角线上的元素是correlation(,t)=1,而其他元素在-1和1之间</li>
</ol>
</li>
</ol>
<h2 id="汇总数据的其他方法"><a class="markdownIt-Anchor" href="#汇总数据的其他方法"></a> 汇总数据的其他方法</h2>
<ol>
<li>值集的倾斜度（skewness）)度量值对称地分布在均值附近的程度.</li>
<li>另外还有一些其他数据特征,很难定量地度量,例如,值的分布是否是多模态的（mulimodal),即数据具有多个&quot;肿块&quot;,大部分值集中在那里,</li>
<li>然而,在许多情况下,理解关于属性值如何分布的更复杂、更微妙的方面,最有效的方法是通过直方图观察这些值。</li>
</ol>
<h1 id="可视化"><a class="markdownIt-Anchor" href="#可视化"></a> 可视化</h1>
<h2 id="可视化的动机"><a class="markdownIt-Anchor" href="#可视化的动机"></a> 可视化的动机</h2>
<ol>
<li>动机是人们能够快速吸取大量可视化信息,并发现其中的模式</li>
<li>另一个动机是利用&quot;镇在人脑袋中&quot;的领域知识。</li>
</ol>
<h2 id="一般概念"><a class="markdownIt-Anchor" href="#一般概念"></a> 一般概念</h2>
<h3 id="表示讲数据映射到图形元素"><a class="markdownIt-Anchor" href="#表示讲数据映射到图形元素"></a> 表示：讲数据映射到图形元素</h3>
<ol>
<li>对象通常用三类方法表示
<ol>
<li>如果只考虑对象的单个分类属性，则通常根据该属性的值将兑现聚类，并把这些类作为表的项或屏幕的区域显示</li>
<li>如果对象具有多个属性，则可以将对象显示为表的一行或显示为图的一条线</li>
<li>对象常常解释为二维或三维空间中的点</li>
</ol>
</li>
<li><strong>对于序数和连续的属性，可以映射成连续的，有序的图形特征</strong></li>
<li><strong>对于分类属性，每个类别可以映射到不同的列</strong></li>
<li><strong>对于标称数据，由于值是无序的，要特别小心</strong></li>
<li>通常将对象和属性映射到图形元素，隐含的将数据中的联系映射到图形对象之间的联系</li>
</ol>
<h3 id="安排"><a class="markdownIt-Anchor" href="#安排"></a> 安排</h3>
<p>项的排列十分重要</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C19.png" alt="" /></p>
<h3 id="选择"><a class="markdownIt-Anchor" href="#选择"></a> 选择</h3>
<p>删除或不突出某些对象和属性</p>
<h2 id="少量属性的可视化"><a class="markdownIt-Anchor" href="#少量属性的可视化"></a> 少量属性的可视化</h2>
<h3 id="茎叶图"><a class="markdownIt-Anchor" href="#茎叶图"></a> <strong>茎叶图</strong></h3>
<ol>
<li>
<p>可以用来观测一维整型或连续数据的分布。</p>
</li>
<li>
<p>对于简单的一类茎叶图，将值分组，其中每组包含的值除最后一位外相同。每一组是茎，而组中最后一位数字是叶。垂直画茎，水平画叶可得茎叶图</p>
   <img src="C:\Users\崔恩博\Desktop\数据挖掘\KDD_img\20.png" style="zoom: 67%;" />
</li>
</ol>
<h3 id="直方图"><a class="markdownIt-Anchor" href="#直方图"></a> 直方图</h3>
<ol>
<li>该图通过将可能的值分散到箱中,并<strong>显示落入每个箱中的对象数</strong>,显示<strong>属性值的分布</strong>。用于显示单个变量值的分布</li>
<li>如果值过多，则进行合并</li>
<li>如果是连续属性，则将值域划分成箱。</li>
</ol>
<h3 id="二维直方图"><a class="markdownIt-Anchor" href="#二维直方图"></a> <strong>二维直方图</strong></h3>
<p>将每个属性划分成区间，而两个区间定义值的二维长方体</p>
<img src="/MyImages/image-20200427174320687.png" alt="image-20200427174320687" style="zoom: 33%;" />
<h3 id="盒装图"><a class="markdownIt-Anchor" href="#盒装图"></a> <strong>盒装图</strong></h3>
<p>是另一种一维数值属性值分布的方法。<br />
<img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C21.png" alt="" /></p>
<ul>
<li>用途
<ul>
<li>用于比较不同的属性</li>
<li>用于判断离群点</li>
</ul>
</li>
</ul>
<h3 id="饼状图"><a class="markdownIt-Anchor" href="#饼状图"></a> <strong>饼状图</strong></h3>
<ol>
<li>通常用于具有相对较少的值的分类属性。</li>
</ol>
<h3 id="百分位数图盒经验积累分布函数"><a class="markdownIt-Anchor" href="#百分位数图盒经验积累分布函数"></a> <strong>百分位数图盒经验积累分布函数</strong></h3>
<p>对于统计分布的每个值,<strong>一个累计分布函数显示点小于该值的概率</strong>。对于每个观测值,一个经验累计分布函数显示小于该值的点的百分比。由于点的个数是有限的**,经验累计分布函数是一个阶梯函数。**</p>
<h3 id="散点图"><a class="markdownIt-Anchor" href="#散点图"></a> <strong>散点图</strong></h3>
<p>图中使用数据对象的两个属性作为x和y的值。其主要用途有</p>
<ol>
<li>图形化的显示两个属性之间的关系</li>
<li>可以用散点图考察两个属性将类分开的程度</li>
</ol>
<h2 id="可视化时间空间数据"><a class="markdownIt-Anchor" href="#可视化时间空间数据"></a> 可视化时间空间数据</h2>
<h3 id="等高线图"><a class="markdownIt-Anchor" href="#等高线图"></a> <strong>等高线图</strong></h3>
<ul>
<li>等高线图将平面划分成一些区域,区城中的第三个属性（温度或海拔高度）的值粗略地相等。等高线图的常见例子是显示地面位置海拔高度的等高线图</li>
<li>在空间网格上测量连续属性时非常有用</li>
</ul>
<h3 id="曲面图"><a class="markdownIt-Anchor" href="#曲面图"></a> <strong>曲面图</strong></h3>
<p>曲面图中第三个属性用来指示高出前两个属性定义的平面的高度</p>
<h3 id="矢量场图"><a class="markdownIt-Anchor" href="#矢量场图"></a> <strong>矢量场图</strong></h3>
<p>适用于同时需要指示方向和大小的图</p>
<h3 id="低维切片"><a class="markdownIt-Anchor" href="#低维切片"></a> <strong>低维切片</strong></h3>
<p>比如每个月份单独成图，降低维度</p>
<h2 id="可视化高维数据"><a class="markdownIt-Anchor" href="#可视化高维数据"></a> 可视化高维数据</h2>
<h3 id="矩阵"><a class="markdownIt-Anchor" href="#矩阵"></a> 矩阵</h3>
<ol>
<li><strong>如果类标号已知</strong>，则重新排列数据矩阵的次序，使得某个类的所有对象聚在一起。这样可以很容易的检查某个类的所有对象是否在某些属性熵具有相似的属性值。</li>
<li>矩阵中，由于不同属性可能具有不同的值域，<strong>则可以对属性标准化</strong></li>
</ol>
<h3 id="平行坐标系"><a class="markdownIt-Anchor" href="#平行坐标系"></a> 平行坐标系</h3>
<ol>
<li>
<p><strong>每个属性</strong>对应一个坐标轴，但是坐标轴是平行的。</p>
</li>
<li>
<p><strong>每个对象</strong>用线而不是点来表示</p>
</li>
<li>
<p>对于数据对象不太多的情况，平行坐标图可以揭示有意义的模式。</p>
</li>
<li>
<p>对于这种图，属性的顺序非常重要</p>
</li>
<li>
<p>举例</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C24.png" alt="" /></p>
</li>
<li>
<p>缺点：<strong>在这种图中模式的检测可能取决于坐标轴的序。如果线交叉太多，则图形可能变得模糊不清</strong></p>
</li>
</ol>
<h3 id="星形坐标和chemoff脸"><a class="markdownIt-Anchor" href="#星形坐标和chemoff脸"></a> 星形坐标和chemoff脸</h3>
<ol>
<li>
<p><strong>星形坐标</strong>：对于高维数据，将对象的每个属性映射到图示符的一个特征，使得属性的值决定特征的准确性质。</p>
</li>
<li>
<p>举例</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C25.png" alt="" /></p>
<ol>
<li>每个属性对应一个坐标轴，每个对象构成一个多边形</li>
</ol>
</li>
</ol>
<h1 id="olap和多维数据分析"><a class="markdownIt-Anchor" href="#olap和多维数据分析"></a> OLAP和多维数据分析</h1>
<h2 id="多维数据一般情况"><a class="markdownIt-Anchor" href="#多维数据一般情况"></a> 多维数据：一般情况</h2>
<ol>
<li>多维数据分析的关键目标是观察聚集量，如总和或平均值</li>
</ol>
<h3 id="多维数组表示数据两步骤"><a class="markdownIt-Anchor" href="#多维数组表示数据两步骤"></a> 多维数组表示数据两步骤</h3>
<ol>
<li>维的识别：一个对象对应于多维数组的一个单元。首先要确定哪些属性是维度，哪些属性是目标属性。
<ol>
<li>用作维度的属性必须是离散值</li>
<li>目标属性通常是计数值或离散值</li>
</ol>
</li>
<li>分析所关注的属性的识别：每个单元内容单表一个关心的目标量</li>
</ol>
<h2 id="分析多维数据"><a class="markdownIt-Anchor" href="#分析多维数据"></a> 分析多维数据</h2>
<h3 id="数据立方体计算聚集量"><a class="markdownIt-Anchor" href="#数据立方体计算聚集量"></a> 数据立方体：计算聚集量</h3>
<ol>
<li>数据的多维表示，连同所有可能的总和(聚集)称作<strong>数据立方体</strong></li>
<li>每个维的大小(属性的个数)不必相等</li>
<li>数据立方体可能多于或少于三个维</li>
<li>对于所有可能的聚合，我们指的是通过选择维度的一个适当子集并对所有剩余维度求和而得到的聚合</li>
</ol>
<h3 id="维归约和转轴"><a class="markdownIt-Anchor" href="#维归约和转轴"></a> 维归约和转轴</h3>
<ol>
<li>
<p><strong>转轴</strong> 是指在除两个维之外的所有维上的聚集。结果是一个二维交叉表，只有两个指定的维作为留下的维</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C26.png" alt="" /></p>
<p>这是一个在日期和产品上转轴的例子</p>
</li>
</ol>
<h3 id="切片和切块"><a class="markdownIt-Anchor" href="#切片和切块"></a> 切片和切块</h3>
<ol>
<li><strong>切片</strong>：通过对一个或多个维指定特定的值，从整个多维数组中选择一组单元</li>
<li><strong>切块</strong>：通过指定属性值范围选择单元子集，等价于由整个数组定义子数组</li>
</ol>
<h3 id="上卷和下钻"><a class="markdownIt-Anchor" href="#上卷和下钻"></a> 上卷和下钻</h3>
<ol>
<li>针对具有层次结构的属性</li>
<li>对于每天的销售数据，可以按月统计，<strong>称为上卷</strong>，反过来，给定时间划分成月份的数据表示，称为下钻</li>
</ol>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-第1章绪论" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/30/%E7%AC%AC1%E7%AB%A0%E7%BB%AA%E8%AE%BA/"
    >第1章绪论</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/30/%E7%AC%AC1%E7%AB%A0%E7%BB%AA%E8%AE%BA/" class="article-date">
  <time datetime="2020-03-30T04:34:52.970Z" itemprop="datePublished">2020-03-30</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="基本概念"><a class="markdownIt-Anchor" href="#基本概念"></a> 基本概念</h1>
<h2 id="数据挖掘基础终点"><a class="markdownIt-Anchor" href="#数据挖掘基础终点"></a> 数据挖掘基础终点</h2>
<ol>
<li>数据：类型，质量，预处理，度量</li>
<li>分类：决策树，贝叶斯网络，机器学习</li>
<li>关联规则挖掘：Apr规则，FP-growth规则，rule generation</li>
<li>聚类：Hierarchical Methods,Partitioning Methods,density,evaluation</li>
</ol>
<h2 id="相关概念"><a class="markdownIt-Anchor" href="#相关概念"></a> 相关概念</h2>
<ol>
<li><strong>数据挖掘</strong>：从超大规模的数据中提取有价值，有意义的信息</li>
</ol>
<h2 id="分类问题"><a class="markdownIt-Anchor" href="#分类问题"></a> 分类问题</h2>
<ol>
<li>
<p><strong>训练集</strong>：含有属性和<strong>标签</strong>的记录</p>
</li>
<li>
<p><strong>分类问题</strong>：通过训练集训练的模型预测测试集的标签</p>
</li>
<li>
<p><strong>混淆矩阵</strong>：<br />
<img src="/KDD_img/1.png" alt="" /></p>
</li>
<li>
<p><strong>ROC曲线</strong>：不断调整阈值PTR与PFR间的关系</p>
<ol>
<li>对角线含义：随机猜测模型的结果</li>
<li><strong>AUC</strong>：ROC曲线下的面积</li>
</ol>
</li>
<li>
<p><strong>lift analysis</strong>：用使用模型后的效果与不使用模型的效果的比值来评价</p>
</li>
</ol>
<h2 id="聚类问题"><a class="markdownIt-Anchor" href="#聚类问题"></a> 聚类问题</h2>
<ol>
<li>数据集只有属性而<strong>没有标签</strong></li>
<li>距离度量：</li>
</ol>
<h2 id="幸存者偏差"><a class="markdownIt-Anchor" href="#幸存者偏差"></a> 幸存者偏差</h2>
<p>分析时，对于统计规律要注意幸存者偏差</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-第2章数据" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/30/%E7%AC%AC2%E7%AB%A0%E6%95%B0%E6%8D%AE/"
    >第2章数据</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/30/%E7%AC%AC2%E7%AB%A0%E6%95%B0%E6%8D%AE/" class="article-date">
  <time datetime="2020-03-30T04:34:52.970Z" itemprop="datePublished">2020-03-30</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h1>
<ul>
<li>数据：对象和其属性的集合</li>
</ul>
<h2 id="属性与度量"><a class="markdownIt-Anchor" href="#属性与度量"></a> 属性与度量</h2>
<h3 id="属性"><a class="markdownIt-Anchor" href="#属性"></a> 属性</h3>
<ol>
<li><strong>属性</strong>：是对象的性质或特性,它因对象而异,或随时间而变</li>
<li><strong>属性的值</strong>：分配给属性的数值或符号。相同属性可能有不同的值，不同属性可能映射到相同的值。</li>
<li><strong>测量标度</strong>：将数值或符号值与对象的属性相关联的规则（函数）。</li>
</ol>
<h3 id="属性类型"><a class="markdownIt-Anchor" href="#属性类型"></a> 属性类型</h3>
<p><strong>属性的类型</strong>告诉我们,属性的哪些性质反映在用于测量它的值中。注意,通常将属性的类型称作<strong>测量标度的类型</strong>。</p>
<h3 id="属性的不同类型"><a class="markdownIt-Anchor" href="#属性的不同类型"></a> 属性的不同类型</h3>
<ol>
<li>
<p>定性的</p>
<ol>
<li><strong>标称型</strong> 是一个标记，比如学号</li>
<li><strong>序数型</strong> 比如排名</li>
</ol>
</li>
<li>
<p>定量的</p>
<ol>
<li><strong>区间型</strong> 比如天气预报</li>
<li><strong>比率型</strong> 比如温度以长度/时间/计数方式给出</li>
</ol>
</li>
<li>
<p>每种属性类型拥有其上方属性类型上的所有性质和操作。因此,对于标称、序数和区间属性合法的任何性质或操作,对于比率属性也合法。换句话说,<strong>属性类型的定义是累积的</strong></p>
</li>
<li>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C3.png" alt="" /></p>
<ol>
<li>定性的属性不具有数的大部分性质，即便使用整数表示，也应该像对待符号一样。</li>
<li>定量属性用数表示，离散或连续</li>
</ol>
</li>
</ol>
<h3 id="属性的变换"><a class="markdownIt-Anchor" href="#属性的变换"></a> 属性的变换</h3>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C4.png" alt="" /></p>
<h3 id="用值的个数描述属性"><a class="markdownIt-Anchor" href="#用值的个数描述属性"></a> 用值的个数描述属性</h3>
<ol>
<li><strong>离散的</strong>：属性具有有限个值或无限可数个值。</li>
<li><strong>连续的</strong>：连续属性是取实数值的属性。</li>
<li>通常,标称和序数属性是二元的或离散的,而区间和比率属性是连续的。然而,<strong>计数属性</strong>（count attribute）是<strong>离教的,<strong>也是</strong>比率属性。</strong></li>
</ol>
<h3 id="非对称的属性"><a class="markdownIt-Anchor" href="#非对称的属性"></a> 非对称的属性</h3>
<p>只有<strong>非零值才重要</strong>的二元属性是<strong>非对称的二元属性</strong>。这类属性 对于关联分析特别重要。例如，如果记录每门误程的学分,则结果数漏集将包含非对称的离歆属性或连续属性。</p>
<h2 id="数据集的类型"><a class="markdownIt-Anchor" href="#数据集的类型"></a> 数据集的类型</h2>
<h3 id="结构化数据的重要性"><a class="markdownIt-Anchor" href="#结构化数据的重要性"></a> 结构化数据的重要性</h3>
<ol>
<li>维度：指数据集中的对象具有的属性数目</li>
<li>稀疏性</li>
<li>分辨率</li>
</ol>
<h3 id="记录型数据"><a class="markdownIt-Anchor" href="#记录型数据"></a> 记录型数据</h3>
<ul>
<li>数据由一组记录构成，每条记录包含一组属性</li>
</ul>
<h4 id="文件数据"><a class="markdownIt-Anchor" href="#文件数据"></a> 文件数据</h4>
<img src="/MyImages/image-20200426190316000.png" alt="image-20200426190316000" style="zoom:50%;" />
<ul>
<li>每一项都是向量的一个属性</li>
<li>值是每个属性出现的次数</li>
</ul>
<h4 id="事务数据"><a class="markdownIt-Anchor" href="#事务数据"></a> 事务数据</h4>
<ul>
<li>每条记录由一组项构成</li>
</ul>
<ol>
<li><strong>事务数据或购物篮数据</strong>：是一种特殊类型的记录数据
<ol>
<li>考患一个杂货店。顾客一次购物所购买的<strong>商品的集合</strong>就构成一个<strong>事务</strong>,而购买的商品是项。这种类型的数据称作购物篮数据</li>
</ol>
</li>
<li><strong>数据矩阵</strong>：如果一个数据集中的所有数据对象都具有相同的数值属性集，则数据集可以看作一个矩阵。</li>
<li><strong>稀疏数据矩阵</strong>：是数据矩阵的一种特殊情况，其中的属性的类型相同并且<strong>是非对称的</strong>。</li>
</ol>
<h3 id="基于图形的数据"><a class="markdownIt-Anchor" href="#基于图形的数据"></a> 基于图形的数据</h3>
<ol>
<li><strong>带有对象之间连续的数据</strong>：对象之间有联系</li>
<li><strong>具有图形对象的数据</strong>：对象本身具有结构，对象包含具有联系的子对象</li>
</ol>
<h3 id="有序数据"><a class="markdownIt-Anchor" href="#有序数据"></a> 有序数据</h3>
<p>对于某些数据类型，属性具有涉及时间或空间序的联系。</p>
<ol>
<li><strong>时序数据</strong></li>
<li><strong>序列数据</strong>：如核苷酸序列</li>
<li><strong>时间序列数据</strong>：如1982到1994年间的月平均气温的时间序列。重要的是考虑<strong>时间自相关</strong>，即如果两个测量的时间很接近,则这些测量的值通常非常相似。</li>
<li><strong>空间数据</strong>：空间数据的一个重要特点是<strong>空间自相关性</strong>（spatial autocorelatio）,即物理上靠近的对象趋向于在其他方面也相似</li>
</ol>
<h3 id="处理非记录型数据"><a class="markdownIt-Anchor" href="#处理非记录型数据"></a> 处理非记录型数据</h3>
<ol>
<li>尝试转换成记录型数据</li>
<li>记录型也存在弊端，应综合考量</li>
</ol>
<h1 id="数据质量"><a class="markdownIt-Anchor" href="#数据质量"></a> 数据质量</h1>
<h2 id="数据质量度量"><a class="markdownIt-Anchor" href="#数据质量度量"></a> 数据质量度量</h2>
<ol>
<li>准确性</li>
<li>完整性</li>
<li>一致性</li>
<li>可信程度</li>
<li>可解释性</li>
<li>获取难度</li>
</ol>
<h2 id="测量和数据收集问题"><a class="markdownIt-Anchor" href="#测量和数据收集问题"></a> 测量和数据收集问题</h2>
<h3 id="测量误差和数据收集错误"><a class="markdownIt-Anchor" href="#测量误差和数据收集错误"></a> 测量误差和数据收集错误</h3>
<ol>
<li><strong>测量误差</strong>：是测量过程导致的。如连续值和真实值之间的误差</li>
<li><strong>数据收集错误</strong>：遗漏数据对象或属性值导致的。</li>
</ol>
<h3 id="噪声和伪像"><a class="markdownIt-Anchor" href="#噪声和伪像"></a> 噪声和伪像</h3>
<ol>
<li><strong>噪声</strong>：是测量误差的随机部分；</li>
</ol>
<h3 id="精度-偏倚和准确率"><a class="markdownIt-Anchor" href="#精度-偏倚和准确率"></a> 精度、偏倚和准确率</h3>
<ol>
<li><strong>精度</strong>：同一个量的<strong>重复测量值</strong>之间的接近程度。常用<strong>标准差</strong>度量。</li>
<li><strong>偏倚</strong>：测量值于被测量之间的系统偏差。用<strong>值集合的均值与测出的已知值之间的差度量</strong></li>
<li><strong>准确率</strong>：被测量的测量值与实际值之间的接近度。</li>
</ol>
<h3 id="离群点"><a class="markdownIt-Anchor" href="#离群点"></a> 离群点</h3>
<ol>
<li><strong>离群点</strong>：偏离大部分数据对象的特征或者相对于该属性的典型值来说是不寻常的值。<strong>但也是真实数据</strong></li>
</ol>
<h3 id="遗漏值"><a class="markdownIt-Anchor" href="#遗漏值"></a> 遗漏值</h3>
<h4 id="原因"><a class="markdownIt-Anchor" href="#原因"></a> 原因</h4>
<ol>
<li>没有收集信息</li>
<li>该属性不适用于此类对象(比如年收入之于儿童)</li>
</ol>
<h4 id="处理"><a class="markdownIt-Anchor" href="#处理"></a> 处理</h4>
<ol>
<li><strong>删除数据对象或属性</strong></li>
<li><strong>估计遗漏值</strong>：插值</li>
<li><strong>忽略遗漏值</strong>：比如聚类的时候</li>
<li><strong>用合适的统计量代替</strong></li>
</ol>
<h3 id="不一致的值"><a class="markdownIt-Anchor" href="#不一致的值"></a> 不一致的值</h3>
<h3 id="重复数据"><a class="markdownIt-Anchor" href="#重复数据"></a> 重复数据</h3>
<p>删除即可</p>
<h2 id="关于应用的问题"><a class="markdownIt-Anchor" href="#关于应用的问题"></a> 关于应用的问题</h2>
<p>从应用的角度考虑数据的质量</p>
<ol>
<li><strong>时效性</strong></li>
<li><strong>相关性</strong></li>
<li><strong>关于数据的知识</strong></li>
</ol>
<h1 id="数据预处理"><a class="markdownIt-Anchor" href="#数据预处理"></a> 数据预处理</h1>
<p>为了让数据更适合挖掘，可以使用</p>
<ol>
<li>数据清洗</li>
<li>聚集</li>
<li>抽样</li>
<li>维归约</li>
<li>特征子集选择</li>
<li>特征创建</li>
<li>离散化和二元化</li>
<li>变量变换</li>
</ol>
<h2 id="数据清洗"><a class="markdownIt-Anchor" href="#数据清洗"></a> 数据清洗</h2>
<p>针对噪声，孤立点，缺失值，不连续数据</p>
<h3 id="对于缺失值"><a class="markdownIt-Anchor" href="#对于缺失值"></a> 对于缺失值</h3>
<h4 id="原因-2"><a class="markdownIt-Anchor" href="#原因-2"></a> 原因</h4>
<ol>
<li>设备失灵</li>
<li>与其他记录不一致而被删除</li>
<li>由于误解而为输入数据</li>
<li>收集数据时，某些数据没有被重视</li>
<li>有些数据可能涉及隐私等问题，收集不到</li>
</ol>
<h4 id="处理-2"><a class="markdownIt-Anchor" href="#处理-2"></a> 处理</h4>
<ol>
<li>忽略这个数据(通常用于标签丢失的情况)</li>
<li>手动填写缺失值</li>
<li>自动填充比如：unknown,均值，基于推理的可能值</li>
</ol>
<h3 id="对于噪声"><a class="markdownIt-Anchor" href="#对于噪声"></a> 对于噪声</h3>
<ul>
<li>指被测量量的随机误差或方差</li>
</ul>
<h4 id="起因"><a class="markdownIt-Anchor" href="#起因"></a> 起因</h4>
<ul>
<li>测量的手段，录入方法，传输过程等导致</li>
<li>也可能是由于技术的限制</li>
<li>命名不一致</li>
</ul>
<h4 id="解决"><a class="markdownIt-Anchor" href="#解决"></a> 解决</h4>
<ol>
<li>分箱：让数据平滑(可能用力过猛)</li>
<li>聚类：聚类可以分离孤立点</li>
<li>回归：建立回归模型</li>
<li>计算机和人工相结合</li>
</ol>
<h2 id="聚集"><a class="markdownIt-Anchor" href="#聚集"></a> 聚集</h2>
<p><strong>聚集</strong>：将两个或多个对象合并成的那个对象。比如，同一个地区合并，等等</p>
<h3 id="目的"><a class="markdownIt-Anchor" href="#目的"></a> 目的</h3>
<ol>
<li><strong>简化数据</strong>：减少数据的属性</li>
<li><strong>改变维度</strong>：理解为改变粒度，上钻和下钻</li>
<li><strong>稳定数据</strong></li>
<li><strong>检测和解决数据值冲突</strong></li>
<li><strong>模式集成</strong>：聚合来自多个源的数据</li>
</ol>
<h2 id="抽样"><a class="markdownIt-Anchor" href="#抽样"></a> 抽样</h2>
<ul>
<li>因为处理整个相关的数据集非常耗费时间，所以使用抽样</li>
<li><strong>抽样定理</strong>
<ul>
<li>如果样本具有代表性，则使用样本与使用整个数据集几乎一样有效</li>
<li>如果样本具有与原始数据集大致相同的(感兴趣的)属性，则该样本具有代表性</li>
</ul>
</li>
</ul>
<h3 id="抽样方法"><a class="markdownIt-Anchor" href="#抽样方法"></a> 抽样方法</h3>
<ol>
<li>简单随机抽样
<ol>
<li>无放回抽样  样本数很大的时候使用</li>
<li>有放回抽样</li>
</ol>
</li>
<li>分层抽样：当总体由不同类型的对象组成,每种类型的对象数量差别很大时,简单随机抽样不能充分地代表不太顾繁出现的对象类型。</li>
<li>渐进抽样</li>
</ol>
<h3 id="渐进抽样"><a class="markdownIt-Anchor" href="#渐进抽样"></a> 渐进抽样</h3>
<ol>
<li><strong>方法</strong>：这些方法从一个小样本开始,然后增加样本容量直至得到足够容量的样本。</li>
</ol>
<h2 id="降维"><a class="markdownIt-Anchor" href="#降维"></a> 降维</h2>
<h3 id="目的-2"><a class="markdownIt-Anchor" href="#目的-2"></a> 目的</h3>
<ol>
<li>避免维灾难</li>
<li>减少挖掘时的算法开销</li>
<li>为了可视化，也使模型更容易理解</li>
<li>去除冗余特征和消除噪声</li>
</ol>
<h3 id="维灾难"><a class="markdownIt-Anchor" href="#维灾难"></a> 维灾难</h3>
<ol>
<li>随着数据维度的增加,许多数据分析变得非常困难。特别是<strong>随着维度增加,数据在它所占据的空间中越来越稀疏</strong>。
<ol>
<li>对于分类,这可能意味没有足够的数据对象来创建模型,将所有可能的对象可靠地指派到一个类。</li>
<li>对于聚类,点之间的密度和距离的定义失去了意义。</li>
</ol>
</li>
<li>结果是分类准确率降低，聚类质量下降</li>
</ol>
<h3 id="维归约的线性代数技术"><a class="markdownIt-Anchor" href="#维归约的线性代数技术"></a> 维归约的线性代数技术</h3>
<ol>
<li><strong>主成分分析 PCA</strong>: 是一种用于连续属性的线性代数技术,它找出新的属性（主成分),这些属性是原属性的线性组合,是相互正交的,并且捕获了数据的最大变差.</li>
<li>步骤
<ol>
<li>求协方差矩阵的特征向量</li>
<li>用特征向量定义新的空间</li>
</ol>
</li>
<li>还有SVD</li>
</ol>
<h2 id="子特征选择-降维的另一种方法"><a class="markdownIt-Anchor" href="#子特征选择-降维的另一种方法"></a> 子特征选择-降维的另一种方法</h2>
<h3 id="目的-3"><a class="markdownIt-Anchor" href="#目的-3"></a> 目的</h3>
<p>去除冗余和不相关的特征</p>
<h3 id="特征选择方法"><a class="markdownIt-Anchor" href="#特征选择方法"></a> 特征选择方法</h3>
<ol>
<li><strong>Brute-force approch</strong> 尝试各种组合，选择最好结果的组合</li>
<li><strong>Embedded approaches</strong> 嵌入式的方法，下游算法可能自然具有降维功能</li>
<li><strong>Filter approaches</strong> 过滤方法</li>
<li>**Wrapper approaches **包装方法</li>
</ol>
<h3 id="特征子集选择体系结构"><a class="markdownIt-Anchor" href="#特征子集选择体系结构"></a> 特征子集选择体系结构</h3>
<ol>
<li>
<p>特征选择过程可以看作由四部分组成：</p>
<ol>
<li>子集评估度量</li>
<li>控制新的特征子集产生的搜索策略</li>
<li>停止搜索判断</li>
<li>验证过程</li>
</ol>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C8.png" alt="" /></p>
</li>
<li>
<p><strong>子集的数量可能很大</strong>,考察所有的子集可能不现实,因比需要某种停止搜索判断。其策略**通常基于如下一个或多个条件:迭代次数,**子集评估的度量值是否最优或超过给定的阈值,一个特定大小的子集是否已经得到,大小和评估标准是否同时达到,使用搜索策略得到的选择是否可以实现改进。</p>
</li>
</ol>
<h3 id="特征加权"><a class="markdownIt-Anchor" href="#特征加权"></a> 特征加权</h3>
<ol>
<li>特征越重要，权值越大。</li>
<li>可人为设定，也可自动确定。比如<strong>支持向量机</strong>产生分类模型，其中每个特征都赋予一个权值。在<strong>计算余弦相似度时进行的对象规范化</strong>也可看作义类特征加权。</li>
</ol>
<h2 id="特征创建"><a class="markdownIt-Anchor" href="#特征创建"></a> 特征创建</h2>
<p>由原来的属性创建新的属性集，更有效的捕捉数据集中的重要信息。</p>
<h3 id="特征提取"><a class="markdownIt-Anchor" href="#特征提取"></a> 特征提取</h3>
<ol>
<li><strong>定义</strong> 由原始数据创建新的特征集称为特征提取</li>
</ol>
<h3 id="映射数据到新的空间"><a class="markdownIt-Anchor" href="#映射数据到新的空间"></a> 映射数据到新的空间</h3>
<p>从不同的时间挖掘数据</p>
<ol>
<li>如果只有单个周期模式,并且噪声不多,则容易检测到该模式:另一方面,如果有大量周期模式,并且存在大量噪声,则很难检测这些模式。</li>
<li><strong>使用傅里叶变换</strong></li>
<li><strong>小波变换</strong></li>
</ol>
<h3 id="特征构造"><a class="markdownIt-Anchor" href="#特征构造"></a> 特征构造</h3>
<p>将原始数据集的特征转换成适合挖掘的形式</p>
<ol>
<li>例如，对包含质量和体积的数据集可能需要构造密度</li>
</ol>
<h2 id="离散化和二元化"><a class="markdownIt-Anchor" href="#离散化和二元化"></a> 离散化和二元化</h2>
<h3 id="目的-4"><a class="markdownIt-Anchor" href="#目的-4"></a> 目的</h3>
<p>根据不同下游需求选择</p>
<ol>
<li>
<p>将连续属性划分成区间</p>
</li>
<li>
<p>有些算法只接收属性数据(categorical attributes),categorical attributes是标称和序数的统称。关注属性，而非值。</p>
</li>
<li>
<p>通过离散化减少数据大小</p>
</li>
<li>
<p>为后续分析做准备</p>
</li>
</ol>
<h3 id="针对三类属性"><a class="markdownIt-Anchor" href="#针对三类属性"></a> 针对三类属性</h3>
<ol>
<li>标称型</li>
<li>序数型</li>
<li>连续数据</li>
</ol>
<h3 id="二元化"><a class="markdownIt-Anchor" href="#二元化"></a> 二元化</h3>
<ol>
<li>
<p>要使用n=log2<sup>m</sup>上取整个二进制数表示m个属性值</p>
</li>
<li>
<p><strong>注意</strong> 原来有序的数据，赋值后仍要保持有序</p>
</li>
<li>
<p>可能导致复杂化，如无意中建立了转换后的属性之间的联系。</p>
</li>
</ol>
<h3 id="对无标签数据的离散化"><a class="markdownIt-Anchor" href="#对无标签数据的离散化"></a> 对无标签数据的离散化</h3>
<ol>
<li>按数据</li>
<li>频率</li>
<li>K-means</li>
<li>按区间</li>
</ol>
<h3 id="有标签数据的离散化"><a class="markdownIt-Anchor" href="#有标签数据的离散化"></a> 有标签数据的离散化</h3>
<ol>
<li>
<p><strong>基于熵的方法</strong></p>
<ol>
<li>熵的定义</li>
</ol>
<img src="C:\Users\崔恩博\Desktop\数据挖掘\KDD_img\5.png" style="zoom:50%;" />
<p>​			Py= m/m是第i个区间中类j的概率（值的比例）。</p>
<ol start="2">
<li>该划分的总熵e是每个区间的嫡的加权平均,即<img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C9.png" alt="" /></li>
</ol>
</li>
</ol>
<h3 id="具有过多值的分类属性"><a class="markdownIt-Anchor" href="#具有过多值的分类属性"></a> 具有过多值的分类属性</h3>
<p>对于标称的数据，比如大学的专业，可以利用领域知识合并成大的组，比如工程学，社会科学，或生物科学</p>
<h2 id="数据转换"><a class="markdownIt-Anchor" href="#数据转换"></a> 数据转换</h2>
<p>变量变换是指用于变量的所有值的变换，目的是<strong>使数据更适合挖掘</strong>。两种重要的变量变换类型：简单函数变换和规范化</p>
<h3 id="简单函数"><a class="markdownIt-Anchor" href="#简单函数"></a> 简单函数</h3>
<ol>
<li>使用如x<sup>k</sup>,log<sup>x</sup>,e<sup>x</sup>,1/x,sinx，|x|,x<sup>1/2</sup>等形式</li>
<li>平方根、对数和倒数变换，常用来将不具有高斯(正态）分布的数据变换成具有高斯(正态)分布的数据。</li>
<li>对数变换用于压缩</li>
<li><strong>注意</strong> 变换前后的序是否变化</li>
</ol>
<h3 id="正规化或标准化"><a class="markdownIt-Anchor" href="#正规化或标准化"></a> 正规化或标准化</h3>
<ul>
<li>将数据缩小到一定的范围</li>
</ul>
<ol>
<li>
<p>如果要以某种方法组合不同的变量,则<strong>为了避免具有较大值域的变量左右计算结果</strong>,这种变换常常是必要的</p>
</li>
<li>
<p>由于均值和标准差受离群点的影响很大，因此通常用<strong>中位数</strong>取代均值，用<strong>绝对标准差</strong>，取代标准差</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C10.png" alt="" /></p>
</li>
</ol>
<img src="C:\Users\崔恩博\Desktop\数据挖掘\KDD_img\6.png" style="zoom:50%;" />
<h3 id="属性创建"><a class="markdownIt-Anchor" href="#属性创建"></a> 属性创建</h3>
<h1 id="共性和差异"><a class="markdownIt-Anchor" href="#共性和差异"></a> 共性和差异</h1>
<h2 id="基础"><a class="markdownIt-Anchor" href="#基础"></a> 基础</h2>
<h3 id="定义"><a class="markdownIt-Anchor" href="#定义"></a> 定义</h3>
<ol>
<li><strong>相似度</strong>：通常,相似度是非负的,并常常在0(不相似）和1(完全相似)之间取值。</li>
<li><strong>相异度</strong>：通常,术语距离（distance)用作相异度的同义词,正如我们将介绍的,距离常常用来表示特定类型的相异度。有时,相异度在区间[0.1]中取值,但是相异度在0和∞之间取值也很常见</li>
</ol>
<h3 id="变换"><a class="markdownIt-Anchor" href="#变换"></a> 变换</h3>
<p>现在要将相似度转化到特定区间。或在相似度和相异度之间转换。</p>
<ol>
<li>
<p>对于具有有限值域的相异度也能用d=(d-mind)/(mac_d-min_d)映射到[0,1]区间。</p>
</li>
<li>
<p>如果原来的值域在[0,∞]上，那么需要使用非线性变换，井且在新的尺度上,值之间不再具有相同的联系。<strong>例如</strong>对于从0变化到∞的相异度度量,考虑变换d=d/(1+d),相异度0、0.5、2、10、100和1000分别被变换到0、0.33、067、090、0.99和0999.</p>
</li>
<li>
<p><strong>相似度与相异度间转换</strong></p>
<ol>
<li>
<p>如果相似度（相异度）落在[0,1]区间,则相异度（相似度）可以定义为<strong>d=1-s（或s=1-d)</strong>。另一种简单的方法是定义<strong>相似度为负的相异度</strong>（或相反)。</p>
</li>
<li>
<p>一般来说，<strong>任何单调减函数</strong>都可以用来将相异度转换到相似度</p>
</li>
</ol>
</li>
</ol>
<h2 id="简单属性之间的相似度和相异度"><a class="markdownIt-Anchor" href="#简单属性之间的相似度和相异度"></a> 简单属性之间的相似度和相异度</h2>
<h3 id="对于单个标称属性"><a class="markdownIt-Anchor" href="#对于单个标称属性"></a> 对于单个标称属性</h3>
<p><strong>由于标称属性只携带了对象的相异性信息</strong>,因此我们只能说两个对象有相同的值,或者没有。因面在这种情况下,如果属性值匹配,则<strong>相似度定义为1.否则为0;</strong> 相异度用相反的方法定义:如果属性值匹配,相异度为0,否则为1。</p>
<h3 id="对于单个序数属性"><a class="markdownIt-Anchor" href="#对于单个序数属性"></a> 对于单个序数属性</h3>
<ol>
<li>量化时，必须考虑序信息</li>
<li>有时需要考虑区间或比率属性。区间或比率属性的相似度通常转换成相异度。</li>
<li><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C7.png" alt="" /></li>
</ol>
<h2 id="数据对象之间的相异度"><a class="markdownIt-Anchor" href="#数据对象之间的相异度"></a> 数据对象之间的相异度</h2>
<h3 id="距离"><a class="markdownIt-Anchor" href="#距离"></a> 距离</h3>
<ol>
<li>
<p>欧几里得距离</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C11.png" alt="" /></p>
</li>
<li>
<p>闵可夫斯基据距离</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C12.png" alt="" /></p>
<p>其中r是参数</p>
<ol>
<li>
<p>r=1时，代表汉明距离。时两个具有二元属性的对象之间不同的二进制位的个数</p>
</li>
<li>
<p>r=2代表欧几里得距离</p>
</li>
<li>
<p>r=∞代表对象属性之间的最大距离</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C13.png" alt="" /></p>
</li>
</ol>
</li>
<li>
<p>距离矩阵都是对称的</p>
</li>
</ol>
<h3 id="相异度性质"><a class="markdownIt-Anchor" href="#相异度性质"></a> 相异度性质</h3>
<ol>
<li>非负性</li>
<li>对称性</li>
<li>三角不等式 d(x,z)&lt;=d(x,y)+d(y,z)</li>
<li><strong>注意</strong> 不是所有相异度满足上面所有性质</li>
</ol>
<h2 id="数据对象之间的相似度"><a class="markdownIt-Anchor" href="#数据对象之间的相似度"></a> 数据对象之间的相似度</h2>
<p>对于相似度，<strong>三角不等式通常不成立</strong>。</p>
<h3 id="相似度性质"><a class="markdownIt-Anchor" href="#相似度性质"></a> 相似度性质</h3>
<ol>
<li>仅当x=y时，s(x,y)=1.（0≤s≤1）</li>
<li>对于所有x和y,s(x,y)=s(y,x)（对称性）</li>
</ol>
<h3 id="二进制向量间的相似性"><a class="markdownIt-Anchor" href="#二进制向量间的相似性"></a> 二进制向量间的相似性</h3>
<ul>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>S</mi><mi>M</mi><mi>C</mi><mo>=</mo><mfrac><mrow><msub><mi>M</mi><mn>00</mn></msub><mo>+</mo><msub><mi>M</mi><mn>11</mn></msub></mrow><mrow><msub><mi>M</mi><mn>01</mn></msub><mo>+</mo><msub><mi>M</mi><mn>10</mn></msub><mo>+</mo><msub><mi>M</mi><mn>11</mn></msub><mo>+</mo><msub><mi>M</mi><mn>00</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">SMC = \frac{M_{00}+M_{11}}{M_{01}+M_{10}+M_{11}+M_{00}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.19633em;vertical-align:-0.8360000000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.3139999999999996em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8360000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p><strong>Jaccard系数</strong> = $$\frac{M_{11}}{M_{01}+M_{10}+M_{11}}$$</p>
</li>
<li>
<p>注：M01表示p中为0，q中为1的位数</p>
</li>
<li>
<p>举例</p>
<img src="/MyImages/image-20200426234653454.png" alt="image-20200426234653454" style="zoom: 33%;" />
</li>
<li>
<p><strong>余弦相似度</strong>$$cos(d_1,d_2)=\frac{d_1gd_2}{||d_1||||d_2||}$$其中||d||表示d向量的长度</p>
</li>
<li>
<p><strong>举例</strong></p>
<img src="/MyImages/image-20200426235103418.png" alt="image-20200426235103418" style="zoom:50%;" />
</li>
<li>
<p><strong>扩展的Jaccard系数</strong>：可用于连续或计数属性</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mi>J</mi><mo stretchy="false">(</mo><msub><mi>d</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>d</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><msub><mi>d</mi><mn>1</mn></msub><mi>g</mi><msub><mi>d</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><msub><mi>d</mi><mn>1</mn></msub><mi mathvariant="normal">∣</mi><msup><mi mathvariant="normal">∣</mi><mn>2</mn></msup><mo>+</mo><mi mathvariant="normal">∣</mi><mi mathvariant="normal">∣</mi><msub><mi>d</mi><mn>2</mn></msub><mi mathvariant="normal">∣</mi><msup><mi mathvariant="normal">∣</mi><mn>2</mn></msup><mo>−</mo><msub><mi>d</mi><mn>1</mn></msub><mi>g</mi><msub><mi>d</mi><mn>2</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">EJ(d_1,d_2)=\frac{d_1gd_2}{||d_1||^2+||d_2||^2-d_1gd_2}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3074399999999997em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714399999999998em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">∣</span><span class="mord">∣</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">∣</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord"><span class="mord mathdefault">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
</ul>
<h2 id="属性对象之间的相关性度量"><a class="markdownIt-Anchor" href="#属性对象之间的相关性度量"></a> 属性对象之间的相关性度量</h2>
<ul>
<li>首先要对对象进行标准化</li>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>p</mi><mi>k</mi><mo mathvariant="normal">′</mo></msubsup><mo>=</mo><mfrac><mrow><msub><mi>p</mi><mi>k</mi></msub><mo>−</mo><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><mrow><mi>s</mi><mi>t</mi><mi>d</mi><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">p&#x27;_k=\frac{p_k-mean(p)}{std(p)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.048892em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mi>q</mi><mi>k</mi><mo mathvariant="normal">′</mo></msubsup><mo>=</mo><mfrac><mrow><msub><mi>q</mi><mi>k</mi></msub><mo>−</mo><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></mrow><mrow><mi>s</mi><mi>t</mi><mi>d</mi><mo stretchy="false">(</mo><mi>q</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">q&#x27;_k=\frac{q_k-mean(q)}{std(q)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.048892em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8018919999999999em;"><span style="top:-2.4530000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="mord mathdefault">t</span><span class="mord mathdefault">d</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
</li>
<li>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>o</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>l</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mi>n</mi><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>p</mi><mo mathvariant="normal">′</mo></msup><mo separator="true">⋅</mo><msup><mi>q</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">correlation(p,q)=p&#x27;·q&#x27;
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.996332em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.801892em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
</ul>
<h2 id="整体的相似性度量"><a class="markdownIt-Anchor" href="#整体的相似性度量"></a> 整体的相似性度量</h2>
<h3 id="法一忽略全零的二值属性"><a class="markdownIt-Anchor" href="#法一忽略全零的二值属性"></a> 法一：忽略全零的二值属性</h3>
<img src="/MyImages/image-20200427165248345.png" alt="image-20200427165248345" style="zoom:50%;" />
<h3 id="法二加权求和"><a class="markdownIt-Anchor" href="#法二加权求和"></a> 法二：加权求和</h3>
<img src="/MyImages/70.png" style="zoom:50%;" />
<h1 id="相关性度量"><a class="markdownIt-Anchor" href="#相关性度量"></a> 相关性度量</h1>
<img src="/MyImages/image-20200527224849508.png" alt="image-20200527224849508" style="zoom:50%;" />
<h1 id="密度"><a class="markdownIt-Anchor" href="#密度"></a> 密度</h1>
<h2 id="欧几里得密度"><a class="markdownIt-Anchor" href="#欧几里得密度"></a> 欧几里得密度</h2>
<ul>
<li>最简单的方法是将区域划分为许多等体积的矩形单元，并将密度定义为单元包含的点的数量</li>
</ul>
<img src="/MyImages/image-20200427165716411.png" alt="image-20200427165716411" style="zoom: 50%;" />

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-第4章决策树与模型评估" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/30/%E7%AC%AC4%E7%AB%A0%E5%86%B3%E7%AD%96%E6%A0%91%E4%B8%8E%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0/"
    >第4章决策树与模型评估</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/30/%E7%AC%AC4%E7%AB%A0%E5%86%B3%E7%AD%96%E6%A0%91%E4%B8%8E%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0/" class="article-date">
  <time datetime="2020-03-30T04:34:52.955Z" itemprop="datePublished">2020-03-30</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="预备知识"><a class="markdownIt-Anchor" href="#预备知识"></a> 预备知识</h1>
<ol>
<li><strong>分类</strong>：分类任务就是通过学习得到一个**目标函数(分类模型)**f，把每个属性集x映射到一个预先定义的类标号y</li>
</ol>
<h2 id="分类模型用途"><a class="markdownIt-Anchor" href="#分类模型用途"></a> 分类模型用途</h2>
<ol>
<li>描述性建模：分类模型可作为解释性工具，区分vu同类中的对象</li>
<li>预测性建模：还可用于预测未知记录的类标号。<strong>分类技术非常适合预测或描述二元或标称类型的数据集</strong></li>
</ol>
<h1 id="解决分类问题的一般方法"><a class="markdownIt-Anchor" href="#解决分类问题的一般方法"></a> 解决分类问题的一般方法</h1>
<ol>
<li>分类法的例子包括决策树分类法、基于规则的分类法、神经网络、支持向量机和朴素贝叶斯分类法。</li>
<li>算法的主要目标就是建立具有很好的泛化能力模型,即建立能够准确地预测未知样本类标号的模型。</li>
</ol>
<h2 id="分割训练集和检验集"><a class="markdownIt-Anchor" href="#分割训练集和检验集"></a> 分割训练集和检验集</h2>
<ol>
<li>训练集：由类标号已知的记录组成，用于建立分类模型</li>
<li>检验集：由类标号未知的记录组成</li>
</ol>
<h2 id="混淆矩阵与性能度量"><a class="markdownIt-Anchor" href="#混淆矩阵与性能度量"></a> 混淆矩阵与性能度量</h2>
<h3 id="混淆矩阵"><a class="markdownIt-Anchor" href="#混淆矩阵"></a> 混淆矩阵</h3>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C27.png" alt="" /></p>
<h3 id="性能度量"><a class="markdownIt-Anchor" href="#性能度量"></a> 性能度量</h3>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C28.png" alt="" /></p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C29.png" alt="" /></p>
<h1 id="决策树归纳"><a class="markdownIt-Anchor" href="#决策树归纳"></a> 决策树归纳</h1>
<h2 id="决策树的工作原理"><a class="markdownIt-Anchor" href="#决策树的工作原理"></a> 决策树的工作原理</h2>
<h3 id="决策树组成"><a class="markdownIt-Anchor" href="#决策树组成"></a> 决策树组成</h3>
<ol>
<li>决策树是一种由结点和有向边组成的层次结构</li>
<li>树中包含三种结点
<ol>
<li>根结点</li>
<li>内部结点</li>
<li>叶结点：每个叶结点都赋予一个类标号</li>
</ol>
</li>
<li>非叶节点：包含属性测试条件，用以分开具有不同特性的记录</li>
</ol>
<h2 id="如何建立决策树"><a class="markdownIt-Anchor" href="#如何建立决策树"></a> 如何建立决策树</h2>
<p>找出最佳决策树在计算上是不可行的。通常使用贪心策略，在选择划分数据的属性时，采取一系列局部最优决策来构造决策树。</p>
<h3 id="hunt算法"><a class="markdownIt-Anchor" href="#hunt算法"></a> Hunt算法</h3>
<ol>
<li>通常将训练记录划分成较纯的子集，以递归方式建立决策树</li>
<li>设D<sub>i</sub>是与结点t相关联的训练记录集,而 y={y<sub>1</sub>,y<sub>2</sub>,y<sub>3</sub>,…,y<sub>c</sub>}是类标号，Humt算法的递归定义如下.
<ol>
<li>如果D<sub>t</sub>中所有记录都属于同一个类y<sub>t</sub>,则t是叶结点,用y<sub>t</sub>标记</li>
<li>否则，<strong>则选择一个属性测试条件</strong>，将记录划分成较小的子集。对于测试条件的每个输出，创建一个子女结点，并根据测试结果将记录分布到子女结点中，再递归调用算法</li>
</ol>
</li>
<li>如果属性值的每种组合都在训练数据中出现，并且每种组合都具有唯一的类标号，则Hunt算法是有效的。</li>
</ol>
<h3 id="决策树归纳的设计问题"><a class="markdownIt-Anchor" href="#决策树归纳的设计问题"></a> 决策树归纳的设计问题</h3>
<ol>
<li>如何分裂训练记录：由于在每个非叶结点，都需要选择也给属性测试条件，将记录划分成较小的子集。因此，算法必须要能为不同类型的属性提供测试条件</li>
<li>如何停止分裂过程：需要设计一个结束条件。一般策略是直到所有的记录都属于同一个类，或者所有记录都有相同的属性值。</li>
</ol>
<h2 id="表示属性测试条件的方法"><a class="markdownIt-Anchor" href="#表示属性测试条件的方法"></a> 表示属性测试条件的方法</h2>
<h3 id="二元属性"><a class="markdownIt-Anchor" href="#二元属性"></a> 二元属性</h3>
<p>二元属性的测试条件产生两个可能的输出。表示可以直接二路划分</p>
<h3 id="标称属性"><a class="markdownIt-Anchor" href="#标称属性"></a> 标称属性</h3>
<p>由于标称属性具有多个不同的属性值</p>
<ol>
<li>使用多路划分</li>
<li>创建k个属性值的二元划分的所有2<sup>k-1</sup>-1种方法</li>
</ol>
<h3 id="序数属性"><a class="markdownIt-Anchor" href="#序数属性"></a> 序数属性</h3>
<p>主要注意要维持有序性</p>
<ol>
<li>可以使用二元或多路划分，只要不违背属性值的有序性就可以对属性值进行分组。</li>
<li><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C30.png" alt="" />
<ol>
<li>a.b可以，而c不行</li>
</ol>
</li>
</ol>
<h3 id="连续属性"><a class="markdownIt-Anchor" href="#连续属性"></a> 连续属性</h3>
<ol>
<li>可以是以单个值分割的二元输出</li>
<li>可以是区间形式的多路输出</li>
</ol>
<h2 id="选择最佳划分的度量"><a class="markdownIt-Anchor" href="#选择最佳划分的度量"></a> 选择最佳划分的度量</h2>
<ol>
<li>用p(i|t) 表示给定结点t中属于类i的记录所占的比例，有时省略t。</li>
<li>对于二分类问题，任意结点的分布都可以记作(p<sub>0</sub>,p<sub>1</sub>)</li>
<li>选择最佳划分的度量通常是<strong>根据划分后子女结点不纯性的程度</strong>。不纯的程度越低，类分布越倾斜</li>
</ol>
<h3 id="度量不纯性"><a class="markdownIt-Anchor" href="#度量不纯性"></a> 度量不纯性</h3>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C31.png" alt="" /></p>
<ol>
<li>
<p>举例</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C32.png" alt="" /></p>
</li>
<li>
<p>比较</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C33.png" alt="" /></p>
<ol>
<li>
<p>可以看出，不同的度量的结果是一样的</p>
</li>
<li>
<p><strong>但是作为测试条件的属性选择仍然因不纯性对量的选择而异</strong>衡量测试条件的划分效果：</p>
</li>
<li>
<p>比较父节点的不纯度和子女结点的不纯度。二者的差越大，测试条件效果越好。</p>
</li>
<li>
<p>增益Δ</p>
<p><img src="C:%5CUsers%5C%E5%B4%94%E6%81%A9%E5%8D%9A%5CDesktop%5C%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%5CKDD_img%5C34.png" alt="" /></p>
<ol>
<li>I(x)是给定结点的不纯性度量，N是父节点上记录总数，k是属性值的个数，N(vj)是与子女结点Vj相关联的记录个数</li>
<li>对所有测试条件来说，I(parent)是一个不变的值，所以最大化增益就是最小化子女结点的不纯性度量的加权平均值</li>
<li>如果I(parent)是用信息熵来度量，那么熵的差就称为<strong>信息增益</strong></li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="二元属性的划分"><a class="markdownIt-Anchor" href="#二元属性的划分"></a> 二元属性的划分</h3>
<h4 id="举例"><a class="markdownIt-Anchor" href="#举例"></a> 举例</h4>
<ol>
<li>
<p>若使用多路划分，需要计算每个属性的Gini指标，然后加权平均</p>
<img src="/MyImages/46.png" style="zoom: 67%;" />
</li>
</ol>
<h3 id="连续属性的划分"><a class="markdownIt-Anchor" href="#连续属性的划分"></a> 连续属性的划分</h3>
<ol>
<li>
<p>如果穷举v，并将记录划分再计算Gini值，那么时间复杂度为O(N<sup>2</sup>)</p>
</li>
<li>
<p>如果将训练数据排序，再从两个相邻的排过序的属性值中**选择中间值（平均下取整）**最为候选结点；若下图，最终选择Gini最小的97作为划分点</p>
<img src="/MyImages/47.png" style="zoom: 67%;" />
</li>
<li>
<p><strong>优化</strong> 排序之后，前三个同属一个类，所以划分肯定不会出现在60到75间(如果这样分会把已经聚类的分割开)；同理，也不会出现在100到200间</p>
</li>
</ol>
<h3 id="增益率"><a class="markdownIt-Anchor" href="#增益率"></a> 增益率</h3>
<ol>
<li>
<p>现在的<strong>问题</strong>是，我们得到的划分属性可能是一个没有预测性的属性，比顾客ID(因为这种划分方法更倾向于属性取值多的属性)。这时因为与该划分相关联的记录太少，以至于不能做出可靠的判断</p>
</li>
<li>
<p><strong>解决</strong></p>
<ol>
<li>限制测试条件只能是二元划分</li>
<li>修改评估划分的标准，把属性测试条件产生的输出数也考虑进去例如使用<strong>增益率</strong></li>
</ol>
</li>
<li>
<p><strong>增益率</strong></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo>=</mo><mfrac><msub><mi mathvariant="normal">Δ</mi><mrow><mi>i</mi><mi>n</mi><mi>f</mi><mi>o</mi></mrow></msub><mrow><mi>S</mi><mi>p</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>I</mi><mi>n</mi><mi>f</mi><mi>o</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Gain ratio=\frac{Δ _{info}}{SplitInfo}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.2407700000000004em;vertical-align:-0.8804400000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">o</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">Δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="mord mathdefault mtight">o</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804400000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>其中划分信息Split Info =$$-\sum_{i=1}<sup>kP(v_i)log_2</sup>P(v_i)$$即属性取值的熵</p>
<p>k是划分的总数</p>
<ol>
<li>考虑极端情况，划分之后，每个属性具有相同的记录数，则每个P(v<sub>i</sub>)=1/k，则划分信息等于log<sub>2</sub><sup>k</sup>；这表明，如果某个个属性产生了大量的划分，那么他的划分信息将会很大，从而降低增益率</li>
</ol>
</li>
</ol>
<h2 id="决策树的归纳算法"><a class="markdownIt-Anchor" href="#决策树的归纳算法"></a> 决策树的归纳算法</h2>
<ol>
<li>输入是训练集E和属性集F</li>
<li>步骤：递归的选择最优的属性来划分数据并扩展叶结点</li>
</ol>
<h2 id="算法流程"><a class="markdownIt-Anchor" href="#算法流程"></a> 算法流程</h2>
<img src="/MyImages/48.png" style="zoom:67%;" />
<h3 id="createnode"><a class="markdownIt-Anchor" href="#createnode"></a> createNode</h3>
<p>为决策树建立结点。结点可能是划分条件node.test_cond，也可能是一个类标号node.label</p>
<h3 id="find_best_split"><a class="markdownIt-Anchor" href="#find_best_split"></a> find_best_split</h3>
<p>通过不纯性度量来评估划分，比如使用熵，Gini</p>
<h3 id="classify"><a class="markdownIt-Anchor" href="#classify"></a> Classify</h3>
<p>为叶结点确定类标号。通常将叶结点指派到具有多数记录的类</p>
<h3 id="stopping_cond"><a class="markdownIt-Anchor" href="#stopping_cond"></a> stopping_cond</h3>
<ol>
<li>检查是否所有记录都属于同一个类，或者具有相同的属性值，以决定石头终止决策树的增长。</li>
<li>或者检查记录数是否小于某个最小的阈值</li>
</ol>
<h3 id="注意"><a class="markdownIt-Anchor" href="#注意"></a> 注意</h3>
<p><strong>决策树过大可能导致过拟合</strong>，可以通过剪枝，增强决策树的泛化能力</p>
<h2 id="id3"><a class="markdownIt-Anchor" href="#id3"></a> ID3</h2>
<h3 id="信息增益"><a class="markdownIt-Anchor" href="#信息增益"></a> 信息增益</h3>
<ol>
<li>
<p>信息熵</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>n</mi><mi>f</mi><mi>o</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><msub><mi>p</mi><mi>i</mi></msub><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mrow><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">Info(D)=-\sum _{i=1}^{m}p_i log_2^{(p_i)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">o</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.929066em;vertical-align:-1.277669em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000002em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.433692em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3280857142857143em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.266308em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<ol>
<li>m是标签取值数</li>
</ol>
</li>
<li>
<p>属性的熵</p>
<p>是这个属性所有可能取值的熵的加权平均</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>n</mi><mi>f</mi><msub><mi>o</mi><mi>A</mi></msub><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>v</mi></munderover><mfrac><msub><mi>D</mi><mi>j</mi></msub><mrow><mi mathvariant="normal">∣</mi><mi>D</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mo>×</mo><mi>I</mi><mi>n</mi><mi>f</mi><mi>o</mi><mo stretchy="false">(</mo><msub><mi>D</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Info_A(D)=\sum_{j=1}^v\frac{D_j}{|D|}×Info(D_j)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0651740000000007em;vertical-align:-1.4137769999999998em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000007em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">o</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
</li>
<li>
<p>信息增益</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mi>i</mi><mi>n</mi><mi>f</mi><mi>o</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>−</mo><mi>i</mi><mi>n</mi><mi>f</mi><msub><mi>o</mi><mi>A</mi></msub><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Gain(A) = info(D)-info_A(D)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">G</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">o</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span></span></span></span></span></p>
<ol>
<li>info(D)是识别样本中一个标签，所需要的平均信息量</li>
<li>Info<sub>A</sub>(D)用属性A对数据集D进行分割所需要的信息量</li>
</ol>
</li>
</ol>
<h3 id="举例-2"><a class="markdownIt-Anchor" href="#举例-2"></a> 举例</h3>
<p><img src="/MyImages/image-20200402120653031.png" alt="image-20200402120653031" /></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mi>n</mi><mi>f</mi><mi>o</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mfrac><mn>9</mn><mn>14</mn></mfrac><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mfrac><mn>9</mn><mn>14</mn></mfrac></msubsup><mo>−</mo><mfrac><mn>5</mn><mn>14</mn></mfrac><mi>l</mi><mi>o</mi><msubsup><mi>g</mi><mn>2</mn><mfrac><mn>5</mn><mn>14</mn></mfrac></msubsup><mo>=</mo><mn>0.940</mn><mi>b</mi><mi>i</mi><mi>t</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">Info(D) = -\frac{9}{14}log_2^{\frac {9}{14}}-\frac{5}{14}log_2^{\frac {5}{14}}=0.940bits
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">o</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">9</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.17662em;"><span style="top:-2.733692em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.5856000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">4</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">9</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.266308em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.17662em;"><span style="top:-2.733692em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.5856000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">4</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">5</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.266308em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">9</span><span class="mord">4</span><span class="mord">0</span><span class="mord mathdefault">b</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">s</span></span></span></span></span></p>
<img src="/MyImages/image-20200402120840815.png" alt="image-20200402120840815" style="zoom:67%;" />
<h3 id="注意-2"><a class="markdownIt-Anchor" href="#注意-2"></a> 注意</h3>
<ol>
<li>对于连续值，要进行划分</li>
<li>缺点：更加偏好属性取值多的属性</li>
</ol>
<h2 id="c45"><a class="markdownIt-Anchor" href="#c45"></a> C4.5</h2>
<h3 id="将id3的gain改成gainratio"><a class="markdownIt-Anchor" href="#将id3的gain改成gainratio"></a> 将ID3的gain改成gainratio</h3>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>p</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>f</mi><msub><mi>o</mi><mi>A</mi></msub><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>v</mi></munderover><mfrac><mrow><mi mathvariant="normal">∣</mi><msub><mi>D</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><mi>D</mi></mfrac><mo>×</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mrow><mi mathvariant="normal">∣</mi><msub><mi>D</mi><mi>j</mi></msub><mi mathvariant="normal">∣</mi></mrow><mrow><mi mathvariant="normal">∣</mi><mi>D</mi><mi mathvariant="normal">∣</mi></mrow></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>g</mi><mi>a</mi><mi>i</mi><mi>n</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>O</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>g</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><mrow><mi>s</mi><mi>p</mi><mi>l</mi><mi>i</mi><mi>t</mi><mi>i</mi><mi>n</mi><mi>f</mi><mi>o</mi><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">split info_A(D)=-\sum _{j=1}^v\frac{|D_j|}{D}×log_2({\frac {|D_j|}{|D|}})\\
gainratiO(A)=\frac {gain(A)}{splitinfo(A)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord"><span class="mord mathdefault">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">A</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0651740000000007em;vertical-align:-1.4137769999999998em;"></span><span class="mord">−</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6513970000000007em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4137769999999998em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord">∣</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">∣</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.02778em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord">∣</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="mord mathdefault">p</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">i</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="mord mathdefault">o</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">A</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>以gainratio最大的为划分属性</p>
<h3 id="举例-3"><a class="markdownIt-Anchor" href="#举例-3"></a> 举例</h3>
<p>如上例中</p>
<img src="/MyImages/image-20200402120910754.png" alt="image-20200402120910754" style="zoom:50%;" />
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi><mi>a</mi><mi>i</mi><mi>n</mi><mi mathvariant="normal">_</mi><mi>r</mi><mi>a</mi><mi>t</mi><mi>i</mi><mi>o</mi><mo stretchy="false">(</mo><mi>i</mi><mi>n</mi><mi>c</mi><mi>o</mi><mi>m</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.029</mn><mi mathvariant="normal">/</mi><mn>0.926</mn><mo>=</mo><mn>0.031</mn></mrow><annotation encoding="application/x-tex">gain\_ratio(income) = 0.029/0.926 = 0.031
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="mord mathdefault">a</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">t</span><span class="mord mathdefault">i</span><span class="mord mathdefault">o</span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mord mathdefault">c</span><span class="mord mathdefault">o</span><span class="mord mathdefault">m</span><span class="mord mathdefault">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">2</span><span class="mord">9</span><span class="mord">/</span><span class="mord">0</span><span class="mord">.</span><span class="mord">9</span><span class="mord">2</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">0</span><span class="mord">3</span><span class="mord">1</span></span></span></span></span></p>
<h3 id="特点"><a class="markdownIt-Anchor" href="#特点"></a> 特点</h3>
<ol>
<li>简单易行</li>
<li>在每个结点对连续属性排序</li>
<li>需要在内存中加载全部数据</li>
<li>不适合大数据集(需要外部排序)</li>
</ol>
<h2 id="cart-分类和回归树"><a class="markdownIt-Anchor" href="#cart-分类和回归树"></a> CART 分类和回归树</h2>
<h3 id="gini系数"><a class="markdownIt-Anchor" href="#gini系数"></a> Gini系数</h3>
<ol>
<li>
<p class='katex-block katex-error' title='ParseError: KaTeX parse error: Can&#039;t use function &#039;$&#039; in math mode at position 29: …m _{i=1}^mp_i^2$̲$其中P~i~是D中类i的出现…'>gini(D)=1-\sum _{i=1}^mp_i^2$$其中P~i~是D中类i的出现的频率。

</p>
<img src="/MyImages/image-20200402121019254.png" alt="image-20200402121019254" style="zoom:50%;" />
</li>
<li>
<p>gini增益：表示不确定性减少的程度。我们希望gini增益越大越好。</p>
<img src="/MyImages/image-20200402121026358.png" alt="image-20200402121026358" style="zoom:50%;" />
</li>
</ol>
<h3 id="举例-4"><a class="markdownIt-Anchor" href="#举例-4"></a> 举例</h3>
<p>D has 9 tuples in buys_computer = “yes” and 5 in “no”</p>
<ul>
<li>
<img src="/MyImages/image-20200402121114871.png" alt="image-20200402121114871" style="zoom: 50%;" />
</li>
<li>
<p>Suppose the attribute income partitions D into 10 in D1: {low, medium} and 4 in D2</p>
<img src="/MyImages/image-20200402121216503.png" alt="image-20200402121216503" style="zoom:50%;" />
<img src="/MyImages/image-20200402121225181.png" alt="image-20200402121225181" style="zoom:50%;" />
</li>
<li>
<p>but gini{medium,high} is 0.30 and thus the best since it is the lowest</p>
</li>
</ul>
<h3 id="构建树的思想"><a class="markdownIt-Anchor" href="#构建树的思想"></a> 构建树的思想</h3>
<ol>
<li>通过递归，不断的构建二分叉的树</li>
</ol>
<h2 id="三种衡量比较"><a class="markdownIt-Anchor" href="#三种衡量比较"></a> 三种衡量比较</h2>
<ol>
<li>熵增益
<ul>
<li>趋向于多值的属性</li>
</ul>
</li>
<li>增益率
<ul>
<li>趋向于不平衡的样本</li>
</ul>
</li>
<li>Gini 系数
<ul>
<li>缺陷是趋向于多值属性</li>
<li>如果类别数多的时候，时间复杂度大</li>
<li>偏好各类样本基本相等的数据集</li>
</ul>
</li>
</ol>
<h2 id="决策树归纳的特点"><a class="markdownIt-Anchor" href="#决策树归纳的特点"></a> 决策树归纳的特点</h2>
<ul>
<li>决策树归纳是一种构建分类模型的非参数方法。也就是说，它<strong>不要求任何先验假设</strong>，不假定类和其他属性服从一定的概率分布</li>
<li>找到最佳决策树是NP完全问题。许多决策树算法都采取启发式的方法知道对假设空间的搜索</li>
<li>已开发的决策树技术不需要昂贵的计算代价，即使训练集非常大，也可以<strong>快速建立模型</strong>；决策树一旦建立，<strong>未知样本分类也很快</strong>，最坏情况下的时间复杂度是O(w)，其中w是最大深度</li>
<li><strong>直观，易于解释，同时准确率也可以和其他算法媲美</strong></li>
<li>决策树是学习离散值函数的典型代表；然而，<strong>不能很好的推广到某些特定的布尔型问题</strong>。</li>
<li>对于<strong>噪声</strong>有相当好的<strong>鲁棒性</strong></li>
<li><strong>冗余属性不会</strong>对决策树的准确率<strong>造成不利影响</strong></li>
<li><strong>可能产生数据碎片问题</strong>：由于大多数的决策树采用自顶向下的方式建立，因此沿着树向下，记录会越来越少，在叶结点，记录可能太少，对于叶结点代表的类，不能做出具有统计意义的判决，即数据碎片。</li>
<li><strong>子树可能在决策树中重复多次</strong></li>
<li><strong>对连续数据之间复杂关系建模的表达能力较弱</strong></li>
</ul>
<h1 id="过拟合"><a class="markdownIt-Anchor" href="#过拟合"></a> 过拟合</h1>
<ul>
<li>
<p>误差分为<strong>训练误差</strong>和<strong>泛化误差</strong>；好的分类模型应该具有低训练误差和低泛化误差</p>
</li>
<li>
<p>过拟合：泛化误差较高的模型</p>
</li>
<li>
<p>欠拟合：训练和泛化误差都很大</p>
<p><img src="/MyImages/49.png" alt="" /></p>
</li>
</ul>
<h2 id="可能的原因"><a class="markdownIt-Anchor" href="#可能的原因"></a> 可能的原因</h2>
<ul>
<li>与数据有关：
<ul>
<li>可能是噪声和离群点导致树分支过多</li>
<li><strong>缺少样本</strong>，或样本准确性差</li>
</ul>
</li>
<li>与方法有关：构建模型的算法导致的</li>
<li>与模型复杂度有关：与模型的复杂性有关，<strong>模型越复杂，也越容易导致过拟合</strong></li>
</ul>
<h2 id="噪声导致的过分拟合"><a class="markdownIt-Anchor" href="#噪声导致的过分拟合"></a> 噪声导致的过分拟合</h2>
<ul>
<li>
<p>训练集</p>
<img src="/MyImages/50.png" style="zoom:67%;" />
</li>
<li>
<p>校验集</p>
<img src="/MyImages/52.png" style="zoom:67%;" />
</li>
</ul>
<img src="/MyImages/51.png" style="zoom: 67%;" />
<ul>
<li>左图为完全拟合，训练误差为0，但是由于人和海豚会因为不是四条腿的哺乳动物而被错分。</li>
</ul>
<h2 id="缺乏代表性样本导致的过分拟合"><a class="markdownIt-Anchor" href="#缺乏代表性样本导致的过分拟合"></a> 缺乏代表性样本导致的过分拟合</h2>
<p>根据少量训练数据做出分类决策的模型也容易收到过分拟合的影响。由于训练数据缺乏具有代表性的样本，<strong>在没有多少训练记录的情况下，学习算法仍然继续细化</strong>模型就会产生这样的模型</p>
<h2 id="过分拟合与多重比较过程"><a class="markdownIt-Anchor" href="#过分拟合与多重比较过程"></a> 过分拟合与多重比较过程</h2>
<ul>
<li>多重比较过程是一种学习算法，容易出现过拟合的情况。</li>
<li>在决策树增长的过程中，可以进行多种测试，以确定哪个属性能够最好的划分训练数据，只要观察到改进是统计显著的，就选取导致最佳划分的属性来扩展决策树</li>
<li>在这种情况下，我们是在测试$$\Delta(T_0,T_{Xmax}&gt; \alpha )$$而不是$$Delta(T_0,T_x&gt;\alpha )$$。随着k的增加找到<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mo stretchy="false">(</mo><msub><mi>T</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>T</mi><mrow><mi>X</mi><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>&gt;</mo><mi>α</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\Delta(T_0,T_{Xmax}&gt; \alpha )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Δ</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.07847em;">X</span><span class="mord mathdefault mtight">m</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.0037em;">α</span><span class="mclose">)</span></span></span></span>$$ 的概率也会增加，导致算法在不经意间增加了一些欺骗性的结点，导致过拟合</li>
<li>当选择属性x<sub>max</sub>的训练记录很少时，也会产生这种现象。</li>
</ul>
<h2 id="泛化误差估计"><a class="markdownIt-Anchor" href="#泛化误差估计"></a> 泛化误差估计</h2>
<img src="/MyImages/53.png" style="zoom:67%;" />
<h3 id="使用再代入估计"><a class="markdownIt-Anchor" href="#使用再代入估计"></a> 使用再代入估计</h3>
<ul>
<li>假设训练数据集可以很好的代表整体数据，因此可以使用训练误差提供对泛化误差的乐观估计</li>
<li>然而训练误差通常是泛化误差的一种很差的估计</li>
</ul>
<h3 id="结合模型复杂度"><a class="markdownIt-Anchor" href="#结合模型复杂度"></a> 结合模型复杂度</h3>
<ul>
<li>
<p>模型越复杂，出现过拟合的几率就越高</p>
</li>
<li>
<p><strong>奥卡姆剃刀定律</strong></p>
<p>给定两个具有相同泛化误差的模型，较简单的模型比复杂的模型更可取</p>
</li>
<li>
<p>上图中左决策树的训练误差为4/24-0.167</p>
</li>
<li>
<p>右边决策树的训练误差为4/24</p>
</li>
</ul>
<h4 id="悲观误差评估"><a class="markdownIt-Anchor" href="#悲观误差评估"></a> 悲观误差评估</h4>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>e</mi><mi>g</mi></msub><mo stretchy="false">(</mo><mi>T</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mo stretchy="false">[</mo><mi>e</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mi>n</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">e_g(T)=\frac {\sum _{i=1}^k[e(t_i)+\Omega(t_i)]}{\sum_{i=1}^kn(t_i)}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.857436em;vertical-align:-1.178718em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.678718em;"><span style="top:-2.120992em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897100000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9890079999999999em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.29971000000000003em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathdefault">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">Ω</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.178718em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>​			$$=\frac {e(T)+\Omega(T)}{N_i}$$</p>
<p>其中n(t)是结点t分类的训练记录数，e(t)是被误分类的记录数。k是决策树的叶结点数，e(T)是决策树的总训练误差，Ni是训练记录数，$$\Omega(t_i)$$是每个结点ti对应的罚项。</p>
<ul>
<li>j若设每个结点的罚项为0.5，则
<ul>
<li>左侧的悲观误差估计为$$\frac {4+7×0.5}{24} = 0.3125$$</li>
<li>右侧的悲观误差估计为$$\frac {6+4×0.5}{24} = 0.3333$$</li>
</ul>
</li>
<li><strong>0.5的罚项</strong>：意味着只要至少能够改善一个训练记录的分类，结点就应该扩展，因为扩展一个结点等价于总误差增加0.5，代价比犯一个训练错误小</li>
<li><strong>如果罚项为1</strong>，那么右侧的决策树比左侧的有更好的悲观错误率，这样，除非能够减少一个以上的训练记录的误分类，否则结点不应当扩展</li>
</ul>
<h4 id="最小描述长度原则-mdl"><a class="markdownIt-Anchor" href="#最小描述长度原则-mdl"></a> 最小描述长度原则 MDL</h4>
<h3 id="估计统计上界"><a class="markdownIt-Anchor" href="#估计统计上界"></a> 估计统计上界</h3>
<p>利用泛化误差俩修正训练误差</p>
<h3 id="使用确认集"><a class="markdownIt-Anchor" href="#使用确认集"></a> 使用确认集</h3>
<ul>
<li>把训练数据再分成两个较小的子集，一个用于训练，另一个用作确认</li>
</ul>
<h2 id="处理决策树归纳中的过分拟合"><a class="markdownIt-Anchor" href="#处理决策树归纳中的过分拟合"></a> 处理决策树归纳中的过分拟合</h2>
<h3 id="先剪枝"><a class="markdownIt-Anchor" href="#先剪枝"></a> 先剪枝</h3>
<ul>
<li>
<p>在产生完全的决策树之前停止决策树的生长</p>
</li>
<li>
<p>需要<strong>采用更具有限制性的结束条件</strong></p>
<ul>
<li>
<p>观察到不纯性度量的增益(或估计的泛化误差的改进)低于某个阈值时就停止扩展叶结点。这样可以避免产生过于复杂的子树</p>
<p>然而很难找到合适的阈值。阈值过高导致欠拟合，太低则不能充分解决过拟合</p>
</li>
<li>
<p>所有的样本都属于一个类别时停止</p>
</li>
<li>
<p>所有样本属性值都一样时停止</p>
</li>
<li>
<p>如果划分之后不能提高样本的纯度，那么可以将其剪掉(三种经典方法)</p>
</li>
<li>
<p>当样本数少于给定阈值时停止（适用于样本数很多的时候）</p>
</li>
<li>
<p>在样本中选择具有代表性的样本：机器学习的方法</p>
</li>
<li>
<p>在特征中选择有代表性的特征：去除与目标无关的属性，以此减少内部节点的个数</p>
</li>
</ul>
</li>
</ul>
<h3 id="后剪枝"><a class="markdownIt-Anchor" href="#后剪枝"></a> 后剪枝</h3>
<ul>
<li>
<p>在产生完全的决策树之后，则自底向上的修剪</p>
</li>
<li>
<p>原则</p>
<ul>
<li>如果删除某个结点，能改进泛化误差，那么可以删除</li>
<li>如果两个分支的叶子结点的标签相同，那么可以在分支处进行修剪</li>
<li>MDL 原则</li>
</ul>
</li>
<li>
<p>主要方法</p>
<ul>
<li>用新的叶结点替换子树，该叶结点的标号用多数票决</li>
<li>用子树中最常用的分支代替子树</li>
</ul>
<p>当不能再改进时停止</p>
</li>
<li>
<p>后剪枝的问题是那些被剪掉的子树的计算量被浪费了</p>
</li>
</ul>
<h2 id="决策树构建的其他问题"><a class="markdownIt-Anchor" href="#决策树构建的其他问题"></a> 决策树构建的其他问题</h2>
<h3 id="如果属性是连续值"><a class="markdownIt-Anchor" href="#如果属性是连续值"></a> 如果属性是连续值</h3>
<ul>
<li>因为连续值是不可数的，无法作为分类标准。所以需要采用方法将连续值进行划分</li>
</ul>
<h3 id="存在缺省值"><a class="markdownIt-Anchor" href="#存在缺省值"></a> 存在缺省值</h3>
<ul>
<li>使用某种统计值弥补缺省值</li>
<li>使用概率值来填充</li>
</ul>
<h3 id="构建属性"><a class="markdownIt-Anchor" href="#构建属性"></a> 构建属性</h3>
<ul>
<li>可以基于现有的属性创建新的属性，比如将稀疏的属性重新构建</li>
<li>可以减少碎片，重复，复制
<ul>
<li>碎片：随着构建树，样本的数量越来越少，导致构建的树的分支过多</li>
<li>重复：某个属性沿着被反复测试</li>
<li>复制：子树结构在整棵树中大量重复</li>
</ul>
</li>
</ul>
<h1 id="评估分类器的性能"><a class="markdownIt-Anchor" href="#评估分类器的性能"></a> 评估分类器的性能</h1>
<h2 id="保持方法"><a class="markdownIt-Anchor" href="#保持方法"></a> 保持方法</h2>
<ul>
<li>将原始数据集划分成两个不相交的集合。</li>
<li>划分比例通常根据分析家的判断。例如50-50，或者2:1的比例。</li>
<li><strong>分类器的准确率根据模型在校验集上的准确率估计</strong></li>
</ul>
<h3 id="局限性"><a class="markdownIt-Anchor" href="#局限性"></a> 局限性</h3>
<ul>
<li>用于训练的被<strong>标记样本较少</strong>，因为要保留一部分记录用于校验，因此，<strong>建立的模型不如使用所有被标记样本建立的模型好</strong>。</li>
<li>模型可能<strong>高度依赖于训练集和校验集的构成</strong>
<ul>
<li>训练集越小，模型的方差越大</li>
<li>训练集太大，根据较小的验证集估计的准确率又不太可靠。这样的估计具有很宽的置信区间。最后,训练集和检验集不再是相互独立的。因为训练集和检验集来源于同一个数据集,在一个子集中超出比例的类在另一个子集就低干比例,反之亦然。</li>
</ul>
</li>
</ul>
<h2 id="随机二次抽样"><a class="markdownIt-Anchor" href="#随机二次抽样"></a> 随机二次抽样</h2>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">设</mi><mi>a</mi><mi>c</mi><msub><mi>c</mi><mi>i</mi></msub><mi mathvariant="normal">是</mi><mi mathvariant="normal">第</mi><mi>i</mi><mi mathvariant="normal">次</mi><mi mathvariant="normal">迭</mi><mi mathvariant="normal">代</mi><mi mathvariant="normal">的</mi><mi mathvariant="normal">模</mi><mi mathvariant="normal">型</mi><mi mathvariant="normal">准</mi><mi mathvariant="normal">确</mi><mi mathvariant="normal">率</mi><mspace linebreak="newline"></mspace><mi mathvariant="normal">总</mi><mi mathvariant="normal">准</mi><mi mathvariant="normal">确</mi><mi mathvariant="normal">率</mi><mi mathvariant="normal">位</mi><mi>a</mi><mi>c</mi><msub><mi>c</mi><mrow><mi>s</mi><mi>u</mi><mi>b</mi></mrow></msub><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>k</mi></munderover><mi>a</mi><mi>c</mi><msub><mi>c</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mi>k</mi></mrow><annotation encoding="application/x-tex">设acc_i是第i次迭代的模型准确率\\
总准确率位acc_{sub}=\sum _{i=1}^kacc_i/k
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord cjk_fallback">设</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">是</span><span class="mord cjk_fallback">第</span><span class="mord mathdefault">i</span><span class="mord cjk_fallback">次</span><span class="mord cjk_fallback">迭</span><span class="mord cjk_fallback">代</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">模</span><span class="mord cjk_fallback">型</span><span class="mord cjk_fallback">准</span><span class="mord cjk_fallback">确</span><span class="mord cjk_fallback">率</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord cjk_fallback">总</span><span class="mord cjk_fallback">准</span><span class="mord cjk_fallback">确</span><span class="mord cjk_fallback">率</span><span class="mord cjk_fallback">位</span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">b</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1137820000000005em;vertical-align:-1.277669em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span></span></p>
<h3 id="局限性-2"><a class="markdownIt-Anchor" href="#局限性-2"></a> 局限性</h3>
<ul>
<li>会遇到与保持方法同样的问题，因为在训练阶段没有利用尽可能多的数据</li>
<li>没有控制每个记录用于训练和检验的次数，因此，有些用于选练的记录使用的频率可能比其他记录高得多</li>
</ul>
<h2 id="交叉抽样"><a class="markdownIt-Anchor" href="#交叉抽样"></a> 交叉抽样</h2>
<p>在该方法中，每个记录用于训练的次数相同</p>
<h3 id="二折交叉验证"><a class="markdownIt-Anchor" href="#二折交叉验证"></a> 二折交叉验证</h3>
<ul>
<li>将数据分为<strong>相同大小</strong>的两个子集，一个做训练集，另一个做校验集。然后互换角色。</li>
<li>总误差位两次误差的<strong>和</strong></li>
</ul>
<h3 id="k折交叉验证"><a class="markdownIt-Anchor" href="#k折交叉验证"></a> k折交叉验证</h3>
<ul>
<li>把数据分为大小<strong>相同的 k份</strong>,在每次运行**,选择其中一份作检验集**,而其余的全作为训练集,该过程<strong>重复k 次</strong>,使得<strong>每份数据都用于检验恰好一次</strong>。</li>
<li>总误差是所有k次运行的误差之和</li>
</ul>
<h4 id="留一法"><a class="markdownIt-Anchor" href="#留一法"></a> 留一法</h4>
<ul>
<li>k折法的一种特殊情况，令k=N</li>
<li>优点是
<ul>
<li>尽可能多的利用训练数据，有效覆盖了整个数据集</li>
<li>校验集之间是互斥的</li>
</ul>
</li>
<li>缺点是
<ul>
<li>过程需要重复N次，计算开销大</li>
<li>每个校验集只有一个记录，性能估计度量的方差偏高</li>
</ul>
</li>
</ul>
<h2 id="自助法-boot-strap"><a class="markdownIt-Anchor" href="#自助法-boot-strap"></a> 自助法 boot strap</h2>
<ul>
<li>
<p>之前的方法都是不放回抽样，训练集和检验集都不包含重复记录</p>
</li>
<li>
<p><strong>自助法是有放回抽样</strong></p>
</li>
<li>
<p>如果原始数据有N个记录,可以证明,平均来说,大小为N的自助样本大约包合原始数据中**63.2%**的纪录。</p>
</li>
<li>
<p>没有被抽中的样本将称为校验集的一部分，这样每次都会得到自主样本准确率的一个估计$$\epsilon_i$$</p>
</li>
<li>
<p>重复b次，产生b个自助样本</p>
</li>
</ul>
<h3 id="632自助"><a class="markdownIt-Anchor" href="#632自助"></a> .632自助</h3>
<p>通过组合每个自助样本的准确率（$$\epsilon _i$$）和由包含所有标记样本的训练集计算的准确率(acc<sub>s</sub>)和计算总准确率(acc<sub>bout</sub>)</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>c</mi><msub><mi>c</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>b</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>b</mi></munderover><mo stretchy="false">(</mo><mn>0.632</mn><mo>×</mo><msub><mi>ϵ</mi><mi>i</mi></msub><mo>+</mo><mn>0.368</mn><mo>×</mo><mi>a</mi><mi>c</mi><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">acc_{out}=\frac{1}{b}\sum _{i=1}^b(0.632×\epsilon _i+0.368×acc_i)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1137820000000005em;vertical-align:-1.277669em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mord">3</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">ϵ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mord">6</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<h1 id="模型评价"><a class="markdownIt-Anchor" href="#模型评价"></a> 模型评价</h1>
<h2 id="模型评估矩阵"><a class="markdownIt-Anchor" href="#模型评估矩阵"></a> 模型评估矩阵</h2>
<h3 id="混淆矩阵-2"><a class="markdownIt-Anchor" href="#混淆矩阵-2"></a> 混淆矩阵</h3>
<table>
<thead>
<tr>
<th></th>
<th><strong>Predicted class</strong></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Actual class</strong></td>
<td>Class=Yes</td>
<td>Class=No</td>
</tr>
<tr>
<td>Class=Yes</td>
<td>TP</td>
<td>FN</td>
</tr>
<tr>
<td>Class=No</td>
<td>FP</td>
<td>TN</td>
</tr>
</tbody>
</table>
<h3 id="acc-正确率"><a class="markdownIt-Anchor" href="#acc-正确率"></a> Acc 正确率</h3>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>c</mi><mi>c</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi></mrow><mrow><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi><mo>+</mo><mi>F</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>N</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">Acc(M) = \frac {TP+TN}{TP+TN+FP+FN}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">c</span><span class="mord mathdefault">c</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.1296600000000003em;vertical-align:-0.7693300000000001em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693300000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<ul>
<li>
<p><strong>错分率 = 1 - Acc</strong></p>
</li>
<li>
<p><strong>灵敏度/精度 = $$\frac {TP}{TP+FP}$$</strong></p>
</li>
<li>
<p><strong>特效性 =  $$\frac {TN}{TN+FN}$$</strong></p>
</li>
</ul>
<p>通常需要多度量联合使用</p>
<h3 id="代价矩阵"><a class="markdownIt-Anchor" href="#代价矩阵"></a> 代价矩阵</h3>
<table>
<thead>
<tr>
<th></th>
<th>Predicted class</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Actualclass</td>
<td>C(i|j)</td>
<td><strong>Class=Yes</strong></td>
<td><strong>Class=No</strong></td>
</tr>
<tr>
<td></td>
<td><strong>Class=Yes</strong></td>
<td>C(Yes|Yes)</td>
<td>C(No|Yes)</td>
</tr>
<tr>
<td></td>
<td><strong>Class=No</strong></td>
<td>C(Yes|No)</td>
<td>C(No|No)</td>
</tr>
</tbody>
</table>
<p>用来衡量错分的代价</p>
<h3 id="四个常用指标"><a class="markdownIt-Anchor" href="#四个常用指标"></a> 四个常用指标</h3>
<img src="/MyImages/39.png" style="zoom: 33%;" />
<img src="/MyImages/40.png" style="zoom:50%;" />
<ul>
<li>准确率偏向C(Yes|Yes) &amp; C(Yes|No)</li>
<li>召回率偏向C(Yes|Yes) &amp; C(No|Yes)</li>
<li>F 偏向于C(No|No)</li>
</ul>
<h2 id="模型评估方法"><a class="markdownIt-Anchor" href="#模型评估方法"></a> 模型评估方法</h2>
<h3 id="roc曲线"><a class="markdownIt-Anchor" href="#roc曲线"></a> ROC曲线</h3>
<ul>
<li>用于衡量可靠性</li>
</ul>
<h3 id="保持法"><a class="markdownIt-Anchor" href="#保持法"></a> 保持法</h3>
<ul>
<li>将数据集划分成两个部分：2份做训练，1份做测试</li>
<li>可以随机抽样k次，反复使用保持法，准确率为k次的平均值</li>
</ul>
<h3 id="k折交叉验证-2"><a class="markdownIt-Anchor" href="#k折交叉验证-2"></a> k折交叉验证</h3>
<ul>
<li>将样本进行k次划分，每次以第i份为测试集，剩下k-1个训练样本</li>
<li><strong>留1交叉验证</strong>：令k等于样本个数，每次只拿出其中的一个作为测试样本；适用于小规模数据</li>
</ul>
<h3 id="bootstrap"><a class="markdownIt-Anchor" href="#bootstrap"></a> bootstrap</h3>
<ul>
<li>
<p>针对样本数较少的情况</p>
</li>
<li>
<p>进行有放回抽样来得到测试集</p>
</li>
<li>
<p>将样本进行d次有放回抽样，得到d个样本的数据集，包括训练集和测试集。重复b次，计算准确率</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>c</mi><msub><mi>c</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>b</mi></mfrac><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>b</mi></munderover><mo stretchy="false">(</mo><mn>0.632</mn><mo>×</mo><msub><mi>ϵ</mi><mi>i</mi></msub><mo>+</mo><mn>0.368</mn><mo>×</mo><mi>a</mi><mi>c</mi><msub><mi>c</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">acc_{out}=\frac{1}{b}\sum _{i=1}^b(0.632×\epsilon _i+0.368×acc_i)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">u</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.1137820000000005em;vertical-align:-1.277669em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">b</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361130000000003em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3000050000000005em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord">0</span><span class="mord">.</span><span class="mord">6</span><span class="mord">3</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">ϵ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">3</span><span class="mord">6</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">c</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
</li>
</ul>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Spring杂记" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/30/Spring%E6%9D%82%E8%AE%B0/"
    >Spring杂记</a> 
</h2>
 

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/30/Spring%E6%9D%82%E8%AE%B0/" class="article-date">
  <time datetime="2020-03-30T04:22:50.881Z" itemprop="datePublished">2020-03-30</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      
      

      
      <h1 id="spring注解版ioc"><a class="markdownIt-Anchor" href="#spring注解版ioc"></a> Spring注解版IOC</h1>
<h2 id="getmapping"><a class="markdownIt-Anchor" href="#getmapping"></a> @GetMapping</h2>
<ol>
<li>
<p>使用在占位符加@pathvariable 来获取路径中的变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping</span>(<span class="string">"/dept/&#123;id&#125;"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Department <span class="title">getDepartment</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> Integer id)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> departmentMapper.getDepartmentById(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="configuartion"><a class="markdownIt-Anchor" href="#configuartion"></a> @Configuarti’o’n</h2>
<ol>
<li>声明一个配置类，相当于spring中的配置文件</li>
</ol>
<h2 id="bean"><a class="markdownIt-Anchor" href="#bean"></a> @Bean</h2>
<ol>
<li>给容器中注册也给Bean；类型为返回值的类型，id默认是用方法名作为id</li>
<li>使用@Bean(value = “”)修改id</li>
<li><strong>注意</strong> IOC中默认加入的组件都是单实例的</li>
</ol>
<h2 id="componentscan"><a class="markdownIt-Anchor" href="#componentscan"></a> @ComponentScan</h2>
<ol>
<li>
<p>只要包含了@Controller @Service @Repository @Component的组件就会被加入到容器中</p>
</li>
<li>
<p>可以通过@ComponentScan(value =&quot;&quot;)来指定要扫描的包</p>
</li>
<li>
<p>可以通过execludeFilter来排除包</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ComponentScan</span>(value = <span class="string">"com.example.demo2"</span>,excludeFilters = &#123;</span><br><span class="line">        <span class="meta">@ComponentScan</span>.Filter(type = FilterType.ANNOTATION,classes = &#123;</span><br><span class="line">                Controller<span class="class">.<span class="keyword">class</span>, <span class="title">Service</span>.<span class="title">class</span></span></span><br><span class="line"><span class="class">        &#125;)</span></span><br><span class="line"><span class="class">&#125;)</span></span><br></pre></td></tr></table></figure>
<p><strong>同理还有includeFilters</strong></p>
</li>
</ol>
<h2 id="scope"><a class="markdownIt-Anchor" href="#scope"></a> @Scope</h2>
<ol>
<li>
<p>用于指定作用范围</p>
<ul>
<li>
<p>prototype：多实例的：ioc容器启动并不会去调用方法创建对象放在容器中。每次获取的时候才会调用方法创建对象；</p>
</li>
<li>
<p>singleton：单实例的（默认值）：ioc容器启动会调用方法创建对象放到ioc容器中。以后每次获取就是直接从容器（map.get()）中拿，</p>
</li>
<li>
<p>request：同一次请求创建一个实例</p>
</li>
<li>
<p>session：同一个session创建一个实例</p>
</li>
</ul>
</li>
<li>
<p>懒加载：@Lazy</p>
<ul>
<li>单实例bean：默认在容器启动的时候创建对象；</li>
<li>懒加载：容器启动不创建对象。第一次使用(获取)Bean创建对象，并初始化；</li>
</ul>
</li>
</ol>
<h2 id="conditional"><a class="markdownIt-Anchor" href="#conditional"></a> @Conditional</h2>
<ol>
<li>按照一定的条件进行判断，满足条件给容器中注入Bean</li>
<li><strong>实现</strong>
<ol>
<li>写一个MyCondition类实现Condition接口，重写matches方法</li>
<li>在判断处加上Condational(MyCondtion.class)</li>
</ol>
</li>
<li>如果Conditional<strong>加载类前面</strong>，那么只有满足当前条件，这个类中配置的 所有bean才能生效</li>
</ol>
<h2 id="import"><a class="markdownIt-Anchor" href="#import"></a> @Import</h2>
<ol>
<li>
<p>@Import({MyClass.class}) 组件默认id 是全类名</p>
</li>
<li>
<p>参数还可以是实现了ImportSelector接口的MyImportSelector类</p>
<ol>
<li>
<p>重写selectImports方法，方法返回要导入的类的全类名的String 数组</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyImport</span> <span class="keyword">implements</span> <span class="title">ImportSelector</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectImports(AnnotationMetadata annotationMetadata) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String[]&#123;<span class="string">"com.example.demo2.untity.Person"</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li>
<p>参数还可以是实现了ImportBeanDefinitionRegistrar的类，需要重写registerBeanDefinitions方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyImportBeanDefinitionRegister</span> <span class="keyword">implements</span> <span class="title">ImportBeanDefinitionRegistrar</span> </span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">registerBeanDefinitions</span><span class="params">(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> b1 = registry.containsBeanDefinition(<span class="string">"com.example.demo2.unity.Red"</span>);</span><br><span class="line">        <span class="keyword">boolean</span> b2 = registry.containsBeanDefinition(<span class="string">"com.example.demo2.unity.Blue"</span>);</span><br><span class="line">        <span class="keyword">if</span>(b1&amp;&amp;b2)&#123;</span><br><span class="line">            RootBeanDefinition beanDefinition = <span class="keyword">new</span> RootBeanDefinition();</span><br><span class="line">            registry.registerBeanDefinition(<span class="string">"rainBow"</span>,beanDefinition);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="factorybean"><a class="markdownIt-Anchor" href="#factorybean"></a> FactoryBean</h2>
<ol>
<li>
<p>实现FactoryBean接口重写方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ColorFactoryBean</span>  <span class="keyword">implements</span> <span class="title">FactoryBean</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Color <span class="title">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Color();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> Color<span class="class">.<span class="keyword">class</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p>在配置类中注册FactorBean</p>
</li>
<li>
<p>通过传参</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">      Object bean1 = applicationContext.getBean(<span class="string">"colorFactoryBean"</span>);<span class="comment">//来获取getObject的类</span></span><br><span class="line">Object bean2 = applicationContext.getBean(<span class="string">"&amp;colorFactoryBean"</span>);<span class="comment">//来获取FactoryBean类</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
<h2 id="bean的生命周期"><a class="markdownIt-Anchor" href="#bean的生命周期"></a> Bean的生命周期</h2>
<h3 id="初始化和销毁方法"><a class="markdownIt-Anchor" href="#初始化和销毁方法"></a> 初始化和销毁方法</h3>
<ol>
<li>
<p>使用@Bean(initMethod =&quot;&quot;,destroyMethod=&quot;&quot;)来指定初始化和销毁方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Bean</span>(initMethod = <span class="string">"init"</span>,destroyMethod = <span class="string">"destroy"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> Car <span class="title">car</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Car();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>单实例的情况下,在容器创建时创建,在容器销毁时销毁</li>
<li>多实例的情况下,在第一次获取时创建,而容器不管理销毁</li>
</ol>
</li>
<li>
<p>或者实体类直接实现InitializingBean, DisposableBean接口,重写销毁方法destroy和初始化方法afterPropertiesSet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">DisposableBean</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"cat destroy"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"cat afterPropertiesSet"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用**@PostConstruc**t 和 <strong>@PreDestroy</strong>分别注解初始化方法和销毁方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">House</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">House</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"house construct"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"house postconstruct"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@PreDestroy</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"house destroy"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="实现后置处理器重写响应方法在每一个初始化对象初始化操作前后执行"><a class="markdownIt-Anchor" href="#实现后置处理器重写响应方法在每一个初始化对象初始化操作前后执行"></a> 实现后置处理器,重写响应方法;<strong>在每一个初始化对象初始化操作前后执行</strong></h3>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBeanPostProcessor</span> <span class="keyword">implements</span> <span class="title">BeanPostProcessor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">postProcessBeforeInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"postProcessBeforeInitialization"</span>+beanName+<span class="string">"=&gt;"</span>+bean);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">postProcessAfterInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"postProcessAfterInitialization"</span>+beanName+<span class="string">"=&gt;"</span>+bean);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>
<p>该方法中可以处理bean,返回包装后的bean</p>
</li>
<li>
<p>BeanPostProcessor.postProcessBeforeInitialization</p>
<ul>
<li>初始化：对象创建完成，并赋值好，调用初始化方法。。。</li>
</ul>
</li>
<li>
<p>BeanPostProcessor.postProcessAfterInitialization</p>
<ul>
<li>
<p>销毁：</p>
<ul>
<li>
<pre><code> 单实例：容器关闭的时候
</code></pre>
</li>
<li>
<pre><code> 多实例：容器不会管理这个bean；容器不会调用销毁方法； 		
</code></pre>
</li>
</ul>
<ol start="4">
<li>
<p>遍历得到容器中所有的BeanPostProcessor；挨个执行beforeInitialization，</p>
<ul>
<li>一但返回null，跳出for循环，不会执行后面的BeanPostProcessor.postProcessorsBeforeInitialization</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li>
<p>BeanPostProcessor原理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">populateBean(beanName, mbd, instanceWrapper);给bean进行属性赋值</span><br><span class="line">   initializeBean</span><br><span class="line">   &#123;</span><br><span class="line">   applyBeanPostProcessorsBeforeInitialization(wrappedBean, beanName);</span><br><span class="line">   invokeInitMethods(beanName, wrappedBean, mbd);执行自定义初始化</span><br><span class="line">   applyBeanPostProcessorsAfterInitialization(wrappedBean, beanName);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Spring底层对 BeanPostProcessor 的使用；</p>
<ul>
<li>
<pre><code>   bean赋值，注入其他组件，@Autowired，生命周期注解功能，@Async,xxx BeanPostProcessor;
</code></pre>
</li>
</ul>
</li>
</ol>
<h2 id="给属性赋值"><a class="markdownIt-Anchor" href="#给属性赋值"></a> 给属性赋值</h2>
<h3 id="value参数"><a class="markdownIt-Anchor" href="#value参数"></a> @Value(参数)</h3>
<ol>
<li>
<p>参数可以为</p>
<ul>
<li>
<p>基本数值</p>
</li>
<li>
<p>SpEL #{}</p>
</li>
<li>
<p>${}获取配置文件中的值</p>
<ul>
<li>
<p><strong>使用@PropertySource读取外部配置文件中的值</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Config</span></span><br><span class="line"><span class="meta">@PropertySource</span>(value = <span class="string">"classpath:/Person.properties"</span>)<span class="comment">//可以用String数组或PropertySources指定多个文件</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainConfigPropertyValues</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Person <span class="title">person</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Person();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Person</span></span><br><span class="line"><span class="meta">@Value</span>(<span class="string">"$&#123;Person.name&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"><span class="comment">//properties</span></span><br><span class="line">Person.name=张三</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="自动装配"><a class="markdownIt-Anchor" href="#自动装配"></a> 自动装配</h2>
<ol>
<li>
<p>@Autowired自动注入:</p>
<ul>
<li>
<p>默认优先按照类型去容器中找对应的组件:applicationContext.getBean(BookDao.class);找到就赋值</p>
<p>如果找到多个相同类型的组件，再将属性的名称作为组件的id去容器中查找</p>
<p>applicationContext.getBean(“bookDao”)</p>
</li>
<li>
<p>@Qualifier(“bookDao”)：使用@Qualifier指定需要装配的组件的id，而不是使用属性名</p>
</li>
<li>
<p>自动装配默认一定要将属性赋值好，没有就会报错；</p>
<p>可以使用@Autowired(required=false);</p>
</li>
<li>
<p>@Primary：让Spring进行自动装配的时候，默认使用首选的bean；</p>
<p>也可以继续使用@Qualifier指定需要装配的bean的名字(<strong>优先级更高</strong>)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">BookService&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"></span><br><span class="line">BookDao  bookDao;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>@Resource自动装配</p>
<ul>
<li>不支持@Primary等</li>
</ul>
</li>
<li>
<p>@Inject自动装配</p>
<ul>
<li>还要加依赖,和Autowired功能一致</li>
</ul>
</li>
</ol>
<h3 id="autowired-构造器参数方法属性都是从容器中获取参数组件的值"><a class="markdownIt-Anchor" href="#autowired-构造器参数方法属性都是从容器中获取参数组件的值"></a> @Autowired 构造器,参数,方法,属性:都是从容器中获取参数组件的值</h3>
<ol>
<li>标注在属性上</li>
<li>标注在方法上,Spring容器创建当前对象,就会调用方法,完成赋值.方法使用的参数,自定义类型的值从IOC容器中获取</li>
<li>标注在构造器上,如果组件只有一个有参构造器,这个有参构造器的@Auotwired可以自动省略,参数位置的组件还是可以自动获取</li>
<li>@Bean标注的方法创建的对象,方法参数自动从容器中获取</li>
</ol>
<h1 id="自定义异常页面"><a class="markdownIt-Anchor" href="#自定义异常页面"></a> 自定义异常页面</h1>
<h2 id="杂记"><a class="markdownIt-Anchor" href="#杂记"></a> 杂记</h2>
<ol>
<li>@ ResponseBody 如果加载类名前，表示这个类的所有方法返回的数据直接写给浏览器，（如果是对象砖为json对象）</li>
<li>@ResponseBody 和 @ Controller 可以用@ RestController 替代</li>
<li>@ Component 把组件加入到容器中，组件就是接下来的类</li>
<li>单元测试，要import org.junit.Test</li>
<li>@Email 要求注入的数据必须是Email格式，这时注入要用@ConfigurationProoroties</li>
<li>@PostMapping 处理post请求，类似的还有
<ol>
<li>@PutMapping</li>
<li>@DeleteMapping</li>
<li>@GetMapping</li>
</ol>
</li>
<li>参数中可以加入@RequestParam(“参数名”) 这样如果前端没有填写，则会报错</li>
</ol>
<h2 id="原理"><a class="markdownIt-Anchor" href="#原理"></a> 原理</h2>
<ol>
<li>我自定义的异常被一个controller处理，之后发给异常处理器执行</li>
</ol>
<h2 id="工作"><a class="markdownIt-Anchor" href="#工作"></a> 工作</h2>
<ol>
<li>Controller中写一个类来抛出异常，用@ExceptionHandler(异常名.class)标注；
<ol>
<li>将自定义的错误名以map的形式放入request中</li>
<li>转发请求到/error(有模板引擎的情况下)</li>
</ol>
</li>
<li>component下写一个异常的处理器，继承DefaultErrorAttributes类
<ol>
<li>复写getErrorAttributes方法</li>
<li>从request中取出自定义的错误名称加入到这个类返回值的map中</li>
</ol>
</li>
</ol>
<h1 id="拦截未登录请求"><a class="markdownIt-Anchor" href="#拦截未登录请求"></a> 拦截未登录请求</h1>
<h2 id="实现handlerinterceptor接口"><a class="markdownIt-Anchor" href="#实现handlerinterceptor接口"></a> 实现HandlerInterceptor接口</h2>
<p>重写preHandle方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginHandlerInterceptor</span> <span class="keyword">implements</span> <span class="title">HandlerInterceptor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Object user =  request.getSession().getAttribute(<span class="string">"loginUser"</span>);</span><br><span class="line">        <span class="keyword">if</span>(user!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            request.setAttribute(<span class="string">"msg"</span>,<span class="string">"没有权限，请先登录"</span>);</span><br><span class="line">            request.getRequestDispatcher(<span class="string">"/login"</span>).forward(request,response);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="在配置类中重写addinterceptors方法"><a class="markdownIt-Anchor" href="#在配置类中重写addinterceptors方法"></a> 在配置类中重写addInterceptors方法</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> </span>&#123;</span><br><span class="line">    registry.addInterceptor(<span class="keyword">new</span> LoginHandlerInterceptor()).addPathPatterns(<span class="string">"/**"</span>)</span><br><span class="line">        .excludePathPatterns(<span class="string">"/login"</span>,<span class="string">"/"</span>,<span class="string">"/user/login"</span>,<span class="string">"/webjars/**"</span>,<span class="string">"/asserts/**"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>/**表示路径下所有的文件</li>
<li>注意要把样式文件排除</li>
<li></li>
</ol>
<h1 id="表单提交"><a class="markdownIt-Anchor" href="#表单提交"></a> 表单提交</h1>
<h2 id="springmvc自动封装"><a class="markdownIt-Anchor" href="#springmvc自动封装"></a> SpringMVC自动封装</h2>
<ol>
<li>要求表单中name和JavaBean中的属性名保持一致</li>
</ol>
<h1 id="视图映射"><a class="markdownIt-Anchor" href="#视图映射"></a> 视图映射</h1>
<ol>
<li>
<p>@Configuration 下的类去实现WebMvcConfigure接口，重写addViewControllers()方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMvcConfig</span> <span class="keyword">implements</span> <span class="title">WebMvcConfigurer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addViewControllers</span><span class="params">(ViewControllerRegistry registry)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//实现视图映射</span></span><br><span class="line">        registry.addViewController(<span class="string">"/"</span>).setViewName(<span class="string">"index"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="日志"><a class="markdownIt-Anchor" href="#日志"></a> 日志</h1>
<ol>
<li>
<p>logger要从slf4j.logger中导入</p>
</li>
<li>
<p>logger. (由低到高)</p>
<ol>
<li>trace 记录调试信息</li>
<li>debug 记录debug信息</li>
<li>info 记录自定义信息</li>
<li>warn 警告信息</li>
<li>errror 错误日志</li>
</ol>
</li>
<li>
<p>可以调整输出的日志级别，日志就会再这个级别以后的高级别生效。默认从info级别开始生效。<strong>在配置文件中，使用logging.level.包名 = 级别</strong></p>
</li>
<li>
<p>配置logging.file=日志完整路径(包括日志文件名)</p>
</li>
<li>
<p>配置logging.path=日志路径 (使用spring.log作为文件名) eg. logging.path = /spring/log</p>
</li>
<li>
<p>logging.pattern.console = 用于指定控制台输出的格式</p>
</li>
</ol>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hide/" rel="tag">hide</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/">上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/3/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2015-2020
        John Doe
      </li>
      <li>
        
        Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Hexo"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/%E6%97%85%E8%A1%8C/">旅行</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="http://shenyu-vip.lofter.com" target="_blank" rel="noopener">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2019/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>





<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>



<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>




<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>

    
  </div>
</body>

</html>